!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=".",n(n.s=67)}([function(e,t,n){"use strict";(function(e){var r=n(58),o=n(1),i=n(5);t.a={x:0,y:0,color:-1,brushSize:1,secondCol:-1,id:-1,init(){this.loadColors(),this.switchColor(this.color,!0),this.switchSecondColor(this.secondCol,!0)},loadColors(){this.color=+Object(i.b)("color1",-1,!0),this.secondCol=+Object(i.b)("color2",-1,!0)},switchColor(t,n=!1){this.color!==t||n?this.color=t:t=this.color=-1,o.a.fxRenderer.needRender=!0,o.a.renderer.preRender(),e(".paletteColor.selected").removeClass("selected"),-1!==t&&e("#col"+t).addClass("selected"),Object(i.c)("color1",t,!0)},switchSecondColor(t,n){this.secondCol!==t||n?this.secondCol=t:t=this.secondCol=-1,o.a.fxRenderer.needRender=!0,o.a.renderer.preRender(),e(".paletteColor.selectedSecond").removeClass("selectedSecond"),-1!==t&&e("#col"+t).addClass("selectedSecond"),Object(i.c)("color2",t,!0)},swapColors(){const e=this.color;this.switchColor(this.secondCol),this.switchSecondColor(e)},resetColors(){this.switchColor(-1),this.switchSecondColor(-1)},bucket:null,updateBucket([e,t]){this.bucket=new r.a(e,t)},placed:[],maxPlaced:isNaN(+localStorage.maxPlaced)?500:+localStorage.maxPlaced,placedCount:+Object(i.a)("placedCount",!0)||0}}).call(this,n(10))},function(e,t,n){"use strict";(function(e){var r=n(18),o=n.n(r),i=n(55),a=n(8);t.a={socket:null,chunkManager:null,renderer:null,fxRenderer:null,player:null,toolManager:null,events:new o.a,eventManager:new i.a(document.getElementById("board")),mainCtx:document.getElementById("board").getContext("2d"),fxCtx:document.getElementById("fx").getContext("2d"),mobile:Object(a.g)(),users:{},elements:{mainCanvas:e("#board")[0],fxCanvas:e("#fx")[0],palette:e("#palette")[0],online:e("#onlineCounter")[0],coords:e("#coords")[0],topMenu:e("#topMenu")[0],topMenuContent:e("#topMenu>.content")[0]}}}).call(this,n(10))},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(36);function o(e){return r.a._(e)}function i(){const t=[...document.getElementsByClassName("translate")];for(let e of t){let t=e.innerText;t=t.replace(/^[\n\s]+/,"").replace(/[\n\s]+$/,""),"lower"===e.dataset.transform&&(t=t.toLowerCase());const n=o(t);e.innerText=n}const n=e("*").filter((e,t)=>t.dataset.translate);for(let e of n)try{const t=o(e[e.dataset.translate]);e[e.dataset.translate]=t}catch(e){}}}).call(this,n(10))},function(e,t,n){"use strict";(function(e){n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"n",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"m",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"j",(function(){return m})),n.d(t,"l",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"k",(function(){return y}));var r=n(22),o=n(5);let i,a,s,l,c,u,d,f,p,h,m;const g={chatLimit:parseInt(Object(o.b)("chatLimit",100),10)};let v={};async function y(){let t;try{t=await async function(){const e=await fetch("/config.json");return await e.json()}()}catch(t){e.error("Failed to load config from server. Try to reload the page")}const n=document.location.pathname.replace(/[^\d^\w]/g,"");let o=t.canvases.findIndex(e=>e.name===n);i=-1===o?0:o;let g=t.canvases[i];a=g.name,s=g.chunkSize,l=g.boardWidth*s,c=g.boardHeight*s,u=g.palette,d=new Uint32Array(u.map(e=>Object(r.b)(...e))),f=u.map(r.c),p=g.boardWidth,h=g.boardHeight,m=g.cooldown,Array.from(d.values()).forEach((e,t)=>v[e]=t)}}).call(this,n(16))},function(e,t,n){"use strict";var r=n(1),o=n(3),i=n(18),a=n.n(i),s=n(5);const l={x:null,y:null,zoom:null,minX:null,minY:null,maxX:null,maxY:null,minZoom:.25,maxZoom:64,noMoving:!1,init(){Object.assign(this,{x:+Object(s.b)("posX",0,!0),y:+Object(s.b)("posY",0,!0),zoom:+Object(s.b)("zoom",1,!0),minX:-o.f/2,minY:-o.e/2,maxX:o.f/2,maxY:o.e/2}),(isNaN(this.x)||isNaN(this.y)||isNaN(this.zoom))&&(this.x=0,this.y=0,this.zoom=1)},centerOn(e,t){r.a.renderer.needRender=!0,this.noMoving||(this.x=e-this.maxX,this.y=t-this.maxY,this.clampPos())},moveTo(e,t){r.a.renderer.needRender=!0,this.noMoving||(this.x+=e,this.y+=t,this.clampPos())},clampPos(){this.x=Math.min(Math.max(this.x,this.minX),this.maxX),this.y=Math.min(Math.max(this.y,this.minY),this.maxY)},zoomTo(e){this.zoom=e<0?2*this.zoom|0||1:this.zoom/2,this.checkZoom(),this.emit("zoom",this.zoom),r.a.renderer.needRender=!0,r.a.fxRenderer.needRender=!0,r.a.renderer.preRender()},checkZoom(){this.zoom=Math.min(Math.max(this.zoom,this.minZoom),this.maxZoom)},disableMove(){this.noMoving=!0},enableMove(){this.noMoving=!1},__proto__:new a.a};let c,u,d;setInterval(()=>{const e=l.x,t=l.y,n=l.zoom;c!=e&&Object(s.c)("posX",e,!0),u!=t&&Object(s.c)("posY",t,!0),d!=n&&Object(s.c)("zoom",n,!0),c=e,u=t,d=n},3e3),t.a=window.camera=l},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));var r=n(3);function o(e,t,n=!1){return n&&(e=r.h+"."+e),localStorage.getItem(e)||t}function i(e,t=!1){return t&&(e=r.h+"."+e),localStorage.getItem(e)}function a(e,t,n=!1){return n&&(e=r.h+"."+e),localStorage.setItem(e,t)}},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return v})),n.d(t,"t",(function(){return y})),n.d(t,"f",(function(){return b})),n.d(t,"v",(function(){return x})),n.d(t,"i",(function(){return _})),n.d(t,"h",(function(){return k})),n.d(t,"m",(function(){return O})),n.d(t,"q",(function(){return E})),n.d(t,"o",(function(){return S})),n.d(t,"k",(function(){return j})),n.d(t,"c",(function(){return C})),n.d(t,"l",(function(){return P})),n.d(t,"j",(function(){return T})),n.d(t,"b",(function(){return M})),n.d(t,"n",(function(){return A})),n.d(t,"s",(function(){return D})),n.d(t,"r",(function(){return I})),n.d(t,"p",(function(){return R})),n.d(t,"u",(function(){return z})),n.d(t,"g",(function(){return N})),n.d(t,"e",(function(){return F})),n.d(t,"d",(function(){return B}));var o=n(14),i=n(3),a=n(0),s=n(5),l=n(9),c=n(13),u=n(1),d=n(7),f=n(19),p=n(12),h=n(23),m=(n(17),n(2)),g=n(8);async function v(t,n={}){n.body&&"object"==typeof n.body&&(n.headers||(n.headers={}),n.headers["Content-Type"]="application/json",n.body=JSON.stringify(n.body));const r=await fetch("/api"+t,n);if(r.headers.get("Content-Type")&&r.headers.get("Content-Type").includes("application/json"))try{const t=await r.json();t.errors&&t.errors.forEach(t=>{e.error(t)}),r.json=()=>t}catch(e){}return r}async function y(){const e=await async function(){const e=await v("/me");return await e.json()}();o.a.update(e),a.a.updateBucket(function(){const e=i.j;return"ADMIN"==p.b[o.a.role]?[0,32]:e[p.b[o.a.role]]||i.j.GUEST}()),e.registered?(d.b.removeAttr("disabled"),d.b.val(""),r("#chatNick").text(e.name)):(d.b.attr("disabled"),d.b.val(Object(m.b)("login to chat")),r("#chatNick").text("CHAT"))}function b(){!function(){const e=Object(s.b)("template.url","https://i.imgur.com/4GQIMQ7.png",!0);d.e.val(e);const t=Object(s.b)("template.x",0,!0);d.f.val(parseInt(t,10));const n=Object(s.b)("template.y",0,!0);d.g.val(parseInt(n,10));const r=Object(s.b)("template.opac",.5,!0);d.c.val(parseFloat(r))}(),d.e.on("input",x),d.f.on("input",x),d.g.on("input",x),d.c.on("input",x),x(),r("#accountSettings").on("click",f.a),r("#toolBinds").on("click",f.f),r("#uiSettings").on("click",f.h),r("#canvasSettings").on("click",f.c),r("#toolsB").on("click",f.g),r(document).on("keydown",e=>{if("Enter"===e.key)if(r("#chatInput").is(":focus")){const e=d.b.val();if(!e.length)return d.b.trigger("blur");d.b.val(""),h.a.handleMessage(e)}else r("#chatInput").trigger("focus")})}function w(){Object(s.c)("template.x",c.a.x,!0),Object(s.c)("template.y",c.a.y,!0),Object(s.c)("template.url",c.a.url,!0),Object(s.c)("template.opac",c.a.opacity,!0)}function x(){c.a.update(),c.a.render(),w()}function _(e,t=!0){t&&e.forEach(([e,t])=>{a.a.placed.push([e,t,u.a.chunkManager.getChunkPixel(e,t)])}),u.a.socket.sendPixels(e,!1)}function k(t,n,r,i=!0){const s=u.a.chunkManager.getChunkPixel(t,n),l=u.a.chunkManager.getProtect(t,n);s===r||l&&o.a.role!==p.a.ADMIN||!u.a.socket.connected?l&&e.error(Object(m.b)("This pixel is protected."),Object(m.b)("Error!"),{preventDuplicates:!0,timeOut:5e3}):(i&&(a.a.placed.push([t,n,u.a.chunkManager.getChunkPixel(t,n)]),a.a.placed.length>2*a.a.maxPlaced&&(a.a.placed=a.a.placed.slice(-a.a.maxPlaced))),u.a.chunkManager.setChunkPixel(t,n,r),u.a.socket.sendPixel(t,n,r),u.a.renderer.needRender=!0,u.a.fxRenderer.needRender=!0,u.a.socket.pendingPixels[t+","+n]=setTimeout(()=>{u.a.chunkManager.setChunkPixel(t,n,s),u.a.renderer.needRender=!0},3e3))}function O(){"none"===d.a.css("display")?(d.a.show(),d.a.css("left","")):(d.a.css("left",-d.a.width()-30),setTimeout(()=>d.a.hide(),500))}function E(){"none"===d.d.css("display")?(d.d.show(),d.d.css("margin-top","")):(d.d.css("margin-top",-d.d.height()-30),setTimeout(()=>d.d.hide(),500))}function S(){r("#ui").fadeToggle(100)}function j(e=!0){u.a.chunkManager.chunks.forEach(t=>{t.showProtected=e,t.needRender=!0}),u.a.renderer.needRender=!0}async function C(){const e=await v("/captcha/get");return await e.text()}async function P(e){const t=await v("/captcha/solve",{method:"POST",body:{answer:e}}),n=await t.json();return void 0!==n.success&&n.success}function T(e){e&&r(".paletteColor").css("width",e).css("height",e)}function M(e,t){let n;(n=document.getElementById("REPLACE-"+e))||(n=document.createElement("style"),n.id="REPLACE-"+e);let r=Object.keys(t).map(e=>e+":"+t[e]);n.innerText=`${e}{${r.join(";")}}`,document.head.appendChild(n)}function A(e){e?r("#emotions").show():r("#emotions").hide()}function D(e){const t=r("#emotions");let n="";for(let t of e)n+=`<div class="emotion">${t}</div>`;t.html(n),r("div",t).on("click",e=>{r("#chatInput")[0].value+=e.target.innerText,r("#chatInput").trigger("focus")})}function I(e){a.a.brushSize=+e,u.a.fxRenderer.needRender=!0,u.a.renderer.preRenderBrush(),r("#brushSizeCounter").text(e-1)}function R(e){e?r("#placedPixels").show():r("#placedPixels").hide()}function z(e,t){r("#placedPixels").text(e),t&&r("#placedPixels").attr("title",t)}let L=a.a.placedCount;function N(){r(document).on("mousedown",e=>{if(!e.ctrlKey)return;e.stopPropagation(),e.preventDefault();let t=Object(l.c)(e.clientX,e.clientY).map(e=>0|e);function n(e){e.stopPropagation(),e.preventDefault();const n=Object(l.c)(e.clientX,e.clientY);n[0]|=0,n[1]|=0;let[r,o]=n;r===t[0]&&o===t[1]||(d.f.val(c.a.x-=t[0]-r),d.g.val(c.a.y-=t[1]-o),c.a.render(),t=n,w())}r(document).on("mousemove",n),r(document).one("mouseup mouseleave",()=>{r(document).off("mousemove",n)})}),r("#modMenu .title").on("click",e=>{const t=r("#modMenu");"open"===t.data("state")?(t.data("state","close"),t.css("right",0)):(t.data("state","open"),t.css("right",r("#modMenu .body").css("width")))}),r("#sendAlerts").on("click",()=>{const e=r("#sendAlertsText").val();0==e.length||e.length>2e3||(r("#sendAlertsText").val(""),u.a.socket.sendAlert("all",e))}),r(".showMenu,.hideMenu").on("click",E),T(Object(s.a)("colorSize",!0)),A(1!=Object(s.a)("hideEmojis")),D(Object(s.b)("emojis","🙁 🤔 😀 💚").split(" ")),R(!+Object(s.b)("hidePlaced",1)),z(Object(s.a)("placedCount",!0)),r(".showChat").on("click",()=>h.a.mobileShow()),r("#hideChat").on("click",()=>h.a.mobileHide()),r(".helpBtn").on("click",()=>{Object(f.e)()}),a.a.init()}function F(){const e=Object(s.a)("colorSize",!0),t=Object(g.c)(),n=+e||t;r(".paletteColor").css("width",n).css("height",n)}function B(){const e=r("#palette").innerHeight();r("#chat").css("bottom",e+4)}setInterval(()=>{L!==a.a.placedCount&&(Object(s.c)("placedCount",a.a.placedCount,!0),L=a.a.placedCount)},3e3)}).call(this,n(16),n(10))},function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return c}));const r=e("#templateURL"),o=e("#templateX"),i=e("#templateY"),a=e("#templateOpacity"),s=(e("#ui"),e("#chat")),l=e("#chatInput"),c=(e("#template"),e("#topMenu"))}).call(this,n(10))},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return f}));var r=n(3),o=n(1);let i=[null,null];function a(){i=[r.f/2,r.e/2]}function s(){let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}function l(e){let t={alt:!1,ctrl:!1,keyCode:null};return e.split("+").forEach(e=>{"CTRL"===e?t.ctrl=!0:"ALT"===e?t.alt=!0:t.keyCode=parseInt(e)}),t}function c(e){let t="";return e.altKey&&(t+="ALT+"),e.ctrlKey&&(t+="CTRL+"),t+e.keyCode}function u(){const t=e(".column",o.a.elements.topMenuContent),n=window.innerWidth/t.length;e(".column",o.a.elements.topMenuContent).css("width",n)}function d(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function f(){const t=e("#palette");let n=Math.floor((window.innerWidth-14)/t.children().length);return n=Math.min(n,24),n}}).call(this,n(10))},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var r=n(4),o=n(1),i=n(8),a=n(3);function s(e,t){let n=(e-(o.a.renderer.canvas.width>>1))/r.a.zoom,a=(t-(o.a.renderer.canvas.height>>1))/r.a.zoom;return[0|r.a.x+i.d[0]+n,0|a+(r.a.y+i.d[1])]}function l(e,t){return e-=r.a.x+i.d[0],t-=r.a.y+i.d[1],e*=r.a.zoom,t*=r.a.zoom,e+=o.a.renderer.canvas.width>>1,t+=o.a.renderer.canvas.height>>1,[Math.floor(e),Math.floor(t)]}function c(e,t){return[e/a.i|0,t/a.i|0,e%a.i,t%a.i]}},function(e,t,n){var r;
/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(n,o){"use strict";var i=[],a=Object.getPrototypeOf,s=i.slice,l=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},c=i.push,u=i.indexOf,d={},f=d.toString,p=d.hasOwnProperty,h=p.toString,m=h.call(Object),g={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},y=function(e){return null!=e&&e===e.window},b=n.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function x(e,t,n){var r,o,i=(n=n||b).createElement("script");if(i.text=e,t)for(r in w)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function _(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[f.call(e)]||"object":typeof e}var k=function(e,t){return new k.fn.init(e,t)};function O(e){var t=!!e&&"length"in e&&e.length,n=_(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}k.fn=k.prototype={jquery:"3.5.1",constructor:k,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:i.sort,splice:i.splice},k.extend=k.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(c&&r&&(k.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[t],i=o&&!Array.isArray(n)?[]:o||k.isPlainObject(n)?n:{},o=!1,a[t]=k.extend(c,i,r)):void 0!==r&&(a[t]=r));return a},k.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==f.call(e))&&(!(t=a(e))||"function"==typeof(n=p.call(t,"constructor")&&t.constructor)&&h.call(n)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){x(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(O(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(O(Object(e))?k.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,a=[];if(O(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&a.push(o);return l(a)},guid:1,support:g}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=i[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var E=
/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
function(e){var t,n,r,o,i,a,s,l,c,u,d,f,p,h,m,g,v,y,b,w="sizzle"+1*new Date,x=e.document,_=0,k=0,O=le(),E=le(),S=le(),j=le(),C=function(e,t){return e===t&&(d=!0),0},P={}.hasOwnProperty,T=[],M=T.pop,A=T.push,D=T.push,I=T.slice,R=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",N="(?:\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+L+"*("+N+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",B=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",W=new RegExp(L+"+","g"),H=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),U=new RegExp("^"+L+"*,"+L+"*"),Y=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),q=new RegExp(L+"|>"),$=new RegExp(B),G=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+z+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,V=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){f()},ae=we((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{D.apply(T=I.call(x.childNodes),x.childNodes),T[x.childNodes.length].nodeType}catch(e){D={apply:T.length?function(e,t){A.apply(e,I.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,o){var i,s,c,u,d,h,v,y=t&&t.ownerDocument,x=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return r;if(!o&&(f(t),t=t||p,m)){if(11!==x&&(d=Q.exec(e)))if(i=d[1]){if(9===x){if(!(c=t.getElementById(i)))return r;if(c.id===i)return r.push(c),r}else if(y&&(c=y.getElementById(i))&&b(t,c)&&c.id===i)return r.push(c),r}else{if(d[2])return D.apply(r,t.getElementsByTagName(e)),r;if((i=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return D.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!j[e+" "]&&(!g||!g.test(e))&&(1!==x||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===x&&(q.test(e)||Y.test(e))){for((y=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((u=t.getAttribute("id"))?u=u.replace(re,oe):t.setAttribute("id",u=w)),s=(h=a(e)).length;s--;)h[s]=(u?"#"+u:":scope")+" "+be(h[s]);v=h.join(",")}try{return D.apply(r,y.querySelectorAll(v)),r}catch(t){j(e,!0)}finally{u===w&&t.removeAttribute("id")}}}return l(e.replace(H,"$1"),t,r,o)}function le(){var e=[];return function t(n,o){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function ce(e){return e[w]=!0,e}function ue(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce((function(t){return t=+t,ce((function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},i=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!K.test(t||n&&n.nodeName||"HTML")},f=se.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:x;return a!=p&&9===a.nodeType&&a.documentElement?(h=(p=a).documentElement,m=!i(p),x!=p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ie,!1):o.attachEvent&&o.attachEvent("onunload",ie)),n.scope=ue((function(e){return h.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ue((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(p.getElementsByClassName),n.getById=ue((function(e){return h.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=J.test(p.querySelectorAll))&&(ue((function(e){var t;h.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+L+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+L+"*(?:value|"+z+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+L+"*name"+L+"*="+L+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),ue((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+L+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=J.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",B)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=J.test(h.compareDocumentPosition),b=t||J.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},C=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==p||e.ownerDocument==x&&b(x,e)?-1:t==p||t.ownerDocument==x&&b(x,t)?1:u?R(u,e)-R(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e==p?-1:t==p?1:o?-1:i?1:u?R(u,e)-R(u,t):0;if(o===i)return fe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?fe(a[r],s[r]):a[r]==x?-1:s[r]==x?1:0},p):p},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(f(e),n.matchesSelector&&m&&!j[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){j(t,!0)}return se(t,p,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=p&&f(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=p&&f(e);var o=r.attrHandle[t.toLowerCase()],i=o&&P.call(r.attrHandle,t.toLowerCase())?o(e,t,!m):void 0;return void 0!==i?i:n.attributes||!m?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},se.escape=function(e){return(e+"").replace(re,oe)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],o=0,i=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(C),d){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(r=se.selectors={cacheLength:50,createPseudo:ce,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=O[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&O(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=se.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(W," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,p,h,m=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(i){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(b=(p=(c=(u=(d=(f=g)[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===_&&c[1])&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(b=p=0)||h.pop();)if(1===f.nodeType&&++b&&f===t){u[e]=[_,p,b];break}}else if(y&&(b=p=(c=(u=(d=(f=t)[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===_&&c[1]),!1===b)for(;(f=++p&&f&&f[m]||(b=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&((u=(d=f[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]=[_,b]),f!==t)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return o[w]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var r,i=o(e,t),a=i.length;a--;)e[r=R(e,i[a])]=!(n[r]=i[a])})):function(e){return o(e,0,n)}):o}},pseudos:{not:ce((function(e){var t=[],n=[],r=s(e.replace(H,"$1"));return r[w]?ce((function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return se(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||o(t)).indexOf(e)>-1}})),lang:ce((function(e){return G.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return V.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ge((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=he(t);function ye(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,s=k++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,l){var c,u,d,f=[_,s];if(l){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(u=(d=t[w]||(t[w]={}))[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=u[i])&&c[0]===_&&c[1]===s)return f[2]=c[2];if(u[i]=f,f[2]=e(t,n,l))return!0}return!1}}function xe(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function _e(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function ke(e,t,n,r,o,i){return r&&!r[w]&&(r=ke(r)),o&&!o[w]&&(o=ke(o,i)),ce((function(i,a,s,l){var c,u,d,f=[],p=[],h=a.length,m=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!i&&t?m:_e(m,f,e,s,l),v=n?o||(i?e:h||r)?[]:a:g;if(n&&n(g,v,s,l),r)for(c=_e(v,p),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[p[u]]=!(g[p[u]]=d));if(i){if(o||e){if(o){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);o(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=o?R(i,d):f[u])>-1&&(i[c]=!(a[c]=d))}}else v=_e(v===a?v.splice(h,v.length):v),o?o(null,a,v,l):D.apply(a,v)}))}function Oe(e){for(var t,n,o,i=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],l=a?1:0,u=we((function(e){return e===t}),s,!0),d=we((function(e){return R(t,e)>-1}),s,!0),f=[function(e,n,r){var o=!a&&(r||n!==c)||((t=n).nodeType?u(e,n,r):d(e,n,r));return t=null,o}];l<i;l++)if(n=r.relative[e[l].type])f=[we(xe(f),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[w]){for(o=++l;o<i&&!r.relative[e[o].type];o++);return ke(l>1&&xe(f),l>1&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(H,"$1"),n,l<o&&Oe(e.slice(l,o)),o<i&&Oe(e=e.slice(o)),o<i&&be(e))}f.push(n)}return xe(f)}return ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=se.tokenize=function(e,t){var n,o,i,a,s,l,c,u=E[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=r.preFilter;s;){for(a in n&&!(o=U.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),n=!1,(o=Y.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(H," ")}),s=s.slice(n.length)),r.filter)!(o=X[a].exec(s))||c[a]&&!(o=c[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):E(e,l).slice(0)},s=se.compile=function(e,t){var n,o=[],i=[],s=S[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Oe(t[n]))[w]?o.push(s):i.push(s);(s=S(e,function(e,t){var n=t.length>0,o=e.length>0,i=function(i,a,s,l,u){var d,h,g,v=0,y="0",b=i&&[],w=[],x=c,k=i||o&&r.find.TAG("*",u),O=_+=null==x?1:Math.random()||.1,E=k.length;for(u&&(c=a==p||a||u);y!==E&&null!=(d=k[y]);y++){if(o&&d){for(h=0,a||d.ownerDocument==p||(f(d),s=!m);g=e[h++];)if(g(d,a||p,s)){l.push(d);break}u&&(_=O)}n&&((d=!g&&d)&&v--,i&&b.push(d))}if(v+=y,n&&y!==v){for(h=0;g=t[h++];)g(b,w,a,s);if(i){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=M.call(l));w=_e(w)}D.apply(l,w),u&&!i&&w.length>0&&v+t.length>1&&se.uniqueSort(l)}return u&&(_=O,c=x),b};return n?ce(i):i}(i,o))).selector=e}return s},l=se.select=function(e,t,n,o){var i,l,c,u,d,f="function"==typeof e&&e,p=!o&&a(e=f.selector||e);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(i=X.needsContext.test(e)?0:l.length;i--&&(c=l[i],!r.relative[u=c.type]);)if((d=r.find[u])&&(o=d(c.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(i,1),!(e=o.length&&be(l)))return D.apply(n,o),n;break}}return(f||s(e,p))(o,t,!m,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=w.split("").sort(C).join("")===w,n.detectDuplicates=!!d,f(),n.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||de(z,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),se}(n);k.find=E,k.expr=E.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=E.uniqueSort,k.text=E.getText,k.isXMLDoc=E.isXML,k.contains=E.contains,k.escapeSelector=E.escape;var S=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&k(e).is(n))break;r.push(e)}return r},j=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},C=k.expr.match.needsContext;function P(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var T=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function M(e,t,n){return v(t)?k.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?k.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?k.grep(e,(function(e){return u.call(t,e)>-1!==n})):k.filter(t,e,n)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,(function(e){return 1===e.nodeType})))},k.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(k(e).filter((function(){for(t=0;t<r;t++)if(k.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,o[t],n);return r>1?k.uniqueSort(n):n},filter:function(e){return this.pushStack(M(this,e||[],!1))},not:function(e){return this.pushStack(M(this,e||[],!0))},is:function(e){return!!M(this,"string"==typeof e&&C.test(e)?k(e):e||[],!1).length}});var A,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||A,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:D.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),T.test(r[1])&&k.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=b.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,A=k(b);var I=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function z(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&k(e);if(!C.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?k.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?u.call(k(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return S(e,"parentNode")},parentsUntil:function(e,t,n){return S(e,"parentNode",n)},next:function(e){return z(e,"nextSibling")},prev:function(e){return z(e,"previousSibling")},nextAll:function(e){return S(e,"nextSibling")},prevAll:function(e){return S(e,"previousSibling")},nextUntil:function(e,t,n){return S(e,"nextSibling",n)},prevUntil:function(e,t,n){return S(e,"previousSibling",n)},siblings:function(e){return j((e.parentNode||{}).firstChild,e)},children:function(e){return j(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(P(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},(function(e,t){k.fn[e]=function(n,r){var o=k.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=k.filter(r,o)),this.length>1&&(R[e]||k.uniqueSort(o),I.test(e)&&o.reverse()),this.pushStack(o)}}));var L=/[^\x20\t\r\n\f]+/g;function N(e){return e}function F(e){throw e}function B(e,t,n,r){var o;try{e&&v(o=e.promise)?o.call(e).done(t).fail(n):e&&v(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return k.each(e.match(L)||[],(function(e,n){t[n]=!0})),t}(e):k.extend({},e);var t,n,r,o,i=[],a=[],s=-1,l=function(){for(o=o||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},c={add:function(){return i&&(n&&!t&&(s=i.length-1,a.push(n)),function t(n){k.each(n,(function(n,r){v(r)?e.unique&&c.has(r)||i.push(r):r&&r.length&&"string"!==_(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return k.each(arguments,(function(e,t){for(var n;(n=k.inArray(t,i,n))>-1;)i.splice(n,1),n<=s&&s--})),this},has:function(e){return e?k.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},k.extend({Deferred:function(e){var t=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return k.Deferred((function(n){k.each(t,(function(t,r){var o=v(e[r[4]])&&e[r[4]];i[r[1]]((function(){var e=o&&o.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(e,r,o){var i=0;function a(e,t,r,o){return function(){var s=this,l=arguments,c=function(){var n,c;if(!(e<i)){if((n=r.apply(s,l))===t.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,v(c)?o?c.call(n,a(i,t,N,o),a(i,t,F,o)):(i++,c.call(n,a(i,t,N,o),a(i,t,F,o),a(i,t,N,t.notifyWith))):(r!==N&&(s=void 0,l=[n]),(o||t.resolveWith)(s,l))}},u=o?c:function(){try{c()}catch(n){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(n,u.stackTrace),e+1>=i&&(r!==F&&(s=void 0,l=[n]),t.rejectWith(s,l))}};e?u():(k.Deferred.getStackHook&&(u.stackTrace=k.Deferred.getStackHook()),n.setTimeout(u))}}return k.Deferred((function(n){t[0][3].add(a(0,n,v(o)?o:N,n.notifyWith)),t[1][3].add(a(0,n,v(e)?e:N)),t[2][3].add(a(0,n,v(r)?r:F))})).promise()},promise:function(e){return null!=e?k.extend(e,o):o}},i={};return k.each(t,(function(e,n){var a=n[2],s=n[5];o[n[1]]=a.add,s&&a.add((function(){r=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),i[n[0]]=function(){return i[n[0]+"With"](this===i?void 0:this,arguments),this},i[n[0]+"With"]=a.fireWith})),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=s.call(arguments),i=k.Deferred(),a=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?s.call(arguments):n,--t||i.resolveWith(r,o)}};if(t<=1&&(B(e,i.done(a(n)).resolve,i.reject,!t),"pending"===i.state()||v(o[n]&&o[n].then)))return i.then();for(;n--;)B(o[n],a(n),i.reject);return i.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&W.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){n.setTimeout((function(){throw e}))};var H=k.Deferred();function U(){b.removeEventListener("DOMContentLoaded",U),n.removeEventListener("load",U),k.ready()}k.fn.ready=function(e){return H.then(e).catch((function(e){k.readyException(e)})),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==e&&--k.readyWait>0||H.resolveWith(b,[k]))}}),k.ready.then=H.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?n.setTimeout(k.ready):(b.addEventListener("DOMContentLoaded",U),n.addEventListener("load",U));var Y=function(e,t,n,r,o,i,a){var s=0,l=e.length,c=null==n;if("object"===_(n))for(s in o=!0,n)Y(e,t,s,n[s],!0,i,a);else if(void 0!==r&&(o=!0,v(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(k(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):i},q=/^-ms-/,$=/-([a-z])/g;function G(e,t){return t.toUpperCase()}function X(e){return e.replace(q,"ms-").replace($,G)}var K=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function V(){this.expando=k.expando+V.uid++}V.uid=1,V.prototype={cache:function(e){var t=e[this.expando];return t||(t={},K(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[X(t)]=n;else for(r in t)o[X(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(L)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||k.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var Z=new V,J=new V,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Q.test(e)?JSON.parse(e):e)}(n)}catch(e){}J.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return J.hasData(e)||Z.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Z.access(e,t,n)},_removeData:function(e,t){Z.remove(e,t)}}),k.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=J.get(i),1===i.nodeType&&!Z.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=X(r.slice(5)),te(i,r,o[r]));Z.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){J.set(this,e)})):Y(this,(function(t){var n;if(i&&void 0===t)return void 0!==(n=J.get(i,e))||void 0!==(n=te(i,e))?n:void 0;this.each((function(){J.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){J.remove(this,e)}))}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Z.get(e,t),n&&(!r||Array.isArray(n)?r=Z.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,o=n.shift(),i=k._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,(function(){k.dequeue(e,t)}),i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z.get(e,n)||Z.access(e,n,{empty:k.Callbacks("once memory").add((function(){Z.remove(e,[t+"queue",n])}))})}}),k.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?k.queue(this[0],e):void 0===t?this:this.each((function(){var n=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&k.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){k.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=k.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Z.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+ne+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ie=b.documentElement,ae=function(e){return k.contains(e.ownerDocument,e)},se={composed:!0};ie.getRootNode&&(ae=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(se)===e.ownerDocument});var le=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae(e)&&"none"===k.css(e,"display")};function ce(e,t,n,r){var o,i,a=20,s=r?function(){return r.cur()}:function(){return k.css(e,t,"")},l=s(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),u=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+l)&&re.exec(k.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)k.style(e,t,u+c),(1-i)*(1-(i=s()/l||.5))<=0&&(a=0),u/=i;u*=2,k.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=o)),o}var ue={};function de(e){var t,n=e.ownerDocument,r=e.nodeName,o=ue[r];return o||(t=n.body.appendChild(n.createElement(r)),o=k.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),ue[r]=o,o)}function fe(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(o[i]=Z.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&le(r)&&(o[i]=de(r))):"none"!==n&&(o[i]="none",Z.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}k.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){le(this)?k(this).show():k(this).hide()}))}});var pe,he,me=/^(?:checkbox|radio)$/i,ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ve=/^$|^module$|\/(?:java|ecma)script/i;pe=b.createDocumentFragment().appendChild(b.createElement("div")),(he=b.createElement("input")).setAttribute("type","radio"),he.setAttribute("checked","checked"),he.setAttribute("name","t"),pe.appendChild(he),g.checkClone=pe.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!pe.cloneNode(!0).lastChild.defaultValue,pe.innerHTML="<option></option>",g.option=!!pe.lastChild;var ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function be(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&P(e,t)?k.merge([e],n):n}function we(e,t){for(var n=0,r=e.length;n<r;n++)Z.set(e[n],"globalEval",!t||Z.get(t[n],"globalEval"))}ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td,g.option||(ye.optgroup=ye.option=[1,"<select multiple='multiple'>","</select>"]);var xe=/<|&#?\w+;/;function _e(e,t,n,r,o){for(var i,a,s,l,c,u,d=t.createDocumentFragment(),f=[],p=0,h=e.length;p<h;p++)if((i=e[p])||0===i)if("object"===_(i))k.merge(f,i.nodeType?[i]:i);else if(xe.test(i)){for(a=a||d.appendChild(t.createElement("div")),s=(ge.exec(i)||["",""])[1].toLowerCase(),l=ye[s]||ye._default,a.innerHTML=l[1]+k.htmlPrefilter(i)+l[2],u=l[0];u--;)a=a.lastChild;k.merge(f,a.childNodes),(a=d.firstChild).textContent=""}else f.push(t.createTextNode(i));for(d.textContent="",p=0;i=f[p++];)if(r&&k.inArray(i,r)>-1)o&&o.push(i);else if(c=ae(i),a=be(d.appendChild(i),"script"),c&&we(a),n)for(u=0;i=a[u++];)ve.test(i.type||"")&&n.push(i);return d}var ke=/^key/,Oe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ee=/^([^.]*)(?:\.(.+)|)/;function Se(){return!0}function je(){return!1}function Ce(e,t){return e===function(){try{return b.activeElement}catch(e){}}()==("focus"===t)}function Pe(e,t,n,r,o,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Pe(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=je;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return k().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),e.each((function(){k.event.add(this,t,o,r,n)}))}function Te(e,t,n){n?(Z.set(e,t,!1),k.event.add(e,t,{namespace:!1,handler:function(e){var r,o,i=Z.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(k.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=s.call(arguments),Z.set(this,t,i),r=n(this,t),this[t](),i!==(o=Z.get(this,t))||r?Z.set(this,t,!1):o={},i!==o)return e.stopImmediatePropagation(),e.preventDefault(),o.value}else i.length&&(Z.set(this,t,{value:k.event.trigger(k.extend(i[0],k.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Z.get(e,t)&&k.event.add(e,t,Se)}k.event={global:{},add:function(e,t,n,r,o){var i,a,s,l,c,u,d,f,p,h,m,g=Z.get(e);if(K(e))for(n.handler&&(n=(i=n).handler,o=i.selector),o&&k.find.matchesSelector(ie,o),n.guid||(n.guid=k.guid++),(l=g.events)||(l=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(L)||[""]).length;c--;)p=m=(s=Ee.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),p&&(d=k.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=k.event.special[p]||{},u=k.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&k.expr.match.needsContext.test(o),namespace:h.join(".")},i),(f=l[p])||((f=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(p,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,u):f.push(u),k.event.global[p]=!0)},remove:function(e,t,n,r,o){var i,a,s,l,c,u,d,f,p,h,m,g=Z.hasData(e)&&Z.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(L)||[""]).length;c--;)if(p=m=(s=Ee.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),p){for(d=k.event.special[p]||{},f=l[p=(r?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=f.length;i--;)u=f[i],!o&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(f.splice(i,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(e,u));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,g.handle)||k.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)k.event.remove(e,p+t[c],n,r,!0);k.isEmptyObject(l)&&Z.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,s=new Array(arguments.length),l=k.event.fix(e),c=(Z.get(this,"events")||Object.create(null))[l.type]||[],u=k.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(a=k.event.handlers.call(this,l,c),t=0;(o=a[t++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==i.namespace&&!l.rnamespace.test(i.namespace)||(l.handleObj=i,l.data=i.data,void 0!==(r=((k.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,o,i,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],a={},n=0;n<l;n++)void 0===a[o=(r=t[n]).selector+" "]&&(a[o]=r.needsContext?k(o,this).index(c)>-1:k.find(o,this,null,[c]).length),a[o]&&i.push(r);i.length&&s.push({elem:c,handlers:i})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return me.test(t.type)&&t.click&&P(t,"input")&&Te(t,"click",Se),!1},trigger:function(e){var t=this||e;return me.test(t.type)&&t.click&&P(t,"input")&&Te(t,"click"),!0},_default:function(e){var t=e.target;return me.test(t.type)&&t.click&&P(t,"input")&&Z.get(t,"click")||P(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Se:je,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:je,isPropagationStopped:je,isImmediatePropagationStopped:je,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Se,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Se,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Se,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ke.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Oe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(e,t){k.event.special[e]={setup:function(){return Te(this,e,Ce),!1},trigger:function(){return Te(this,e),!0},delegateType:t}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||k.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),k.fn.extend({on:function(e,t,n,r){return Pe(this,e,t,n,r)},one:function(e,t,n,r){return Pe(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=je),this.each((function(){k.event.remove(this,e,n,t)}))}});var Me=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,De=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ie(e,t){return P(e,"table")&&P(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Re(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ze(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,o,i,a,s;if(1===t.nodeType){if(Z.hasData(e)&&(s=Z.get(e).events))for(o in Z.remove(t,"handle events"),s)for(n=0,r=s[o].length;n<r;n++)k.event.add(t,o,s[o][n]);J.hasData(e)&&(i=J.access(e),a=k.extend({},i),J.set(t,a))}}function Ne(e,t){var n=t.nodeName.toLowerCase();"input"===n&&me.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Fe(e,t,n,r){t=l(t);var o,i,a,s,c,u,d=0,f=e.length,p=f-1,h=t[0],m=v(h);if(m||f>1&&"string"==typeof h&&!g.checkClone&&Ae.test(h))return e.each((function(o){var i=e.eq(o);m&&(t[0]=h.call(this,o,i.html())),Fe(i,t,n,r)}));if(f&&(i=(o=_e(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(s=(a=k.map(be(o,"script"),Re)).length;d<f;d++)c=o,d!==p&&(c=k.clone(c,!0,!0),s&&k.merge(a,be(c,"script"))),n.call(e[d],c,d);if(s)for(u=a[a.length-1].ownerDocument,k.map(a,ze),d=0;d<s;d++)c=a[d],ve.test(c.type||"")&&!Z.access(c,"globalEval")&&k.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?k._evalUrl&&!c.noModule&&k._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):x(c.textContent.replace(De,""),c,u))}return e}function Be(e,t,n){for(var r,o=t?k.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||k.cleanData(be(r)),r.parentNode&&(n&&ae(r)&&we(be(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,i,a,s=e.cloneNode(!0),l=ae(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=be(s),r=0,o=(i=be(e)).length;r<o;r++)Ne(i[r],a[r]);if(t)if(n)for(i=i||be(e),a=a||be(s),r=0,o=i.length;r<o;r++)Le(i[r],a[r]);else Le(e,s);return(a=be(s,"script")).length>0&&we(a,!l&&be(e,"script")),s},cleanData:function(e){for(var t,n,r,o=k.event.special,i=0;void 0!==(n=e[i]);i++)if(K(n)){if(t=n[Z.expando]){if(t.events)for(r in t.events)o[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[Z.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return Y(this,(function(e){return void 0===e?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Fe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ie(this,e).appendChild(e)}))},prepend:function(){return Fe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ie(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(be(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return k.clone(this,e,t)}))},html:function(e){return Y(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Me.test(e)&&!ye[(ge.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(be(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Fe(this,arguments,(function(t){var n=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(be(this)),n&&n.replaceChild(t,this))}),e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){k.fn[e]=function(e){for(var n,r=[],o=k(e),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),k(o[a])[t](n),c.apply(r,n.get());return this.pushStack(r)}}));var We=new RegExp("^("+ne+")(?!px)[a-z%]+$","i"),He=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Ue=function(e,t,n){var r,o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];for(o in r=n.call(e),t)e.style[o]=i[o];return r},Ye=new RegExp(oe.join("|"),"i");function qe(e,t,n){var r,o,i,a,s=e.style;return(n=n||He(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ae(e)||(a=k.style(e,t)),!g.pixelBoxStyles()&&We.test(a)&&Ye.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function $e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(c).appendChild(u);var e=n.getComputedStyle(u);r="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",a=36===t(e.right),o=36===t(e.width),u.style.position="absolute",i=12===t(u.offsetWidth/3),ie.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var r,o,i,a,s,l,c=b.createElement("div"),u=b.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,k.extend(g,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,r,o;return null==s&&(e=b.createElement("table"),t=b.createElement("tr"),r=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",r.style.height="9px",ie.appendChild(e).appendChild(t).appendChild(r),o=n.getComputedStyle(t),s=parseInt(o.height)>3,ie.removeChild(e)),s}}))}();var Ge=["Webkit","Moz","ms"],Xe=b.createElement("div").style,Ke={};function Ve(e){var t=k.cssProps[e]||Ke[e];return t||(e in Xe?e:Ke[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;n--;)if((e=Ge[n]+t)in Xe)return e}(e)||e)}var Ze=/^(none|table(?!-c[ea]).+)/,Je=/^--/,Qe={position:"absolute",visibility:"hidden",display:"block"},et={letterSpacing:"0",fontWeight:"400"};function tt(e,t,n){var r=re.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function nt(e,t,n,r,o,i){var a="width"===t?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=k.css(e,n+oe[a],!0,o)),r?("content"===n&&(l-=k.css(e,"padding"+oe[a],!0,o)),"margin"!==n&&(l-=k.css(e,"border"+oe[a]+"Width",!0,o))):(l+=k.css(e,"padding"+oe[a],!0,o),"padding"!==n?l+=k.css(e,"border"+oe[a]+"Width",!0,o):s+=k.css(e,"border"+oe[a]+"Width",!0,o));return!r&&i>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-s-.5))||0),l}function rt(e,t,n){var r=He(e),o=(!g.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),i=o,a=qe(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(We.test(a)){if(!n)return a;a="auto"}return(!g.boxSizingReliable()&&o||!g.reliableTrDimensions()&&P(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===k.css(e,"boxSizing",!1,r),(i=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+nt(e,t,n||(o?"border":"content"),i,r,a)+"px"}function ot(e,t,n,r,o){return new ot.prototype.init(e,t,n,r,o)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=X(t),l=Je.test(t),c=e.style;if(l||(t=Ve(s)),a=k.cssHooks[t]||k.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:c[t];"string"===(i=typeof n)&&(o=re.exec(n))&&o[1]&&(n=ce(e,t,o),i="number"),null!=n&&n==n&&("number"!==i||l||(n+=o&&o[3]||(k.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var o,i,a,s=X(t);return Je.test(t)||(t=Ve(s)),(a=k.cssHooks[t]||k.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=qe(e,t,r)),"normal"===o&&t in et&&(o=et[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),k.each(["height","width"],(function(e,t){k.cssHooks[t]={get:function(e,n,r){if(n)return!Ze.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?rt(e,t,r):Ue(e,Qe,(function(){return rt(e,t,r)}))},set:function(e,n,r){var o,i=He(e),a=!g.scrollboxSize()&&"absolute"===i.position,s=(a||r)&&"border-box"===k.css(e,"boxSizing",!1,i),l=r?nt(e,t,r,s,i):0;return s&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-nt(e,t,"border",!1,i)-.5)),l&&(o=re.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=k.css(e,t)),tt(0,n,l)}}})),k.cssHooks.marginLeft=$e(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(qe(e,"marginLeft"))||e.getBoundingClientRect().left-Ue(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(e,t){k.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+oe[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(k.cssHooks[e+t].set=tt)})),k.fn.extend({css:function(e,t){return Y(this,(function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=He(e),o=t.length;a<o;a++)i[t[a]]=k.css(e,t[a],!1,r);return i}return void 0!==n?k.style(e,t,n):k.css(e,t)}),e,t,arguments.length>1)}}),k.Tween=ot,ot.prototype={constructor:ot,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(k.cssNumber[n]?"":"px")},cur:function(){var e=ot.propHooks[this.prop];return e&&e.get?e.get(this):ot.propHooks._default.get(this)},run:function(e){var t,n=ot.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ot.propHooks._default.set(this),this}},ot.prototype.init.prototype=ot.prototype,ot.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[Ve(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},ot.propHooks.scrollTop=ot.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=ot.prototype.init,k.fx.step={};var it,at,st=/^(?:toggle|show|hide)$/,lt=/queueHooks$/;function ct(){at&&(!1===b.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ct):n.setTimeout(ct,k.fx.interval),k.fx.tick())}function ut(){return n.setTimeout((function(){it=void 0})),it=Date.now()}function dt(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=oe[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function ft(e,t,n){for(var r,o=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function pt(e,t,n){var r,o,i=0,a=pt.prefilters.length,s=k.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=it||ut(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),i=0,a=c.tweens.length;i<a;i++)c.tweens[i].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:t,originalOptions:n,startTime:it||ut(),duration:n.duration,tweens:[],createTween:function(t,n){var r=k.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,r,o,i,a;for(n in e)if(o=t[r=X(n)],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=k.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}(u,c.opts.specialEasing);i<a;i++)if(r=pt.prefilters[i].call(c,e,u,c.opts))return v(r.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return k.map(u,ft,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,re.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(L);for(var n,r=0,o=e.length;r<o;r++)n=e[r],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,i,a,s,l,c,u,d="width"in t||"height"in t,f=this,p={},h=e.style,m=e.nodeType&&le(e),g=Z.get(e,"fxshow");for(r in n.queue||(null==(a=k._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always((function(){f.always((function(){a.unqueued--,k.queue(e,"fx").length||a.empty.fire()}))}))),t)if(o=t[r],st.test(o)){if(delete t[r],i=i||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[r])continue;m=!0}p[r]=g&&g[r]||k.style(e,r)}if((l=!k.isEmptyObject(t))||!k.isEmptyObject(p))for(r in d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=g&&g.display)&&(c=Z.get(e,"display")),"none"===(u=k.css(e,"display"))&&(c?u=c:(fe([e],!0),c=e.style.display||c,u=k.css(e,"display"),fe([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===k.css(e,"float")&&(l||(f.done((function(){h.display=c})),null==c&&(u=h.display,c="none"===u?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=Z.access(e,"fxshow",{display:c}),i&&(g.hidden=!m),m&&fe([e],!0),f.done((function(){for(r in m||fe([e]),Z.remove(e,"fxshow"),p)k.style(e,r,p[r])}))),l=ft(m?g[r]:0,r,f),r in g||(g[r]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(le).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=k.isEmptyObject(e),i=k.speed(t,n,r),a=function(){var t=pt(this,k.extend({},e),i);(o||Z.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",i=k.timers,a=Z.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&lt.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||k.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Z.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=k.timers,a=r?r.length:0;for(n.finish=!0,k.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(e,t){var n=k.fn[t];k.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(dt(t,!0),e,r,o)}})),k.each({slideDown:dt("show"),slideUp:dt("hide"),slideToggle:dt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){k.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(it=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),it=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){at||(at=!0,ct())},k.fx.stop=function(){at=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,t){return e=k.fx&&k.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,r){var o=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(o)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var ht,mt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return Y(this,k.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){k.removeAttr(this,e)}))}}),k.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?k.prop(e,t,n):(1===i&&k.isXMLDoc(e)||(o=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&P(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(L);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=mt[t]||k.find.attr;mt[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=mt[a],mt[a]=o,o=null!=n(e,t,r)?a:null,mt[a]=i),o}}));var gt=/^(?:input|select|textarea|button)$/i,vt=/^(?:a|area)$/i;function yt(e){return(e.match(L)||[]).join(" ")}function bt(e){return e.getAttribute&&e.getAttribute("class")||""}function wt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(L)||[]}k.fn.extend({prop:function(e,t){return Y(this,k.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[k.propFix[e]||e]}))}}),k.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&k.isXMLDoc(e)||(t=k.propFix[t]||t,o=k.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||vt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,l=0;if(v(e))return this.each((function(t){k(this).addClass(e.call(this,t,bt(this)))}));if((t=wt(e)).length)for(;n=this[l++];)if(o=bt(n),r=1===n.nodeType&&" "+yt(o)+" "){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(s=yt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,l=0;if(v(e))return this.each((function(t){k(this).removeClass(e.call(this,t,bt(this)))}));if(!arguments.length)return this.attr("class","");if((t=wt(e)).length)for(;n=this[l++];)if(o=bt(n),r=1===n.nodeType&&" "+yt(o)+" "){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(s=yt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):v(e)?this.each((function(n){k(this).toggleClass(e.call(this,n,bt(this),t),t)})):this.each((function(){var t,o,i,a;if(r)for(o=0,i=k(this),a=wt(e);t=a[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=bt(this))&&Z.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Z.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+yt(bt(n))+" ").indexOf(t)>-1)return!0;return!1}});var xt=/\r/g;k.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=v(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,k(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=k.map(o,(function(e){return null==e?"":e+""}))),(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=k.valHooks[o.type]||k.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(xt,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:yt(k.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?i+1:o.length;for(r=i<0?l:a?i:0;r<l;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!P(n.parentNode,"optgroup"))){if(t=k(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,o=e.options,i=k.makeArray(t),a=o.length;a--;)((r=o[a]).selected=k.inArray(k.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=k.inArray(k(e).val(),t)>-1}},g.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),g.focusin="onfocusin"in n;var _t=/^(?:focusinfocus|focusoutblur)$/,kt=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,r,o){var i,a,s,l,c,u,d,f,h=[r||b],m=p.call(e,"type")?e.type:e,g=p.call(e,"namespace")?e.namespace.split("."):[];if(a=f=s=r=r||b,3!==r.nodeType&&8!==r.nodeType&&!_t.test(m+k.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[k.expando]?e:new k.Event(m,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:k.makeArray(t,[e]),d=k.event.special[m]||{},o||!d.trigger||!1!==d.trigger.apply(r,t))){if(!o&&!d.noBubble&&!y(r)){for(l=d.delegateType||m,_t.test(l+m)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(r.ownerDocument||b)&&h.push(s.defaultView||s.parentWindow||n)}for(i=0;(a=h[i++])&&!e.isPropagationStopped();)f=a,e.type=i>1?l:d.bindType||m,(u=(Z.get(a,"events")||Object.create(null))[e.type]&&Z.get(a,"handle"))&&u.apply(a,t),(u=c&&a[c])&&u.apply&&K(a)&&(e.result=u.apply(a,t),!1===e.result&&e.preventDefault());return e.type=m,o||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),t)||!K(r)||c&&v(r[m])&&!y(r)&&((s=r[c])&&(r[c]=null),k.event.triggered=m,e.isPropagationStopped()&&f.addEventListener(m,kt),r[m](),e.isPropagationStopped()&&f.removeEventListener(m,kt),k.event.triggered=void 0,s&&(r[c]=s)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each((function(){k.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),g.focusin||k.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){k.event.simulate(t,e.target,k.event.fix(e))};k.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,o=Z.access(r,t);o||r.addEventListener(e,n,!0),Z.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=Z.access(r,t)-1;o?Z.access(r,t,o):(r.removeEventListener(e,n,!0),Z.remove(r,t))}}}));var Ot=n.location,Et={guid:Date.now()},St=/\?/;k.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+e),t};var jt=/\[\]$/,Ct=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;function Mt(e,t,n,r){var o;if(Array.isArray(t))k.each(t,(function(t,o){n||jt.test(e)?r(e,o):Mt(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)}));else if(n||"object"!==_(t))r(e,t);else for(o in t)Mt(e+"["+o+"]",t[o],n,r)}k.param=function(e,t){var n,r=[],o=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,(function(){o(this.name,this.value)}));else for(n in e)Mt(n,e[n],t,o);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Tt.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!me.test(e))})).map((function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}})):{name:t.name,value:n.replace(Ct,"\r\n")}})).get()}});var At=/%20/g,Dt=/#.*$/,It=/([?&])_=[^&]*/,Rt=/^(.*?):[ \t]*([^\r\n]*)$/gm,zt=/^(?:GET|HEAD)$/,Lt=/^\/\//,Nt={},Ft={},Bt="*/".concat("*"),Wt=b.createElement("a");function Ht(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(L)||[];if(v(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Ut(e,t,n,r){var o={},i=e===Ft;function a(s){var l;return o[s]=!0,k.each(e[s]||[],(function(e,s){var c=s(t,n,r);return"string"!=typeof c||i||o[c]?i?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),l}return a(t.dataTypes[0])||!o["*"]&&a("*")}function Yt(e,t){var n,r,o=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&k.extend(!0,e,r),e}Wt.href=Ot.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ot.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ot.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Yt(Yt(e,k.ajaxSettings),t):Yt(k.ajaxSettings,e)},ajaxPrefilter:Ht(Nt),ajaxTransport:Ht(Ft),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,o,i,a,s,l,c,u,d,f,p=k.ajaxSetup({},t),h=p.context||p,m=p.context&&(h.nodeType||h.jquery)?k(h):k.event,g=k.Deferred(),v=k.Callbacks("once memory"),y=p.statusCode||{},w={},x={},_="canceled",O={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=Rt.exec(i);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?i:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)O.always(e[O.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||_;return r&&r.abort(t),E(0,t),this}};if(g.promise(O),p.url=((e||p.url||Ot.href)+"").replace(Lt,Ot.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(L)||[""],null==p.crossDomain){l=b.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Wt.protocol+"//"+Wt.host!=l.protocol+"//"+l.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=k.param(p.data,p.traditional)),Ut(Nt,p,t,O),c)return O;for(d in(u=k.event&&p.global)&&0==k.active++&&k.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!zt.test(p.type),o=p.url.replace(Dt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(At,"+")):(f=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(St.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(It,"$1"),f=(St.test(o)?"&":"?")+"_="+Et.guid+++f),p.url=o+f),p.ifModified&&(k.lastModified[o]&&O.setRequestHeader("If-Modified-Since",k.lastModified[o]),k.etag[o]&&O.setRequestHeader("If-None-Match",k.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&O.setRequestHeader("Content-Type",p.contentType),O.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Bt+"; q=0.01":""):p.accepts["*"]),p.headers)O.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(h,O,p)||c))return O.abort();if(_="abort",v.add(p.complete),O.done(p.success),O.fail(p.error),r=Ut(Ft,p,t,O)){if(O.readyState=1,u&&m.trigger("ajaxSend",[O,p]),c)return O;p.async&&p.timeout>0&&(s=n.setTimeout((function(){O.abort("timeout")}),p.timeout));try{c=!1,r.send(w,E)}catch(e){if(c)throw e;E(-1,e)}}else E(-1,"No Transport");function E(e,t,a,l){var d,f,b,w,x,_=t;c||(c=!0,s&&n.clearTimeout(s),r=void 0,i=l||"",O.readyState=e>0?4:0,d=e>=200&&e<300||304===e,a&&(w=function(e,t,n){for(var r,o,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==l[0]&&l.unshift(i),n[i]}(p,O,a)),!d&&k.inArray("script",p.dataTypes)>-1&&(p.converters["text script"]=function(){}),w=function(e,t,n,r){var o,i,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=u.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=u.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=c[l+" "+i]||c["* "+i]))for(o in c)if((s=o.split(" "))[1]===i&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(i=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}(p,w,O,d),d?(p.ifModified&&((x=O.getResponseHeader("Last-Modified"))&&(k.lastModified[o]=x),(x=O.getResponseHeader("etag"))&&(k.etag[o]=x)),204===e||"HEAD"===p.type?_="nocontent":304===e?_="notmodified":(_=w.state,f=w.data,d=!(b=w.error))):(b=_,!e&&_||(_="error",e<0&&(e=0))),O.status=e,O.statusText=(t||_)+"",d?g.resolveWith(h,[f,_,O]):g.rejectWith(h,[O,_,b]),O.statusCode(y),y=void 0,u&&m.trigger(d?"ajaxSuccess":"ajaxError",[O,p,d?f:b]),v.fireWith(h,[O,_]),u&&(m.trigger("ajaxComplete",[O,p]),--k.active||k.event.trigger("ajaxStop")))}return O},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],(function(e,t){k[t]=function(e,n,r,o){return v(n)&&(o=o||r,r=n,n=void 0),k.ajax(k.extend({url:e,type:t,dataType:o,data:n,success:r},k.isPlainObject(e)&&e))}})),k.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),k._evalUrl=function(e,t,n){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,n)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){k(this).wrapInner(e.call(this,t))})):this.each((function(){var t=k(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){k(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var qt={0:200,1223:204},$t=k.ajaxSettings.xhr();g.cors=!!$t&&"withCredentials"in $t,g.ajax=$t=!!$t,k.ajaxTransport((function(e){var t,r;if(g.cors||$t&&!e.crossDomain)return{send:function(o,i){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(qt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout((function(){t&&r()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),k.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),k.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,o){t=k("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Gt,Xt=[],Kt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||k.expando+"_"+Et.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",(function(e,t,r){var o,i,a,s=!1!==e.jsonp&&(Kt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Kt,"$1"+o):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||k.error(o+" was not called"),a[0]},e.dataTypes[0]="json",i=n[o],n[o]=function(){a=arguments},r.always((function(){void 0===i?k(n).removeProp(o):n[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(o)),a&&v(i)&&i(a[0]),a=i=void 0})),"script"})),g.createHTMLDocument=((Gt=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Gt.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(r)):t=b),i=!n&&[],(o=T.exec(e))?[t.createElement(o[1])]:(o=_e([e],t,i),i&&i.length&&k(i).remove(),k.merge([],o.childNodes)));var r,o,i},k.fn.load=function(e,t,n){var r,o,i,a=this,s=e.indexOf(" ");return s>-1&&(r=yt(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&k.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){i=arguments,a.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,i||[e.responseText,t,e])}))}),this},k.expr.pseudos.animated=function(e){return k.grep(k.timers,(function(t){return e===t.elem})).length},k.offset={setOffset:function(e,t,n){var r,o,i,a,s,l,c=k.css(e,"position"),u=k(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),i=k.css(e,"top"),l=k.css(e,"left"),("absolute"===c||"fixed"===c)&&(i+l).indexOf("auto")>-1?(a=(r=u.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),v(t)&&(t=t.call(e,n,k.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):("number"==typeof d.top&&(d.top+="px"),"number"==typeof d.left&&(d.left+="px"),u.css(d))}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){k.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),o.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-k.css(r,"marginTop",!0),left:t.left-o.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||ie}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;k.fn[e]=function(r){return Y(this,(function(e,r,o){var i;if(y(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o}),e,r,arguments.length)}})),k.each(["top","left"],(function(e,t){k.cssHooks[t]=$e(g.pixelPosition,(function(e,n){if(n)return n=qe(e,t),We.test(n)?k(e).position()[t]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){k.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===i?"margin":"border");return Y(this,(function(t,n,o){var i;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?k.css(t,n,s):k.style(t,n,o,s)}),t,a?o:void 0,a)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){k.fn[t]=function(e){return this.on(t,e)}})),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){k.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Vt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;k.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=s.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||k.guid++,o},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=P,k.isFunction=v,k.isWindow=y,k.camelCase=X,k.type=_,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(Vt,"")},void 0===(r=function(){return k}.apply(t,[]))||(e.exports=r);var Zt=n.jQuery,Jt=n.$;return k.noConflict=function(e){return n.$===k&&(n.$=Jt),e&&n.jQuery===k&&(n.jQuery=Zt),k},void 0===o&&(n.jQuery=n.$=k),k}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a}));const r={chunk:0,place:1,online:2,canvas:3,pixels:4,captcha:5},o={error:"e",userJoin:"u",userLeave:"l",subscribeChat:"s",chatMessage:"c",alert:"a",me:"m",reload:"r"};function i(e,t,n){return(e<<12|t)<<7|n}function a(e){return[e>>>19,e>>>7&4095,127&e]}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));const r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",106:"*",107:"+",109:"-",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={BANNED:-1,USER:0,TRUSTED:1,MOD:2,ADMIN:3},i={};Object.keys(o).forEach(e=>i[o[e]]=e)},function(e,t,n){"use strict";var r=n(4),o=n(8),i=n(7);let a=window.innerWidth/2,s=window.innerHeight/2;window.addEventListener("resize",()=>{a=window.innerWidth/2,s=window.innerHeight/2});const l=/width=(\d+)$/;t.a={element:document.getElementById("template"),x:0,y:0,render(){let e=r.a.x+o.d[0]-this.x-a/r.a.zoom,t=r.a.y+o.d[1]-this.y-s/r.a.zoom;e*=r.a.zoom,t*=r.a.zoom,this.element.style.left=-e+"px",this.element.style.top=-t+"px",this.element.style.transform="scale("+r.a.zoom+","+r.a.zoom+")"},update(){this.x=parseInt(i.f.val(),10),this.y=parseInt(i.g.val(),10),this.element.style.opacity=i.c.val();const e=i.e.val();let t;(t=e.match(l))?this.element.style.width=t[1]+"px":this.element.style.width="unset",this.element.src=e},get url(){return i.e.val()},get opacity(){return+i.c.val()},set opacity(e){i.c.val(e)}}},function(e,t,n){"use strict";(function(e){var r=n(12);t.a={registered:!1,name:null,id:null,role:r.a.USER,update(t){switch(this.registered=t.registered,t.registered&&(this.name=t.name,this.role=t.role,this.id=t.id),this.role){case r.a.USER:e(".admin").hide(),e(".mod").hide();break;case r.a.ADMIN:e(".admin").show();case r.a.MOD:e(".mod").show()}}}}).call(this,n(10))},function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)o(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){var t,n,r,o,i,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),o=0,t=0,n=e.length;t<n;t++)i=e[t],a.set(i,o),o+=i.length;return a}},a={arraySet:function(e,t,n,r,o){for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},function(e,t,n){var r,o;n(29),r=[n(10)],void 0===(o=function(e){return function(){var t,n,r,o=0,i="error",a="info",s="success",l="warning",c={clear:function(n,r){var o=h();t||u(o),d(n,o,r)||function(n){for(var r=t.children(),o=r.length-1;o>=0;o--)d(e(r[o]),n)}(o)},remove:function(n){var r=h();t||u(r),n&&0===e(":focus",n).length?m(n):t.children().length&&t.remove()},error:function(e,t,n){return p({type:i,iconClass:h().iconClasses.error,message:e,optionsOverride:n,title:t})},getContainer:u,info:function(e,t,n){return p({type:a,iconClass:h().iconClasses.info,message:e,optionsOverride:n,title:t})},options:{},subscribe:function(e){n=e},success:function(e,t,n){return p({type:s,iconClass:h().iconClasses.success,message:e,optionsOverride:n,title:t})},version:"2.1.4",warning:function(e,t,n){return p({type:l,iconClass:h().iconClasses.warning,message:e,optionsOverride:n,title:t})}};return c;function u(n,r){return n||(n=h()),(t=e("#"+n.containerId)).length||r&&(t=function(n){return(t=e("<div/>").attr("id",n.containerId).addClass(n.positionClass)).appendTo(e(n.target)),t}(n)),t}function d(t,n,r){var o=!(!r||!r.force)&&r.force;return!(!t||!o&&0!==e(":focus",t).length||(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){m(t)}}),0))}function f(e){n&&n(e)}function p(n){var i=h(),a=n.iconClass||i.iconClass;if(void 0!==n.optionsOverride&&(i=e.extend(i,n.optionsOverride),a=n.optionsOverride.iconClass||a),!function(e,t){if(e.preventDuplicates){if(t.message===r)return!0;r=t.message}return!1}(i,n)){o++,t=u(i,!0);var s=null,l=e("<div/>"),c=e("<div/>"),d=e("<div/>"),p=e("<div/>"),g=e(i.closeHtml),v={intervalId:null,hideEta:null,maxHideTime:null},y={toastId:o,state:"visible",startTime:new Date,options:i,map:n};return n.iconClass&&l.addClass(i.toastClass).addClass(a),function(){if(n.title){var e=n.title;i.escapeHtml&&(e=b(n.title)),c.append(e).addClass(i.titleClass),l.append(c)}}(),function(){if(n.message){var e=n.message;i.escapeHtml&&(e=b(n.message)),d.append(e).addClass(i.messageClass),l.append(d)}}(),i.closeButton&&(g.addClass(i.closeClass).attr("role","button"),l.prepend(g)),i.progressBar&&(p.addClass(i.progressClass),l.prepend(p)),i.rtl&&l.addClass("rtl"),i.newestOnTop?t.prepend(l):t.append(l),function(){var e="";switch(n.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}l.attr("aria-live",e)}(),l.hide(),l[i.showMethod]({duration:i.showDuration,easing:i.showEasing,complete:i.onShown}),i.timeOut>0&&(s=setTimeout(w,i.timeOut),v.maxHideTime=parseFloat(i.timeOut),v.hideEta=(new Date).getTime()+v.maxHideTime,i.progressBar&&(v.intervalId=setInterval(k,10))),i.closeOnHover&&l.hover(_,x),!i.onclick&&i.tapToDismiss&&l.click(w),i.closeButton&&g&&g.click((function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),i.onCloseClick&&i.onCloseClick(e),w(!0)})),i.onclick&&l.click((function(e){i.onclick(e),w()})),f(y),i.debug&&console&&console.log(y),l}function b(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function w(t){var n=t&&!1!==i.closeMethod?i.closeMethod:i.hideMethod,r=t&&!1!==i.closeDuration?i.closeDuration:i.hideDuration,o=t&&!1!==i.closeEasing?i.closeEasing:i.hideEasing;if(!e(":focus",l).length||t)return clearTimeout(v.intervalId),l[n]({duration:r,easing:o,complete:function(){m(l),clearTimeout(s),i.onHidden&&"hidden"!==y.state&&i.onHidden(),y.state="hidden",y.endTime=new Date,f(y)}})}function x(){(i.timeOut>0||i.extendedTimeOut>0)&&(s=setTimeout(w,i.extendedTimeOut),v.maxHideTime=parseFloat(i.extendedTimeOut),v.hideEta=(new Date).getTime()+v.maxHideTime)}function _(){clearTimeout(s),v.hideEta=0,l.stop(!0,!0)[i.showMethod]({duration:i.showDuration,easing:i.showEasing})}function k(){var e=(v.hideEta-(new Date).getTime())/v.maxHideTime*100;p.width(e+"%")}}function h(){return e.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},c.options)}function m(e){t||(t=u()),e.is(":visible")||(e.remove(),e=null,0===t.children().length&&(t.remove(),r=void 0))}}()}.apply(t,r))||(e.exports=o)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(10),o=n.n(r),i=n(57);n(68);const a=document.createElement("div");a.style.cssText=`\n    width: 80px;\n    height: 80px;\n    line-height: 80px;\n    text-align: center;\n    border: solid 2px white;\n    border-radius: 50%;\n    opacity: .5;\n    position: absolute;\n    z-index: 8;\n    bottom: 10px;\n    right: 10px;\n    background-color: red;\n    color: white;\n    font-size: 68px;\n    padding-left: 3px; /* костыль из-за кривой иконки мусорки */\n    display: none;\n    user-select: none;\n    transition: all .2s ease;\n    background-image: url(${i.a});\n`;let s=document.createElement("div");s.style.cssText="\n    opacity: .1;\n    width: 300px;\n    height: 300px;\n    position: absolute;\n    border-radius: 50%;\n    z-index: 7;\n    bottom: -100px;\n    right: -100px;\n    background-color: red;\n    display: none;\n",a.onpointerenter=s.onpointerenter=()=>{a.style.opacity="1"},a.onpointerleave=s.onpointerleave=()=>{a.style.opacity=".5"};let l=[];window.windows=l;class c{static Exists(e){return l.some(t=>t.title===e)}static Find(e){return l.find(t=>t.title===e)}constructor(e){"string"==typeof e&&(e={title:e}),this.created=!1,this.x=0,this.y=0,this.title="",this.parent=document.body,this.moveable=!0,this.closeable=!0,this.closed=!1,this.center=!1,Object.assign(this,e),c.Exists(this.title)?this.oldWindow=c.Find(this.title):(this.created=!0,this.block||(this.block=this.createParentBlock(),this.moveTo(this.x,this.y),this.parent.appendChild(this.block)),this.center&&(this.moveToCenter(),setTimeout(()=>this.moveToCenter())),this.addFeatures(),l.push(this))}createParentBlock(){let e=document.createElement("div");e.className="window",this.element=e;let t=document.createElement("div");if(t.className="windowHeader",t.innerHTML="<h3>"+this.title+"</h3>",e.appendChild(t),this.closeable){const e=document.createElement("div");e.className="closeWindow",e.innerHTML="<div></div>",e.addEventListener("pointerdown",e=>{e.stopPropagation()}),e.addEventListener("click",this.close.bind(this)),t.appendChild(e)}let n=document.createElement("div");return n.className="windowBody",e.appendChild(n),this.body=n,e}moveTo(e,t){const n=this.block.getBoundingClientRect(),r=n.width,o=n.height;this.x=Math.max(10-r,e),this.y=Math.max(10-o,t),this.x=Math.min(window.innerWidth-10,this.x),this.y=Math.min(window.innerHeight-10,this.y),this.block.style.left=this.x+"px",this.block.style.top=this.y+"px"}moveBy(e,t){this.moveTo(this.x+e,this.y+t)}moveToCenter(){let e=window.innerWidth,t=window.innerHeight,n=this.block.offsetWidth,r=this.block.offsetHeight;this.moveTo(e/2-n/2,t/2-r/2)}addFeatures(){if(this.moveable){const t=window.devicePixelRatio||1;e(this.block).on("pointerdown",()=>{let e=this;function n(n){let r=(n=n.originalEvent).movementX/t,o=n.movementY/t;e.moveBy(r,o)}o()(document).on("pointermove",n),this.closeable&&(a.style.display="block",s.style.display="block",o()([a,s]).one("pointerup",()=>{this.close()})),o()(document).one("pointerup pointerleave",()=>{a.style.display="none",s.style.display="none",o()([a,s]).off("pointerup"),o()(document).off("pointermove",n)})}),e(this.body).on("pointerdown",e=>{e.stopPropagation()})}window.addEventListener("orientationchange",()=>{setTimeout(()=>{this.moveTo(this.x,this.y)},500)})}close(){o()(this.block).remove(),this.closed=!0,l.splice(l.indexOf(this),1)}}}).call(this,n(10))},function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var o,i,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=c(e))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function d(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,e))}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=d.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):m(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var c=l.length,u=m(l,c);for(n=0;n<c;++n)i(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,o,i,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return x})),n.d(t,"a",(function(){return k})),n.d(t,"f",(function(){return O})),n.d(t,"h",(function(){return E})),n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return j})),n.d(t,"g",(function(){return C})),n.d(t,"e",(function(){return T}));var r=n(12),o=n(2),i=n(17),a=n(8),s=n(3),l=n(1),c=n(14),u=n(0),d=n(6),f=n(16),p=n.n(f),h=n(20),m=n(23),g=n(5),v=n(38),y=n(39),b=n(60),w=n(27);function x(t=[]){const n=e('<table class="columnTable"></table>');return t.forEach(([t,r])=>{let o=e(`\n                <tr>\n                    ${void 0===r?`<td colspan="2">${t}</td>`:`<td>${t}</td>\n                        <td>${r}</td>`}\n                </tr>`);n.append(o)}),n}function _(e){return r.c[e]||String.fromCharCode(e)}function k(){const t=new i.a({title:Object(o.b)("Account Settings"),center:!0});if(!t.created)return;let n=x([[Object(o.b)("role"),r.b[c.a.role].toUpperCase()],[Object(w.a)(Object(o.b)("account settings")),'<input type="text" id="name" style="width:50%"><button id="changeName">yes</button>'],[`<button id="logout">${Object(o.b)("logout")}</button>`]]);e(t.body).append(n),e("#name").val(c.a.name),e("#changeName").on("click",()=>{const t=e("#name").val();return c.a.registered?t.length<0||t.length>32?p.a.error("Name length is not 0 < length < 32","Name change"):c.a.name===t?p.a.error("Name is the same as was","Name change"):void fetch("/api/changename",{method:"POST",body:JSON.stringify({name:t}),headers:{"Content-Type":"application/json"}}).then(async e=>{const t=await e.json();t.errors.length?t.errors.map(e=>{p.a.error(e,"Name change error")}):(l.a.socket.close(),p.a.success("Name successfully changed"),Object(d.t)())}):p.a.error("Hey wtf","0_o")}),e("#logout").on("click",async()=>{if(c.a.registered){const e=await Object(d.a)("/auth/logout");await e.json()?location.pathname="/":p.a.error("Can't log out")}})}function O(){const t=new i.a({title:Object(w.a)(Object(o.b)("toolbinds settings")),center:!0});if(!t.created)return;let n=x();for(const t of Object.values(h.a)){if(!t.key)continue;const r=e(`<tr>\n            <td>${t.name}</td>\n            <td>\n                <span id="MODS-${t.name}"></span>\n                <input id="KEY-${t.name}" class="key" style="width:130px">\n            </td>\n        </tr>`);n.append(r);const o=e("input",r),i=e("span",r);o.on("keydown",n=>{if(n.preventDefault(),!n.keyCode||17===n.keyCode||18===n.keyCode)return;const r=n.altKey,a=n.ctrlKey;let s="";i.text(""),r&&(i.text("ALT + "),s+="ALT+"),a&&(i.text(i.text()+"CTRL + "),s+="CTRL+"),s+=n.keyCode,o.val(_(n.keyCode));for(let n of Object.values(h.a))t.name!=n.name&&n.key==s&&(e("#MODS-"+n.name).text(""),e("#KEY-"+n.name).val(""));l.a.toolManager.changeKey(t,s)}),o.on("keyup",e=>{if(e.preventDefault(),!e.keyCode||17===e.keyCode||18===e.keyCode)return;let t={};for(const e of Object.values(h.a))e.key&&(t[e.name]=e.key);Object(g.c)("keyBinds",JSON.stringify(t))});const s=Object(a.b)(t.key);i.text((s.alt?"ALT + ":"")+(s.ctrl?"CTRL + ":"")),o.val(_(s.keyCode))}e(t.body).append(n)}function E(){const t=new i.a({title:Object(w.a)(Object(o.b)("ui settings")),center:!0});if(!t.created)return;const n=x([[Object(o.b)("colors size"),'<input type="range" min="16", max="64" step="1" id="colSize"><div style="width:50px;"><div>'],[Object(o.b)("hide emojis"),'<input type="checkbox" id="toggleEmojis">'],[Object(o.b)("emoji list"),'<input type="text" id="emojiList">'],[`<button id="moreEmojis">${Object(o.b)("super secret button")}</button>`],[Object(o.b)("show placed pixels"),'<input type="checkbox" id="togglePlaced">']]);e(t.body).append(n);const r=Object(g.b)("colorSize",24,!0);e("#colSize").next().text(r),e("#colSize").val(r),e("#colSize").on("input",(function(){const t=e("#colSize").val();Object(d.j)(t),e("#colSize").next().text(t+"px"),Object(g.c)("colorSize",t,!0),Object(d.d)()})),e("#toggleEmojis")[0].checked=1==Object(g.a)("hideEmojis"),e("#toggleEmojis").on("click",e=>{const t=!e.target.checked;Object(g.c)("hideEmojis",t?0:1),Object(d.n)(t)}),e("#emojiList").val(Object(g.b)("emojis","🙁 🤔 😀 💚")),e("#emojiList").on("change",e=>{Object(g.c)("emojis",e.target.value),Object(d.s)(e.target.value.split(" "))}),e("#moreEmojis").on("click",()=>{const e=new i.a(Object(o.b)("more emojis!"));e.created&&(e.body.innerHTML="😁😂😃😄😅😆😉😊😋😌😍😏😒😓😔😖😘😚😜😝😞😠😡😢😣😤😥😨😩😪😫😭😰😱😲😳😵😷😸😹😺😻😼😽😾😿🙀🙅🙆🙇🙈🙉🙊🙋🙌🙍🙎🙏✂✅✈✉✊✋✌✏✒✔✖✨✳✴❄❇❌❎❓❔❕❗❤➕➖➗➡➰🚀🚃🚄🚅🚇🚉🚌🚏🚑🚒🚓🚕🚗🚙🚚🚢🚤🚥🚧🚨🚩🚪🚫🚬🚭🚲🚶🚹🚺🚻🚼🚽🚾🛀Ⓜ🅰🅱🅾🅿🆎🆑🆒🆓🆔🆕🆖🆗🆘🆙🆚🈁🈂🈚🈯🈲🈳🈴🈵🈶🈷🈸🈹🈺🉐🉑©®‼⁉™ℹ↔↕↖↗↘↙↩↪⌚⌛⏩⏪⏫⏬⏰⏳▪▫▶◀◻◼◽◾☀☁☎☑☔☕☝☺♈♉♊♋♌♍♎♏♐♑♒♓♠♣♥♦♨♻♿⚓⚠⚡⚪⚫⚽⚾⛄⛅⛎⛔⛪⛲⛳⛵⛺⛽⤴⤵⬅⬆⬇⬛⬜⭐⭕〰〽㊗㊙🀄🃏🌀🌁🌂🌃🌄🌅🌆🌇🌈🌉🌊🌋🌌🌏🌑🌓🌔🌕🌙🌛🌟🌠🌰🌱🌴🌵🌷🌸🌹🌺🌻🌼🌽🌾🌿🍀🍁🍂🍃🍄🍅🍆🍇🍈🍉🍊🍌🍍🍎🍏🍑🍒🍓🍔🍕🍖🍗🍘🍙🍚🍛🍜🍝🍞🍟🍠🍡🍢🍣🍤🍥🍦🍧🍨🍩🍪🍫🍬🍭🍮🍯🍰🍱🍲🍳🍴🍵🍶🍷🍸🍹🍺🍻🎀🎁🎂🎃🎄🎅🎆🎇🎈🎉🎊🎋🎌🎍🎎🎏🎐🎑🎒🎓🎠🎡🎢🎣🎤🎥🎦🎧🎨🎩🎪🎫🎬🎭🎮🎯🎰🎱🎲🎳🎴🎵🎶🎷🎸🎹🎺🎻🎼🎽🎾🎿🏀🏁🏂🏃🏄🏆🏈🏊🏠🏡🏢🏣🏥🏦🏧🏨🏩🏪🏫🏬🏭🏮🏯🏰🐌🐍🐎🐑🐒🐔🐗🐘🐙🐚🐛🐜🐝🐞🐟🐠🐡🐢🐣🐤🐥🐦🐧🐨🐩🐫🐬🐭🐮🐯🐰🐱🐲🐳🐴🐵🐶🐷🐸🐹🐺🐻🐼🐽🐾👀👂👃👄👅👆👇👈👉👊👋👌👍👎👏👐👑👒👓👔👕👖👗👘👙👚👛👜👝👞👟👠👡👢👣👤👦👧👨👩👪👫👮👯👰👱👲👳👴👵👶👷👸👹👺👻👼👽👾👿💀💁💂💃💄💅💆💇💈💉💊💋💌💍💎💏💐💑💒💓💔💕💖💗💘💙💚💛💜💝💞💟💠💡💢💣💤💥💦💧💨💩💪💫💬💮💯💰💱💲💳💴💵💸💹💺💻💼💽💾💿📀📁📂📃📄📅📆📇📈📉📊📋📌📍📎📏📐📑📒📓📔📕📖📗📘📙📚📛📜📝📞📟📠📡📢📣📤📥📦📧📨📩📪📫📮📰📱📲📳📴📶📷📹📺📻📼🔃🔊🔋🔌🔍🔎🔏🔐🔑🔒🔓🔔🔖🔗🔘🔙🔚🔛🔜🔝🔞🔟🔠🔡🔢🔣🔤🔥🔦🔧🔨🔩🔪🔫🔮🔯🔰🔱🔲🔳🔴🔵🔶🔷🔸🔹🔺🔻🔼🔽🕐🕑🕒🕓🕔🕕🕖🕗🕘🕙🕚🕛🗻🗼🗽🗾🗿😀😇😈😎😐😑😕😗😙😛😟😦😧😬😮😯😴😶🚁🚂🚆🚈🚊🚍🚎🚐🚔🚖🚘🚛🚜🚝🚞🚟🚠🚡🚣🚦🚮🚯🚰🚱🚳🚴🚵🚷🚸🚿🛁🛂🛃🛄🛅🌍🌎🌐🌒🌖🌗🌘🌚🌜🌝🌞🌲🌳🍋🍐🍼🏇🏉🏤🐀🐁🐂🐃🐄🐅🐆🐇🐈🐉🐊🐋🐏🐐🐓🐕🐖🐪👥👬👭💭💶💷📬📭📯📵🔀🔁🔂🔄🔅🔆🔇🔉🔕🔬🔭🕜🕝🕞🕟🕠🕡🕢🕣🕤🕥🕦🕧",e.body.style.userSelect="text")}),e("#togglePlaced")[0].checked=0==Object(g.b)("hidePlaced",1),e("#togglePlaced").on("click",e=>{const t=e.target.checked;Object(g.c)("hidePlaced",t?0:1),Object(d.p)(t)})}function S(){const t=new i.a({title:Object(w.a)(Object(o.b)("game settings")),center:!0});if(!t.created)return;let n=c.a.role===r.a.ADMIN?20:c.a.role<=r.a.USER?1:10;const a=x([[Object(o.b)("show protected"),`<input type="checkbox" id="showProtected" ${s.l.showProtected?"checked":""}>`],[Object(o.b)("brush size"),`<input type="checkbox" id="customBrushSize" ${u.a.brushSize>1?"checked":""}>\n            <input id="brushSize" type="range" value="${u.a.brushSize}" `+(1==u.a.brushSize?"disabled":"")+' min="2" '+`max="${n}" step="2">`+`<span id="brushSizeCounter">${u.a.brushSize-1}<span>`],[Object(o.b)("max saved pixels"),`<input id="savePixelsInp" type="number" min="0" value="${u.a.maxPlaced}" style="width:4rem">`],[Object(o.b)("disable chat colors"),`<input type="checkbox" id="disableChatColors" ${m.a.colorsEnabled?"":"checked"}>`],[Object(o.b)("chat messages limit"),`<input type="number" id="chatLimit" value="${s.l.chatLimit}" title="maximum messages in chat">`],[Object(o.b)("light grid"),`<input type="checkbox" id="lightGridCB" ${h.a.grid.isLight?"checked":""} title="will grid be light?">`],[Object(o.b)("enable grid"),`<input type="checkbox" id="enableGridCB" ${1==h.a.grid.state?"checked":""}>`]]);e(t.body).append(a),e("#showProtected").on("change",e=>{const t=e.target.checked;s.l.showProtected=t,Object(d.k)(t)}),e("#customBrushSize").on("change",t=>{t.target.checked?(e("#brushSize").removeAttr("disabled"),Object(d.r)(e("#brushSize").val())):(e("#brushSize").attr("disabled"),Object(d.r)(1))}),e("#brushSize").on("input",e=>{Object(d.r)(e.target.value)}),e("#savePixelsInp").on("change",e=>{+(e=e.target).value<0&&(e.value=0),u.a.maxPlaced=+e.value,Object(g.c)("maxPlaced",u.a.maxPlaced)}),e("#disableChatColors").on("change",e=>{const t=e.target.checked;Object(g.c)("disableColors",t.toString()),m.a.setColors(!t)}),e("#chatLimit").on("change",e=>{const t=parseInt(e.target.value,10);isNaN(t)||t<1||(Object(g.c)("chatLimit",t.toString()),s.l.chatLimit=t)}),e("#lightGridCB").on("change",e=>{const t=e.target.checked;Object(g.c)("lightGrid",t.toString()),h.a.grid.isLight=t}),e("#enableGridCB").on("change",e=>{const t=e.target.checked;Object(g.c)("enableGrid",t.toString()),t?h.a.grid.show():h.a.grid.hide()})}async function j(){let t,n=new i.a({title:Object(o.b)("Captcha"),center:!0,closeable:!1});if(n.created){const[t,r,i]=e(`<div>${Object(o.b)("Case insensitive, 0/o i/l are same")}. <a href="#">${Object(o.b)("Can't recognize?")}</a></div><div class="captchaContainer"></div><input class="fullWidthInput" type="text"></input>`);t.children[0].onclick=j;const[a]=e(`<div style="display:flex;justify-content:center">${Object(o.b)("Captcha").toUpperCase()}:&nbsp;&nbsp;</div>`);a.appendChild(i),n.body.appendChild(t),n.body.appendChild(r),n.body.appendChild(a),i.addEventListener("keydown",async e=>{if("Enter"===e.key){if(0==i.value.length)return;let e=i.value;i.value="";await Object(d.l)(e)?n.close():j()}})}else n=n.oldWindow;try{t=await Object(d.c)()}catch(e){return console.error("error downloading captcha image: "+e),l.a.socket.close(),n.close()}t=t.replace('stroke="black"','stroke="white"'),e(".captchaContainer",n.body).html(t),n.moveToCenter(),e("input",n.body).trigger("focus")}function C(){const t=new i.a({title:Object(w.a)(Object(o.b)("tools")),center:!0});if(!t.created)return;const n=x([[`<button id="searchUsersB">${Object(o.b)("search users")}</button>`]]);e(t.body).append(n),e("#searchUsersB",n).on("click",()=>{const t=new i.a({title:Object(w.a)(Object(o.b)("search users")),center:!0});if(!t.created)return;const n=x([[`<input type="text" placeholder="nickname" id="userSearchText" max="32" style="width:250px"> ${Object(o.b)("OR")} <input type="text" placeholder="id" id="userSearchId" max="32" style="width:50px"><input type="checkbox" id="searchIsBanned"><label for="searchIsBanned">${Object(o.b)("banned?")}</label>`],['<div id="searchUsersBody">']]);console.log(n),e(t.body).append(n);const r=e("#userSearchText");function s(t){if(!t||!t.length)return void e("#searchUsersBody").html("");let n=document.createElement("table");n.className="innerTable",n.innerHTML+="<tr><th>NICK</th><th>ID</th><th>ROLE</th><th>&nbsp;</th></tr>";for(let r of t){const t=Object(a.e)(r.name),o=document.createElement("button");o.className="userInfoBtn",o.innerHTML=`<img src="${y.a}">`,o.addEventListener("click",async()=>{const e=await Object(d.a)("/userInfo?id="+r.id),t=await e.json();await v.a.CreateWindow(t)});const i=e(`<tr>\n                        <td>${t}</td><td>${r.id}</td><td>${r.role}</td><td></td>\n                    </tr>`);i[0].lastElementChild.appendChild(o),n.appendChild(i[0])}e("#searchUsersBody").html(n)}async function l(e,t,n){if(!n&&!e&&!t)return;if(e&&t)return;e&&(e=encodeURIComponent(e));const r=await Object(d.a)(`/admin/users/search?isBanned=${n?1:0}&${t?"id="+t:"t="+e}`);return await r.json()}e("#userSearchId").on("input",async t=>{let n=t.target.value.trim();if(n=+n,isNaN(n)||n<1||n>Number.MAX_SAFE_INTEGER)return;const r=e("#searchIsBanned")[0].checked;s(await l(null,n,r))}),e("#userSearchText").on("input",async t=>{let n=r.val().trim();n=n.slice(0,32);const o=e("#searchIsBanned")[0].checked;s(await l(n,null,o))})})}function P(t,n,r=!0){const o=e("<div>");o[0].style.cssText="width: 100%;\n    height: 30px;\n    background-color: #5f5f5f;\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    user-select: none;\n    cursor: pointer",o.append(`<div style="font-size:20px;text-transform:uppercase;">${t}</div>`);const i=e("<div>");i[0].style.cssText=`position: absolute;\n    top: 50%;\n    transform: translate(0, -50%);\n    left: 5px;\n    background-image: url(${b.a});\n    background-size: 100%;\n    background-repeat: no-repeat;\n    transition: transform .2s ease-in-out;\n    width: 20px;\n    height: 20px;`,o.append(i);const a=e("<div>");a[0].style.cssText="max-height: 0;\n    overflow: hidden;\n    transition: max-height 0.3s linear;\n    font-size: 17px",a.html(n);const s=e("<div>");s[0].style.cssText="margin-bottom: 1px;",s.append(o,a);let l=0;function c(){l?(i.css("transform","translate(0px, -50%) rotate(0deg)"),a.css("max-height",0)):(i.css("transform","translate(0px, -50%) rotate(180deg)"),a.css("max-height",e(a)[0].scrollHeight)),l=!l}return r||setTimeout(c),o.on("click",c),s}function T(){const t=new i.a({title:Object(o.b)("help"),center:!0});if(!t.created)return;t.body.style.width="90vw",t.body.style.height="90vh",t.body.style.fontSize="15px";const n=P(Object(o.b)("Introduciton"),`${Object(o.b)("Goroxels is a multiplayer pixel game with no cooldown! (ok, almost)")}<br>\n    ${Object(o.b)("There are so many tools for make drawing more comfortable!")}<br>\n    ${Object(o.b)("Any Guest of this site can draw, but to get some features (ability to chat with other players, more lower cooldown) you should be registered.")}`,!1),r=P(Object(o.b)("How to play?"),`${Object(o.b)("Very simple: you should pick color you need from palette (with pipette or just click) and place the pixel on canvas with LMB.")}<br>\n    ${Object(o.b)("You can use in-game clicker to place more pixels at time.")}`),a=P(Object(o.b)("Tools"),`${Object(o.b)("Tools Goroxels have:")}<br><br>\n    ${Object(o.b)("Clicker. You need to hold whitespace and move your mouse to use it.")}<br>\n    ${Object(o.b)("In the future, it will stop to place pixels continuously to protect arts.")}<br>\n    ${Object(o.b)("Registred and Trusted users can draw with more lower cooldown than Guest users.")}<br>\n    ${Object(o.b)("You can quickly switch colors with [A] (previous color) и [S] (next color).")}<br>\n    ${Object(o.b)("You can also pick color from the canvas using pipette with [C].")}<br>\n    ${Object(o.b)("And so, brush size can be controlled (unavailable to Guests) with help of [ ] keys.")}<br>\n    ${Object(o.b)("Straight lines are so important to make art. You can use them with help of your mouse and [Shift].")}<br>\n    ${Object(o.b)("And so, the most important tool - Floodfill. [F], it helps so much to fill area with color. Hold this key for preview. If everything suits you, click [F] again.")}<br>\n    ${Object(o.b)("If you need to quickly reset color(s), click RMB on canvas.")}<br>\n    ${Object(o.b)("For grid use [G].")}<br>\n    ${Object(o.b)("If you placed the pixel(s) wrong, use [Z] (you can switch it to Ctrl+Z) for rollback. Keep holding Z to rollback all your wrong pixels (you can change amount of max saved pixels with Settings).")}<br>`),s=P(Object(o.b)("Other tools"),`${Object(o.b)('Multicolour support - brush can draw with a "chess style".')}<br>\n    ${Object(o.b)("Second color can be picked with [Alt+C]. If you picked colors in a wrong order, it is not a big problem - press [X] to reverse it.")}<br>\n    ${Object(o.b)("Hide a upper menu with [L], hide the chat with [K], and hide all an UI: [;].")}<br>\n    ${Object(o.b)("You can paste your picture on the canvas using [Ctrl+V] (only for Registered users); maybe in the future this tool can only be used by Moderators.")}<br>\n    ${Object(o.b)("Click [U] to send coords to the chat. Coords in the chat are able to click.")}<br>\n    ${Object(o.b)("Template can be managed with opacity switching tools [O] (your opacity (X) to 0) or from your opacity to max opacity [P].")}<br>\n    ${Object(o.b)("Other tools are tools for testing or can be only used by Moderators.")}`),l=P(Object(o.b)("Template"),`${Object(o.b)('Yes, in the Goroxels you can draw by following template! Put image on the canvas with "image URL".')}<br>\n    ${Object(o.b)('When loading a picture, there are can be some troubles. I reccomend to put your picture on <a href="//imgur.com">imgur.com</a>.')}<br>\n    ${Object(o.b)("You can change coordinates by yourself (X and Y), or with help of a dragging (hold [Ctrl]).")}<br>\n    ${Object(o.b)('Convert images to the Goroxels palette with <a href="/convert">Converter</a>. You can also convert image and draw, using a pattern convert!')}<br>\n    ${Object(o.b)('Recommendations: first, convert to the palette, copy converted image and paste it in the pattern converter. When it ready, click "upload on imgur" and copy link you get to the "image URL". Patterns will make your drawing process more relaxing and enjoyable!')}<br>\n    ${Object(o.b)("If url is red, image you picked is so big. Try to cut your image with parts.")}`);e(t.body).append(n,r,a,s,l)}}).call(this,n(10))},function(e,t,n){"use strict";var r=n(18),o=n.n(r);class i extends o.a{constructor(e,t=null,n=null){super(),this.name=e,this.icon=n,this.key=t?t.toString():void 0}}var a=n(1),s=n(24),l=n(26),c=n(9),u=n(0),d=n(21),f=n(3),p=n(4),h=n(7),m=n(6),g=n(12),v=n.p+"/img/clicker.png",y=n.p+"/img/move.png",b=n.p+"/img/floodfill.png",w=n.p+"/img/line.png",x=n.p+"/img/protect.png",_=n.p+"/img/revert.png",k=n(13),O=n(14),E=n(22),S=n(5);const j=a.a.mobile;function C(e,t){return a.a.chunkManager.getChunkPixel(e,t)}function P(e,t){return a.a.chunkManager.getProtect(e,t)}function T(e,t){return(e+t)%2==0}function M(){return-1===u.a.secondCol?~u.a.color?u.a.color:-1:-1===u.a.color?u.a.secondCol:T(u.a.x,u.a.y)?u.a.color:u.a.secondCol}function A(e,t,n=u.a.color,r=u.a.secondCol){return-1===r?n:-1===n?r:T(e,t)?n:r}function D(e,t){return e>=0&&e<f.f&&t>=0&&t<f.e}let I=!1,R=setInterval(()=>{a.a.toolManager&&(clearInterval(R),I=!0,z.forEach(e=>e(a.a.toolManager)),z=[])},5),z=[];function L(e){I?e(a.a.toolManager):z.push(e)}let N=[];function F(e,t){a.a.fxRenderer?a.a.fxRenderer.add(e,t):N.push([e,t])}function B(e){a.a.fxRenderer.remove(e)}let W=setInterval(()=>{if(a.a.fxRenderer){clearInterval(W);for(let[e,t]of N)F(e,t);N=[]}},5);function H(){a.a.fxRenderer.needRender=!0}class U extends i{constructor(...e){super(...e),this._pendingPixels={},this.minZoom=2,this.on("down",this.down),this.on("up",this.up),this.on("move",this.move),this.on("leave",this.up),L(()=>{j||(a.a.eventManager.on("mousedown",this.mousedown.bind(this)),a.a.eventManager.on("mouseup",this.mouseup.bind(this)))}),this.clrInterval=setInterval(()=>{this.clearPending()&&H()},250),this.fx=new d.a(this.render.bind(this))}mousedown(e){0===e.button&&(this.screenPos=[e.clientX,e.clientY])}mouseup(e){if(0!==e.button)return;const t=Math.abs(e.clientX-this.screenPos[0]),n=Math.abs(e.clientY-this.screenPos[1]);if(t>5||n>5)return;const[r,o]=[u.a.x,u.a.y],i=A(r,o);this.checkPixel(r,o)&&~i&&Object(m.h)(u.a.x,u.a.y,A(r,o))}down(e){this.lastPos=[u.a.x,u.a.y],this.screenPos=[e.clientX,e.clientY],this.mouseIsDown||p.a.zoom<this.minZoom||(this.mouseIsDown=!0,j||this.emit("move",{}))}up(e){this.mouseIsDown&&(j&&this.emit("move",{},!0),this.mouseIsDown=!1)}checkPixel(e,t){const n=`${e},${t}`,r=A(e,t),o=C(e,t),i=P(e,t);if(!(o===r||-1===o||i&&O.a.role<g.a.MOD||this._pendingPixels[n]&&this._pendingPixels[n][0]===r))return this._pendingPixels[n]=[r,Date.now()],!0}move(e,t=!1){if(e.gesture&&(this.lastPos=null),!this.mouseIsDown||e.gesture||-1===M())return;const n=e.clientX,r=e.clientY;if(Math.abs(n-this.screenPos[0])<5&&Math.abs(r-this.screenPos[1])<5&&!t)return;let[o,i]=[u.a.x,u.a.y],l=s.a.line(this.lastPos[0],this.lastPos[1],o,i);this.lastPos=[o,i];let c=[[0,0]];1!==u.a.brushSize&&(c=a.a.renderer.preRendered.brush.circle);for(let[e,t]of l){let n=[];if(!this.checkAllowance(c.length))return;c.forEach(([r,o])=>{let i=e+r,a=t+o;if(this.checkPixel(i,a)){const e=A(i,a);n.push([i,a,e])}}),this.place(n)}}checkAllowance(e){return!(u.a.bucket.allowance<e)}place(e){0!==e.length&&(u.a.bucket.spend(e.length),1==e.length?Object(m.h)(...e[0]):Object(m.i)(e))}render(e){const t=p.a.zoom;e.lineWidth=t/5,e.globalAlpha=.5;for(let n of Object.keys(this._pendingPixels)){let[r,o]=n.split(",").map(e=>parseInt(e,10));const i=this._pendingPixels[n][0];e.strokeStyle="#000000",e.fillStyle=f.m[i];const[a,s]=Object(c.b)(r,o);e.strokeRect(a,s,t,t)}return e.globalAlpha=1,1}clearPending(){let e=!1;return Object.keys(this._pendingPixels).forEach(t=>{let n=this._pendingPixels[t][1];Date.now()-n>500&&(delete this._pendingPixels[t],e=!0)}),e}}const Y=new U("clicker",32,v);class q extends U{constructor(...e){super(...e),this.minZoom=1,this._alt=!1,this._mobileIsProtect=null}getProtectState(){return j?this._mobileIsProtect:!this._alt}mousedown(){}mouseup(){}down(e){this.mouseIsDown||(this.mouseIsDown=!0,super.down(e),Object(m.k)(),this._mobileIsProtect=!P(...this.lastPos))}checkPixel(e,t){const n=`${e},${t}`,r=this.getProtectState();if(P(e,t)!==r&&(!this._pendingPixels[n]||this._pendingPixels[n][0]!==r))return this._pendingPixels[n]=[r,Date.now()],!0}checkAllowance(){return!0}place(e){const t=this.getProtectState();e.forEach(e=>e[2]=t),function(e){a.a.socket.sendPixels(e,!0)}(e)}render(){}}const $=new q("protector","V".charCodeAt(),x),G=new q("alt protector","ALT+"+"V".charCodeAt());G._alt=!0;const X=new class extends i{constructor(...e){super(...e),this.handlers(),this.downPos=[0,0],this.lastPos=[0,0],this.lastPlayerPos=[0,0],j||(this.fx=new d.a(this.renderCursor),F(this.fx))}handlers(){L(()=>{this.on("down",this.down),this.on("up",this.up),a.a.toolManager.on("move",this.move.bind(this)),this.on("leave",this.up)})}renderCursor(e){const t=p.a.zoom,n=M();if(~n&&t>1)if(1==u.a.brushSize){let r,o,[i,a]=Object(c.b)(u.a.x,u.a.y);e.strokeStyle=f.m[n],e.lineWidth=t/5;let s=e.lineWidth/2;i+=s,a+=s,r=t-e.lineWidth,o=r,e.strokeRect(i,a,r+1,o+1)}else{const[t,n]=Object(c.b)(u.a.x-u.a.brushSize/2,u.a.y-u.a.brushSize/2);e.drawImage(a.a.renderer.preRendered.brush.canvas,t,n)}return 1}down(e){e.ctrlKey||(this.mousedown=!0,Object(m.b)("#ui>div>*",{"pointer-events":"none"}),j||(this.downPos=this.lastPos=[e.clientX,e.clientY]))}up(e){e.ctrlKey||(this.mousedown=!1,Object(m.b)("#ui>div>*",{"pointer-events":"all"}),!j&&this.moveThresold()&&"mouseleave"!==e.type&&e instanceof MouseEvent&&e.button)}move(e){e.ctrlKey||((this.lastPlayerPos[0]!=u.a.x||this.lastPlayerPos[1]!=u.a.y||this.mousedown)&&H(),this.lastPlayerPos=[u.a.x,u.a.y],this.mousedown&&(!j&&(this.lastPos=[e.clientX,e.clientY],this.moveThresold())||p.a.moveTo(-e.movementX/p.a.zoom/devicePixelRatio,-e.movementY/p.a.zoom/devicePixelRatio)))}moveThresold(){return Math.abs(this.downPos[0]-this.lastPos[0])<5&&Math.abs(this.downPos[1]-this.lastPos[1])<5}}("mover",null,y);const K=new class extends i{constructor(...e){super(...e),this.on("up",this.up),this.on("down",this.down),this.on("leave",this.up),this.on("tick",this.tick),this.previewing=!1,this.fx=null,this.prevStack=[]}up(e,t){if(this.active)return void(this.active=!1);if(!this.previewing)return;if(this.fx.remove(),this.previewing=!1,t)return;const n=Object(c.c)(e.clientX,e.clientY);-1!==A(...n)&&Object(l.b)(...n)&&"mouseleave"!==e.type&&(this.active=!0,this.stack=[[u.a.x,u.a.y]],this.playerCol=u.a.color,this.secondPlayerCol=u.a.secondCol,this.fillingCol=C(u.a.x,u.a.y))}down(e){if(e.repeat||this.previewing||this.active)return;const t=Object(c.c)(e.clientX,e.clientY);if(-1===A(...t)||!Object(l.b)(...t))return;let n,r;i.apply(this),this.showedPixels=[],this.fillingCol=C(u.a.x,u.a.y);let o=new d.a(function(e){if(a.a.mobile&&a.a.toolManager.tool!==this)return this.up({},!0),1;u.a.x==n&&u.a.y==r||i.call(this);let t=0;for(let e=0;e<700&&0==t;e++)t=s.call(this);return e.strokeWidth=p.a.zoom,e.clearRect(0,0,window.innerWidth,window.innerHeight),this.showedPixels.forEach((t,n)=>{let[r,o]=t.split(",").map(e=>parseInt(e,10)),i=1,a=this.showedPixels.length;if(a>=100&&n<a/2&&(i=1-(a/2-n)/(a/2),i<=0))return;e.globalAlpha=i;const s=A(r,o,this.playerCol,this.secondPlayerCol);e.strokeStyle=f.m[s];let[l,u]=Object(c.b)(r,o);e.strokeRect(l,u,p.a.zoom,p.a.zoom)}),t}.bind(this));function i(){this.prevStack=[[u.a.x,u.a.y]],this.showedPixels=[],n=u.a.x,r=u.a.y,this.playerCol=u.a.color,this.secondPlayerCol=u.a.secondCol,this.fillingCol=C(u.a.x,u.a.y)}function s(){if(!this.prevStack.length)return 1;let[e,t]=this.prevStack.pop(),n=A(e,t,this.playerCol,this.secondPlayerCol),r=C(e,t);if(-1!==this.showedPixels.indexOf(e+","+t)||r===n||r!==this.fillingCol||!Object(l.b)(e,t))return 0;this.showedPixels.push(e+","+t);let o=this.checkP(e,t-1),i=this.checkP(e,t+1),a=this.checkP(e-1,t),s=this.checkP(e+1,t);return o&&a&&this.checkP(e-1,t-1),o&&s&&this.checkP(e+1,t-1),i&&a&&this.checkP(e-1,t+1),i&&s&&this.checkP(e+1,t+1),0}F(o,0),this.fx=o,this.previewing=!0}checkP(e,t){return C(e,t)===this.fillingCol&&(this.prevStack.unshift([e,t]),!0)}tick(){if(this.active){for(let e=0;e<15&&this.stack.length&&u.a.bucket.spend(1);e++){let[e,t]=this.stack.pop(),n=A(e,t,this.playerCol,this.secondPlayerCol),r=C(e,t);if(r===n||r!==this.fillingCol||!Object(l.b)(e,t))continue;let o=this.check(e,t-1),i=this.check(e,t+1),a=this.check(e-1,t),s=this.check(e+1,t);o&&a&&this.check(e-1,t-1),o&&s&&this.check(e+1,t-1),i&&a&&this.check(e-1,t+1),i&&s&&this.check(e+1,t+1),Object(m.h)(e,t,n)}return this.stack.length?void 0:this.active=!1}}check(e,t){return C(e,t)===this.fillingCol&&(this.stack.unshift([e,t]),!0)}}("floodfill","F".charCodeAt(),b);class V extends i{constructor(...e){super(...e),j||this.on("down",this.down)}down(e){const t=C(u.a.x,u.a.y);-1!==t&&(e.__alt?u.a.switchSecondColor(t):u.a.switchColor(t),H())}mobileDown(){this.downCord=[u.a.x,u.a.y],this.downTime=Date.now()}mobileUp(){u.a.x,u.a.y,Date.now();this.downCord=null,this.downTime=null}}const Z=new V("pipette","C".charCodeAt()),J=new V("alt pipette","ALT+"+"C".charCodeAt());J.off("down",J.down),J.on("down",e=>{e.__alt=!0,J.down.call(J,e)});const Q=new class extends i{constructor(...e){super(...e),L(()=>{this.handlers()})}handlers(){let e,t,n,r,o,i,l=[],h=!1;function g(){h||(h=!0,e=[u.a.x,u.a.y],[o,i]=[u.a.color,u.a.secondCol])}function v(r){if(r.gesture)return h=!1,e=null;if(h&&e)if(t=[u.a.x,u.a.y],-1!==u.a.color||-1!==u.a.secondCol){if(t[0]!=l[0]||t[1]!=l[1]){l=t;const r=s.a.line(...e,...t);n&&B(n),n=new d.a(e=>{e.globalAlpha=.5,r.forEach(([t,n])=>{const r=A(t,n);e.fillStyle=f.m[r];let[o,i]=Object(c.b)(t,n);e.fillRect(o,i,p.a.zoom,p.a.zoom)}),e.strokeStyle="#000000",e.strokeWidth=p.a.zoom/5;const t=Object(c.b)(...r[0]),n=Object(c.b)(...r[r.length-1]);return e.beginPath(),e.lineCap="round",e.moveTo(...t.map(e=>e+p.a.zoom/2)),e.lineTo(...n.map(e=>e+p.a.zoom/2)),e.stroke(),e.globalAlpha=1,1}),F(n)}}else n&&B(n)}function y(){this.off("tick",b),h=!1,e&&(n&&n.remove(),t||(t=[u.a.x,u.a.y]),r=s.a.line(...e,...t),H(),this.on("tick",b))}function b(){for(-1===u.a.color&&-1===u.a.secondCol&&(r=null);;){if(!r||!r.length)return void this.off("tick",b);const[e,t]=r.pop(),n=A(e,t,o,i);if(void 0===n||-1===n)return this.off("tick",b);if(D(e,t)&&C(e,t)!==n)return u.a.bucket.spend(1)?void Object(m.h)(e,t,n):r.push([e,t])}}g=g.bind(this),v=v.bind(this),y=y.bind(this),b=b.bind(this),this.on("down",g),a.a.toolManager.on("move",v),this.on("up",y)}}("line",16,w),ee=new i("coords to chat","U".charCodeAt());ee.on("up",(function(){h.b[0].value+=this.elements.coords.text()+" ",h.b.trigger("focus")}));new i("pixel info","I".charCodeAt()).on("down",(function(){}));const te=new i("swap colors","X".charCodeAt());te.on("up",u.a.swapColors.bind(u.a));const ne=new i("left color","A".charCodeAt());ne.on("down",(function(){let e=u.a.color;--e<0&&(e=f.m.length-1),u.a.switchColor(e)}));const re=new i("right color","S".charCodeAt());re.on("down",(function(){let e=u.a.color;++e>=f.m.length&&(e=0),u.a.switchColor(e)}));const oe=new i("toggle chat","K".charCodeAt());oe.on("down",(function(){Object(m.m)()}));const ie=new i("toggle menu","L".charCodeAt());ie.on("down",(function(){Object(m.q)()}));const ae=new i("toggle everything",186);ae.on("down",(function(){Object(m.o)()}));const se=new class extends i{constructor(...e){super(...e),this.handlers()}handlers(){let e=!1;const t=function(){e||(e=!0,a(),this.on("tick",a))}.bind(this),n=function(){e=!1,this.off("tick",a),o=r,i=0}.bind(this),r=500;let o=r,i=0;const a=function(){if(Date.now()-i<o)return;if(i=Date.now(),o/=1.5,o<25&&(o=25),u.a.placed.length>u.a.maxPlaced&&(u.a.placed=u.a.placed.slice(-u.a.maxPlaced)),!u.a.placed.length)return;if(!u.a.bucket.spend(1))return;const[e,t,n]=u.a.placed.pop();Object(m.h)(e,t,n,!1)}.bind(this);this.on("down",t),this.on("up",n)}}("ctrlZ","Z".charCodeAt(),_);const le=new class extends i{constructor(...e){super(...e),this.state=0,this.fx=null,this.isLight=JSON.parse(Object(S.b)("lightGrid",!1)),this.pattern=null,p.a.on("zoom",()=>{1==this.state&&this.tryRender()}),this.on("down",this.pressed.bind(this)),JSON.parse(Object(S.b)("enableGrid",!1))&&this.show()}pressed(e){e.repeat||this.toggle()}drawGrid(e){let[t,n]=Object(c.c)(0,0),[r,o]=Object(c.b)(t,n),{width:i,height:a}=e.canvas;const s=p.a.zoom;let l;e.fillStyle=this.isLight?"white":"black",e.globalAlpha=.8,l=f.i%16==0?16:f.i%10==0?10:null,l=null;let u=1;for(t--,n--;r<i;r+=s)t++,u=t%l==0?.7:.5,t%f.i==0&&(u=1.2),e.fillRect(r,0,u,a);for(;o<a;o+=s)n++,u=n%l==0?.7:.5,n%f.i==0&&(u=1.2),e.fillRect(0,o,i,u);e.globalAlpha=1}tryRender(){this.fx&&!this.fx.removed||(this.fx=new d.a(this.render.bind(this)),F(this.fx,2))}toggle(){0==this.state?this.show():this.hide(),Object(S.c)("enableGrid",(!!this.state).toString())}show(){this.state=1,this.tryRender()}hide(){this.state=0,this.fx&&B(this.fx)}render(e){if(p.a.zoom<=3)return 1;this.drawGrid(e)}}("grid","G".charCodeAt());const ce=new class extends i{constructor(...e){super(...e),this.state=0,this.moveFX=null,this.drawInterval=null,this.initListeners()}initListeners(){this.on("down",this.down.bind(this))}async down(){if(0==this.state||1==this.state){this.state=1;try{const e=await this.getImage();this.startPlace(e)}catch{this.state=0}}else 2==this.state||3==this.state&&(this.state=0,this.stopDraw())}async getImage(){const e=document.createElement("input");return e.type="file",e.accept="image/png",e.click(),new Promise((t,n)=>{e.onchange=()=>{if(e.onchange=null,!e.files.length||""==e.files[0])return n();const r=new FileReader;r.readAsDataURL(e.files[0]),r.onload=()=>{const e=new Image;e.src=r.result,e.onload=()=>{const n=document.createElement("canvas");n.width=e.width,n.height=e.height;n.getContext("2d").drawImage(e,0,0),t(n)},e.onerror=n},r.onerror=n}})}startPlace(e){u.a.resetColors(),this.state=2;let t=u.a.x,n=u.a.y;let r,o;F(this.moveFX=new d.a((function(r){const[o,i]=Object(c.b)(t,n),a=p.a.zoom;return r.globalAlpha=.5,r.imageSmoothingEnabled=!1,r.webkitImageSmoothingEnabled=!1,r.mozImageSmoothingEnabled=!1,r.msImageSmoothingEnabled=!1,r.oImageSmoothingEnabled=!1,r.save(),r.scale(a,a),r.drawImage(e,o/a,i/a),r.restore(),r.globalAlpha=1,1}))),a.a.toolManager.on("move",()=>{let e=u.a.x,r=u.a.y;e==t&&r==n||(t=e,n=r)});let i=function(e){r=e.clientX,o=e.clientY},s=function(i){if(2==i.button)return this.state=0,this.stopPlace(),void l();let[a,s]=[i.clientX,i.clientY];Math.abs(a-r)>5||Math.abs(s-o)>5||(l(),this.stopPlace(),this.startDraw(e,t,n))};function l(){a.a.eventManager.off("mousedown",i),a.a.eventManager.off("mouseup",s)}s=s.bind(this),a.a.eventManager.on("mousedown",i),a.a.eventManager.on("mouseup",s)}stopPlace(){B(this.moveFX),this.removeAllListeners("move")}startDraw(e,t,n){this.state=3;const r=e.getContext("2d"),{width:o}=e;let i=r.getImageData(0,0,e.width,e.height).data,s=-4;this.drawInterval=setInterval(function(){let e=Math.floor(u.a.bucket.allowance);if(0==e)return;let r=[];for(;e>0&&s<i.length-4&&r.length<16e3;){s+=4;let l=[i[s],i[s+1],i[s+2],i[s+3]];if(l[3]<127)continue;let c=s/4;const u=t+c%o,d=n+(c/o|0);if(u<0||u>=f.f||d<0||d>=f.e)continue;const p=Object(E.a)(l,f.n);a.a.chunkManager.getChunkPixel(u,d)!=p&&(e--,r.push([u,d,p]))}r.length&&(u.a.bucket.spend(r.length),a.a.socket.sendPixels(r)),s>=i.length-4&&(this.state=0,this.stopDraw())}.bind(this),50)}stopDraw(){clearInterval(this.drawInterval)}}("paste","CTRL+"+"V".charCodeAt());let ue=parseFloat(Object(S.b)("template.opacity",.5,!0));const de=new i("template 0/N opaq","O".charCodeAt());de.on("down",()=>{0==k.a.opacity?k.a.opacity=ue:(ue=k.a.opacity,k.a.opacity=0),Object(m.v)()});const fe=new i("template 1/N opaq","P".charCodeAt());fe.on("down",()=>{1==k.a.opacity?k.a.opacity=ue:(ue=k.a.opacity,k.a.opacity=1),Object(m.v)()});const pe=new class extends i{constructor(...e){super(...e),this.handlers()}handlers(){let e,t,n,r,o,i,a=[],l=!1;function h(){l||(l=!0,e=[u.a.x,u.a.y],[o,i]=[u.a.color,u.a.secondCol],this.emit("move"))}function g(){if(l&&e&&(t=[u.a.x,u.a.y],t[0]!=a[0]||t[1]!=a[1])){a=t;const r=s.a.square(...e,...t);n&&B(n),n=new d.a(e=>{e.globalAlpha=.5;for(let[t,n]of r){const[r,o]=Object(c.b)(t,n),i=A(t,n);e.fillStyle=f.m[i],e.fillRect(r,o,p.a.zoom,p.a.zoom)}return e.globalAlpha=1,1}),F(n)}}function v(){this.off("tick",y),l=!1,e&&(n&&n.remove(),t||(t=[u.a.x,u.a.y]),r=s.a.square(...e,...t),H(),r.length<=1||this.on("tick",y))}function y(){let e=0;for(;e++<100;){if(!r||!r.length)return void this.off("tick",y);const[e,t]=r.pop(),n=A(e,t,o,i);if(void 0===n||-1===n)return this.off("tick",y);if(C(e,t)!==n){if(!u.a.bucket.spend(1))return r.push([e,t]);Object(m.h)(e,t,n)}}}h=h.bind(this),g=g.bind(this),v=v.bind(this),y=y.bind(this),this.on("down",h),this.on("move",g),this.on("up",v)}}("square","J".charCodeAt()),he=new i("+brush size",221);he.on("down",()=>{if(!(u.a.brushSize>=100))return 1==u.a.brushSize?Object(m.r)(4):void Object(m.r)(u.a.brushSize+2)});const me=new i("-brush size",219);me.on("down",()=>{if(u.a.brushSize<=4)return Object(m.r)(1);Object(m.r)(u.a.brushSize-2)});const ge=new class extends i{constructor(...e){super(...e),this.state=0,this.selectFX=null,this.initListeners()}initListeners(){this.on("down",this.down.bind(this))}down(){if(this.state>0)return;let e,t,n,r,o;function i(){t=u.a.x,n=u.a.y}function s(){r=u.a.x,o=u.a.y}function l(){B(e),a.a.eventManager.off("mousedown",i),a.a.eventManager.off("mousemove",s),a.a.eventManager.off("mouseup",l),this.state=0,p.a.enableMove(),function(){if([t,n,r,o].some(e=>void 0===e))return;const e=Math.max(Math.min(t,r),0),i=Math.min(Math.max(t,r),f.f),s=Math.max(Math.min(n,o),0),l=Math.min(Math.max(n,o),f.e),c=i-e,u=l-s,d=document.createElement("canvas");d.width=c,d.height=u;const p=d.getContext("2d"),h=p.createImageData(c,u);h.data.fill(255);for(let t=0;t<c;t++)for(let n=0;n<u;n++){const r=4*(t+n*c),o=e+t,i=s+n,l=a.a.chunkManager.getChunkPixel(o,i),u=f.n[l];h.data[r]=u[0],h.data[r+1]=u[1],h.data[r+2]=u[2]}p.putImageData(h,0,0),ce.startPlace(d)}()}p.a.disableMove(),u.a.resetColors(),this.state=1,i=i.bind(this),s=s.bind(this),l=l.bind(this),e=new d.a((function(e){e.save(),e.strokeStyle="gray",e.lineWidth=2,e.setLineDash([3,3]),e.globalAlpha=1;const[i,a]=Object(c.b)(t,n),[s,l]=Object(c.b)(r+1,o+1);return e.strokeRect(i,a,s-i,l-a),e.restore(),1})),F(e),a.a.eventManager.on("mousedown",i),a.a.eventManager.on("mousemove",s),a.a.eventManager.on("mouseup",l)}}("copy","CTRL+"+"C".charCodeAt());t.a={clicker:Y,mover:X,floodfill:K,pipette:Z,altPipette:J,line:Q,colorInc:re,colorDec:ne,colorSwap:te,chatOpac:oe,menuOpac:ie,allOpac:ae,ctrlZ:se,protector:$,altProtector:G,grid:le,copy:ge,paste:ce,cordAdd:ee,templateOp1:de,templateOp2:fe,square:pe,incBrush:he,decBrush:me}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(1);class o{constructor(e){this.renderFunc=e,this.removed=!1}render(e){return this.renderFunc(e)}remove(){this.removed=!0}}class i{constructor(){this.fxList=[[],[],[]],this.ctx=r.a.fxCtx,this.ctx.imageSmoothingEnabled=!1,this.ctx.webkitImageSmoothingEnabled=!1,this.ctx.mozImageSmoothingEnabled=!1,this.ctx.msImageSmoothingEnabled=!1,this.ctx.oImageSmoothingEnabled=!1,this.needRender=!0,this.needClear=!1}add(e,t=0){this.fxList[t].push(e),this.needRender=!0}requestRender(){this.needRender=!0}render(){if(this.needRender){this.ctx.clearRect(0,0,window.innerWidth,window.innerHeight),this.needRender=!1;for(let e=0;e<this.fxList.length;e++)this.fxList[e].forEach(e=>{if(e.removed)return this.remove(e);let t=e.render(this.ctx);2==t?this.remove(e):0==t&&(this.needRender=!0)})}}remove(e){for(let t=0;t<this.fxList.length;t++){let n=this.fxList[t].indexOf(e);if(-1!=n){this.fxList[t][n].remove(),this.fxList[t].splice(n,1),this.needRender=!0;break}}}}},function(e,t,n){"use strict";function r(e,t,n){return 4278190080|n<<16|t<<8|e}function o(e){return e.toString(16).padStart(2,"0")}function i(e){return"#"+o(e[0])+o(e[1])+o(e[2])}function a(e,t){let n=-1,r=768;for(let o=0;o<t.length;o++){const i=t[o];let a=Math.abs(e[0]-i[0])+Math.abs(e[1]-i[1])+Math.abs(e[2]-i[2]);if(a<r&&(r=a,n=o),0==a)break}return n}n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";(function(e){var r=n(3),o=n(1),i=n(2),a=n(59),s=n(5),l=n(8);function c(e,t,n){return void 0===t?e:n?(e+t).slice(-e.length):(t+e).substring(0,e.length)}t.a=o.a.chat=new class{constructor(){this.element=e("#chat"),this.logElem=e("#chatLog"),this.colorsEnabled=!JSON.parse(Object(s.b)("disableColors",!1)),this.muted=JSON.parse(Object(s.a)("muted"))||[]}mobileShow(){this.element.css("top","0")}mobileHide(){this.element.css("top","-100vh")}setColors(t){this.colorsEnabled=t,e(".chatColored").toggleClass("noColor",!t)}parseColors(e){let t=0,n=e.matchAll(/\[(#?[A-Z0-9]+)*?\]/gi);for(;;){let{value:r,done:o}=n.next();if(o)break;let i=r[1];if(i){if(i.startsWith("#"))i=c(i.slice(-1).repeat(7),i);else if(!a.a[i])continue;e=e.replace(r[0],`<div class="chatColored${this.colorsEnabled?"":" noColor"}" style="color:${i}">`),t++}else t>0?(e=e.replace(r[0],"</div>"),t--):e=e.replace(r[0],"&#91;&#93;")}return t>0&&(e+="</div>".repeat(t)),e}parseCoords(e){return e.replace(/\((\d{1,5}), ?(\d{1,5})\)/g,'<a class="cordgo" onclick="camera.centerOn($1, $2)">$&</a>')}addMessage(t){if(t.server)return this.addServerMessage(t.msg);let n=Object(l.e)(t.msg),r=Object(l.e)(t.nick);const o=r;n=this.parseColors(n),n=this.parseCoords(n),r=this.parseColors(r);const i=~this.muted.indexOf(o),a=e(`<div class="chatMessage" ${i?'style="display:none"':""}>\n            <div class="messageNick" data-nick="${o}">${r}:</div>\n            <div class="messageText">${n}</div>\n        </div>`);this.logElem.append(a),this.afterAddingMessage()}addLocalMessage(t){t=this.parseColors(t),t=this.parseCoords(t);const n=e(`<div class="chatMessage">\n                <div class="messageText">${t}</div>\n            </div>`);this.logElem.append(n),this.afterAddingMessage()}addServerMessage(e){this.addLocalMessage(e)}afterAddingMessage(){this.logElem.children().length>r.l.chatLimit&&this.logElem.children()[0].remove(),this.logElem[0].scrollBy(0,999)}handleMessage(e){e.startsWith("/")?this.handleCommand(e):o.a.socket.sendChatMessage(e,r.h)}handleCommand(e){let t=e.split(" ").slice(1);if(e.startsWith("/mute")){const e=t.join(" ");this.mute(e)}else if(e.startsWith("/unmute")){const e=t.join(" ");this.unmute(e)}}mute(t){const n="<b>mute:</b> ";return!t.length||t.length>32?this.addLocalMessage(n+Object(i.b)("Wrong nick length")):~this.muted.indexOf(t)?this.addLocalMessage(n+Object(i.b)("Player is already muted")):(this.muted.push(t),Object(s.c)("muted",JSON.stringify(this.muted)),void e(".messageNick").each((e,n)=>{n.dataset.nick===t&&(n.parentElement.style.display="none")}))}unmute(t){let n,r="<b>unmute:</b> ";return!t.length||t.length>32?this.addLocalMessage(r+Object(i.b)("Wrong nick length")):~(n=this.muted.indexOf(t))?(this.muted.splice(n,1),Object(s.c)("muted",JSON.stringify(this.muted)),void e(".messageNick").each((e,n)=>{n.dataset.nick===t&&(n.parentElement.style.display="block")})):this.addLocalMessage(r+Object(i.b)("Player is not muted"))}}}).call(this,n(10))},function(e,t,n){"use strict";t.a={line:function(e,t,n,r){let o=[],i=Math.abs(r-t)>Math.abs(n-e);i&&([e,t]=[t,e],[n,r]=[r,n]);let a=!1;e>n&&([t,r]=[r,t],[e,n]=[n,e],a=!0);let s=n-e,l=Math.abs(r-t),c=s/2,u=t<r?1:-1;for(;e<=n;e++)o.push([i?t:e,i?e:t]),c-=l,c<0&&(t+=u,c+=s);return a&&o.reverse(),o},filledCircle:function(e,t,n){let r=[];const o=n*n;for(let o=-n+e;o<n+e;o++)for(let e=-n+t;e<n+t;e++)i(o,e)&&r.push([o,e]);function i(n,r){let i=n-e,a=r-t;return i*i+a*a<=.8*o}return r},square(e,t,n,r){const o=Math.min(e,n),i=Math.min(t,r),a=Math.max(e,n),s=Math.max(t,r);let l=[];for(let e=i;e<s+1;e++)for(let t=o;t<a+1;t++)l.push([t,e]);return l}}},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));n(4),n(8);var r=n(9),o=n(3);function i(){let[e,t]=Object(r.c)(0,0),[n,i]=Object(r.c)(window.innerWidth,window.innerHeight),a=e/o.i|0,s=n/o.i+1|0,l=t/o.i|0,c=i/o.i+1|0,u=[];for(let e=Math.max(a,0);e<Math.min(s,o.d);e++)for(let t=Math.max(l,0);t<Math.min(c,o.c);t++)u.push([e,t]);return u}function a(e,t){return!(e<0||e>=o.f||t<0||t>=o.e)}},function(e,t,n){"use strict";function r(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}n.d(t,"a",(function(){return r}))},,function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var o=65535&e|0,i=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{i=i+(o=o+t[r++]|0)|0}while(--a);o%=65521,i%=65521}return o|i<<16|0}},function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,o){var i=r,a=o+n;e^=-1;for(var s=o;s<a;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}},function(e,t,n){"use strict";var r=n(15),o=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&i||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,o,i,a,s=e.length,l=0;for(i=0;i<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),a=0,i=0;a<l;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,o=t.length;n<o;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,o,i,s=t||e.length,c=new Array(2*s);for(r=0,n=0;n<s;)if((o=e[n++])<128)c[r++]=o;else if((i=a[o])>4)c[r++]=65533,n+=i-1;else{for(o&=2===i?31:3===i?15:7;i>1&&n<s;)o=o<<6|63&e[n++],i--;i>1?c[r++]=65533:o<65536?c[r++]=o:(o-=65536,c[r++]=55296|o>>10&1023,c[r++]=56320|1023&o)}return l(c,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";var r={};(0,n(15).assign)(r,n(42),n(45),n(34)),e.exports=r},function(e,t,n){"use strict";var r=n(5);const o=(Object(r.a)("preferredLang")||navigator.language||navigator.userLanguage||"en").substr(0,2),i={en:{Goroxels:"Goroxels",CHAT:"CHAT","login to chat":"login to chat",template:"template","template url":"template url","template opacity":"template opacity",settings:"settings","game settings":"game settings","open window":"open window","account settings":"account settings","toolbinds settings":"toolbinds settings","ui settings":"ui settings",tools:"tools",online:"online","Send alerts":"Send alerts",clicker:"clicker",protector:"protector","alt protector":"alt protector",mover:"mover",floodfill:"floodfill",pipette:"pipette","alt pipette":"alt pipette","coords to chat":"coords to chat","pixel info":"pixel info","swap colors":"swap colors","left color":"left color","right color":"right color","toggle chat":"toggle chat","toggle menu":"toggle menu","toggle everything":"toggle everything",ctrlZ:"ctrlZ",grid:"grid",paste:"paste","template 0/N opaq":"template 0/N opaq","template 1/N opaq":"template 1/N opaq",square:"square","+brush size":"+brush size","-brush size":"-brush size",copy:"copy","colors size":"colors size","palette width":"palette width","hide emojis":"hide emojis","emoji list":"emoji list","super secret button":"super secret button","show placed pixels":"show placed pixels","more emojis!":"more emojis!","show protected":"show protected","brush size":"brush size","max saved pixels":"max saved pixels","disable chat colors":"disable chat colors","chat messages limit":"chat messages limit","light grid":"light grid","enable grid":"enable grid","Case insensitive, 0/o i/l are same":"Case insensitive, 0/o i/l are same","Can't recognize?":"Can't recognize?",Captcha:"Captcha","search users":"search users",OR:"OR","banned?":"banned?","Goroxels is a multiplayer pixel game with no cooldown! (ok, almost)":"Goroxels is a multiplayer pixel game with no cooldown! (ok, almost)","There are so many tools for make drawing more comfortable!":"There are so many tools for make drawing more comfortable!","Any Guest of this site can draw, but to get some features (ability to chat with other players, more lower cooldown) you should be registered.":"Any Guest of this site can draw, but to get some features (ability to chat with other players, more lower cooldown) you should be registered.","Very simple: you should pick color you need from palette (with pipette or just click) and place the pixel on canvas with LMB.":"Very simple: you should pick color you need from palette (with pipette or just click) and place the pixel on canvas with LMB.","You can use in-game clicker to place more pixels at time.":"You can use in-game clicker to place more pixels at time.","Tools Goroxels have:":"Tools Goroxels have:","Clicker. You need to hold whitespace and move your mouse to use it.":"Clicker. You need to hold whitespace and move your mouse to use it.","In the future, it will stop to place pixels continuously to protect arts.":"In the future, it will stop to place pixels continuously to protect arts.","Registred and Trusted users can draw with more lower cooldown than Guest users.":"Registred and Trusted users can draw with more lower cooldown than Guest users.","You can quickly switch colors with [A] (previous color) и [S] (next color).":"You can quickly switch colors with [A] (previous color) и [S] (next color).","You can also pick color from the canvas using pipette with [C].":"You can also pick color from the canvas using pipette with [C].","And so, brush size can be controlled (unavailable to Guests) with help of [ ] keys.":"And so, brush size can be controlled (unavailable to Guests) with help of [ ] keys.","Straight lines are so important to make art. You can use them with help of your mouse and [Shift].":"Straight lines are so important to make art. You can use them with help of your mouse and [Shift].","And so, the most important tool - Floodfill. [F], it helps so much to fill area with color. Hold this key for preview. If everything suits you, click [F] again.":"And so, the most important tool - Floodfill. [F], it helps so much to fill area with color. Hold this key for preview. If everything suits you, click [F] again.","If you need to quickly reset color(s), click RMB on canvas.":"If you need to quickly reset color(s), click RMB on canvas.","For grid use [G].":"For grid use [G].","If you placed the pixel(s) wrong, use [Z] (you can switch it to Ctrl+Z) for rollback. Keep holding Z to rollback all your wrong pixels (you can change amount of max saved pixels with Settings).":"If you placed the pixel(s) wrong, use [Z] (you can switch it to Ctrl+Z) for rollback. Keep holding Z to rollback all your wrong pixels (you can change amount of max saved pixels with Settings)",'Multicolour support - brush can draw with a "chess style".':'Multicolour support - brush can draw with a "chess style".',"Second color can be picked with [Alt+C]. If you picked colors in a wrong order, it is not a big problem - press [X] to reverse it.":"Second color can be picked with [Alt+C]. If you picked colors in a wrong order, it is not a big problem - press [X] to reverse it.","Hide a upper menu with [L], hide the chat with [K], and hide all an UI: [;].":"Hide a upper menu with [L], hide the chat with [K], and hide all an UI: [;].","You can paste your picture on the canvas using [Ctrl+V] (only for Registered users); maybe in the future this tool can only be used by Moderators.":"You can paste your picture on the canvas using [Ctrl+V] (only for Registered users); maybe in the future this tool can only be used by Moderators.","Click [U] to send coords to the chat. Coords in the chat are able to click.":"Click [U] to send coords to the chat. Coords in the chat are able to click.","Template can be managed with opacity switching tools [O] (your opacity (X) to 0) or from your opacity (X) to max opacity [P].":"Template can be managed with opacity switching tools [O] (your opacity to 0) or from your opacity to max opacity [P].","Other tools are tools for testing or can be only used by Moderators.":"Other tools are tools for testing or can be only used by Moderators.",'Yes, in the Goroxels you can draw by following template! Put image on the canvas with "image URL".':'Yes, in the Goroxels you can draw by following template! Put image on the canvas with "image URL".','When loading a picture, there are can be some troubles. I reccomend to put your picture on <a href="//imgur.com">imgur.com</a>.':'When loading a picture, there are can be some troubles. I reccomend to put your picture on <a href="//imgur.com">imgur.com</a>.',"You can change coordinates by yourself (X and Y), or with help of a dragging (hold [Ctrl]).":"You can change coordinates by yourself (X and Y), or with help of a dragging (hold [Ctrl]).",'Convert images to the Goroxels palette with <a href="/convert">Converter</a>. You can also convert image and draw, using a pattern convert!':'Convert images to the Goroxels palette with <a href="/convert">Converter</a>. You can also convert image and draw, using a pattern convert!','Recommendations: first, convert to the palette, copy converted image and paste it in the pattern converter. When it ready, click "upload on imgur" and copy link you get to the "image URL". Patterns will make your drawing process more relaxing and enjoyable!':'Recommendations: first, convert to the palette, copy converted image and paste it in the pattern converter. When it ready, click "upload on imgur" and copy link you get to the "image URL". Patterns will make your drawing process more relaxing and enjoyable!',"If url is red,  image you picked is so big. Try to cut your image with parts.":"If url is red, image you picked is so big. Try to cut your image with parts.","Convert!":"Convert!","Into palette":"Into palette","GO!":"GO!",Dithering:"Dithering",None:"None","Floyd-Steinberg":"Floyd-Steinberg","Stuсki":"Stuсki",Chess:"Chess","Ordered (matrix)":"Ordered (matrix)",Threshold:"Threshold","Matrix size":"Matrix size",Darken:"Darken",Lighten:"Lighten",Balance:"Balance","Color function for ΔE":"Color function for ΔE","RGB + luminance [very fast and dirty]":"RGB + luminance [very fast and dirty]","ciede2000 [slow and accurate]":"ciede2000 [slow and accurate]","CMC I:c [weird and slow]":"CMC I:c [weird and slow]","Euclidian + color values [fast and dirty]":"Euclidian + color values [fast and dirty]","brightness tune":"brightness tune",reset:"reset","constrast tune":"constrast tune","resize preview automatically":"resize preview automatically","serpentine (slightly suppresses dithering artefacts)":"serpentine (slightly suppresses dithering artefacts)","Into patterns":"Into patterns","Choose a palette":"Choose a palette","Image is loaded, but pixels can not be gotten. Try to load it on Imgur or download->upload from file":"Image is loaded, but pixels can not be gotten. Try to load it on Imgur or download->upload from file","[clipboard]":"[clipboard]","Choose a image!":"Choose a image!","Invalid link!":"Invalid link!","Done in":"Done in","ms.":"ms.","s.":"s.","Unknown image loading error. Maybe CORS, so try to upload on Imgur":"Unknown image loading error. Maybe CORS, so try to upload on Imgur","If your image is big, go make a tea and watch Doctor Who":"If your image is big, go make a tea and watch Doctor Who","Final image size:":"Final image size:","Upload on imgur!":"Upload on imgur!","Imgur upload failed, try upload manually and add this to a link:":"Imgur upload failed, try upload manually","Failed to load game palettes!":"Failed to load game palettes!","URL/file/clipboard":"URL/file/clipboard","Backup Viewer":"Backup Viewer","SELECT CANVAS":"SELECT CANVAS","SELECT DAY":"SELECT DAY","SELECT TIME":"SELECT TIME",rollback:"rollback","Show chunk grid":"Show chunk grid","Crop chunks from":"Crop chunks from",to:"to","Crop rollback too":"Crop rollback too","IP Actions":"IP Actions",Blacklist:"Blacklist",Whitelist:"Whitelist",UnBlackist:"UnBlackist",UnWhitelist:"UnWhitelist",send:"send","set captchaEnabled state":"set captchaEnabled state",set:"set","set afterJoinDelay value":"set afterJoinDelay value","Canvas Actions":"Canvas Actions",Canvas:"Canvas",DO:"DO",wipe:"wipe",enlarge:"enlarge",top:"top",right:"right",bottom:"bottom",left:"left"},ru:{Goroxels:"Goroxels",CHAT:"ЧАТ","login to chat":"зарегистрируйтесь для чата",template:"шаблон","template url":"ссылка на картинку","template opacity":"непрозрачность шаблона",settings:"настройки","game settings":"общие настройки","open window":"настроить","account settings":"настройки аккаунта","toolbinds settings":"горячие клавиши","ui settings":"настройки UI",tools:"инструменты",online:"онлайн","Send alerts":"Отправить алерты",clicker:"кликер",protector:"протектор","alt protector":"альтернативный протектор",mover:"двигалка",floodfill:"заливка",pipette:"пипетка","alt pipette":"альтернативная пипетка","coords to chat":"отправить координаты в чат","pixel info":"информация о пикселе","swap colors":"поменять цвета местами","left color":"цвет слева","right color":"цвет справа","toggle chat":"скрыть чат","toggle menu":"скрыть меню","toggle everything":"скрыть всё",ctrlZ:"ctrlZ",grid:"сетка",paste:"вставить","template 0/N opaq":"непрозрачность темплейта 0/N","template 1/N opaq":"непрозрачность темплейта 1/N",square:"квадрат","+brush size":"увеличить размер кисти","-brush size":"уменьшить размер кисти",copy:"копировать","colors size":"размер цветов","palette width":"размер палитры","hide emojis":"спрятать эмодзи","emoji list":"лист доступных эмодзи","super secret button":"ХТО НАЖАЛ ТОТ абасреца!!!","show placed pixels":"показать счётчик пикселей","more emojis!":"навали эмодзи!","show protected":"показать защищённые пиксели","brush size":"размер кисти","max saved pixels":"максимум сохранённых пикселей","disable chat colors":"не показывать цвета в чате","chat messages limit":"лимит сообщений чата","light grid":"светлая сетка","enable grid":"включить сетку","Case insensitive, 0/o i/l are same":"Регистр не имеет значения, O/o и I/i одинаковы","Can't recognize?":"Нечитаемо?",Captcha:"Капча","search users":"поиск пользователей",OR:"ИЛИ","banned?":"забанен?","Goroxels is a multiplayer pixel game with no cooldown! (ok, almost)":"Goroxels - это мультиплеерная пиксельная рисовалка почти без задержки!","There are so many tools for make drawing more comfortable!":"Добавлены различные инструменты и фичи для упрощения рисования.","Any Guest of this site can draw, but to get some features (ability to chat with other players, more lower cooldown) you should be registered.":"На главном полотне может рисовать каждый, но зарегистрированным пользователям даются преимущества в виде чата, уменьшенной задержки между пикселями и не только.","Very simple: you should pick color you need from palette (with pipette or just click) and place the pixel on canvas with LMB.":"Очень просто: как и в любой рисовалке, выбираешь цвет в палитре(кликом по нему или с помощью специального инструмента Пипетка), и кликаешь по полотну чтобы поставить пиксель.","You can use in-game clicker to place more pixels at time.":"Можно рисовать сразу много пикселей, но как это сделать будет рассказано в разделе инструментов.","Tools Goroxels have:":"Для упрощения игрового процесса было добавлено множество инструментов, вот несколько из них:","Clicker. You need to hold whitespace and move your mouse to use it.":"Кликер. Для того, чтобы рисовать кликером, зажми пробел(клавиши всех инструментов можно поменять) в месте где хочешь начать рисовать, и води как кисточкой по полотну.","In the future, it will stop to place pixels continuously to protect arts.":"Со временем кликер перестанет рисовать непрерывно - из-за введённой в игру задержки рисования. Она нужна чтобы минимизировать ущерб от ботов и вандалов.","Registred and Trusted users can draw with more lower cooldown than Guest users.":"У зарегистрированных пользователей, а также повышенных до Доверенного задержка значительно меньше.","You can quickly switch colors with [A] (previous color) и [S] (next color).":"Быстро переключать цвета можно с помощью [A] (пред. цвет) и [S] (след. цвет).","You can also pick color from the canvas using pipette with [C].":"Также цвет можно подобрать с полотна клавишей [C].","And so, brush size can be controlled (unavailable to Guests) with help of [ ] keys.":"Также можно контролировать размер кисти (недоступно Гостям) с помощью квадратных скобок, как в Photoshop.","Straight lines are so important to make art. You can use them with help of your mouse and [Shift].":"Для рисования ровных линий был добавлен инстумент Линия [Shift].","And so, the most important tool - Floodfill. [F], it helps so much to fill area with color. Hold this key for preview. If everything suits you, click [F] again.":"А также если нужно залить цветом определённую область - существует инструмент Заливка [F]. Зажатие покажет превью заливки, чтобы проверить, не будет ли утечек, а отпускание клавиши начнёт заливку.","If you need to quickly reset color(s), click RMB on canvas.":"Если нужно быстро сбросить цвет(а), нажми правой кнопкой мыши на полотне.","For grid use [G].":"Включить сетку пикселей можно на клавишу [G].","If you placed the pixel(s) wrong, use [Z] (you can switch it to Ctrl+Z) for rollback. Keep holding Z to rollback all your wrong pixels (you can change amount of max saved pixels with Settings).":"На [Z] (по желанию можно поменять на Ctrl+Z) можно отменить случайно поставленный пиксель. Если зажать, то много сразу (лимит сохранённых пикселей изменяется в Настройках Игры)",'Multicolour support - brush can draw with a "chess style".':"Для продвинутых пользователей добавлена поддержка мультицвета - это когда кисть рисует сразу двумя цветами, чередуя их.","Second color can be picked with [Alt+C]. If you picked colors in a wrong order, it is not a big problem - press [X] to reverse it.":"Подобрать второй цвет можно с помощью [Alt+C]. Если случайно перепутал порядок цветов - не беда: нажми [X], и цвета поменяются местами.","Hide a upper menu with [L], hide the chat with [K], and hide all an UI: [;].":"Также есть возможность скрыть верхнее меню [L], чат [K], и даже весь UI сразу: [;].","You can paste your picture on the canvas using [Ctrl+V] (only for Registered users); maybe in the future this tool can only be used by Moderators.":"Можно вставить картинку через [Ctrl+V] (только для зарегистрированных); вероятно, поддержка этого инструмента будет ограничена до Модератора.","Click [U] to send coords to the chat. Coords in the chat are able to click.":"Клавиша [U] добавляет координаты под курсором в поле ввода чата. Координаты в чате кликабельны (по клику можно перейти на место).","Template can be managed with opacity switching tools [O] (your opacity (X) to 0) or from your opacity (X) to max opacity [P].":"Для управления шаблоном введены инструменты переключения прозрачности с 0 до N(установленная в настройках шаблона прозрачность) [O] или с текущей до максимальной [P].","Other tools are tools for testing or can be only used by Moderators.":"Остальные инструменты либо тестовые, либо доступны только Модераторам.",'Yes, in the Goroxels you can draw by following template! Put image on the canvas with "image URL".':'Для рисования по шаблону специально была добавлена поддержка наложений. Чтобы изображение появилось поверх полотна, нужно ввести ссылку на него в "URL изображения" колонки ШАБЛОН.','When loading a picture, there are can be some troubles. I reccomend to put your picture on <a href="//imgur.com">imgur.com</a>.':'Чтобы не возникло проблем с загрузкой, желательно предварительно залить картинку на специальный хостинг, например <a href="//imgur.com">imgur.com</a>.',"You can change coordinates by yourself (X and Y), or with help of a dragging (hold [Ctrl]).":"Изменять координаты можно вручную (X и Y поля в ШАБЛОНе), либо перетаскивая изображение прямо на полотне, зажав Ctrl.",'Convert images to the Goroxels palette with <a href="/convert">Converter</a>. You can also convert image and draw, using a pattern convert!':'Для упрощения рисования по шаблону также сделан <a href="/convert">Конвертер</a>. В нём две основные функции: конвертация в палитру и конвертация в узор.','Recommendations: first, convert to the palette, copy converted image and paste it in the pattern converter. When it ready, click "upload on imgur" and copy link you get to the "image URL". Patterns will make your drawing process more relaxing and enjoyable!':'Рекомендованный порядок действий: сначала сконвертировать в палитру (можно вставлять ссылки, открывать из файла, либо из буфера обмена), затем скопировать готовую картинку и вставить в узорный конвертер. Когда шаблон будет готов, нажми "загрузить на imgur" и скопируй полученную ссылку в "URL изображения". Увидишь, с ним куда проще.',"If url is red, image you picked is so big. Try to cut your image with parts.":"Если ссылка красная, значит изображение слишком большое. Попробуй рисовать по частям.","Convert!":"Конверт!","Into palette":"В палитру","GO!":"За Родину!",Dithering:"Дизеринг",None:"Нет","Floyd-Steinberg":"Флойд-Штеинберг","Stuсki":"Штуки",Chess:"Шахматы","Ordered (matrix)":"Матричный",Threshold:"Порог","Matrix size":"Размер матрицы",Darken:"Темнее",Lighten:"Светлее",Balance:"Баланс","Color function for ΔE":"Дополнительные цветовые настройки","RGB + luminance [very fast and dirty]":'RGB + освещение [очень быстрый конверт, "грязная" картинка]',"ciede2000 [slow and accurate]":"ciede2000 [медленно, но верно]","CMC I:c [weird and slow]":"CMC I:c [всрато и медленно(но иногда лучше других)]","Euclidian + color values [fast and dirty]":'Евклид + значения восприятия [быстрый конверт, "грязная" картинка]',"brightness tune":"регулировка яркости",reset:"сброс","constrast tune":"регулировка контраста","resize preview automatically":"автоматически увеличивать картинку","serpentine (slightly suppresses dithering artefacts)":"змейка (немного подавляет артефакты дизеринга)","Into patterns":"Конвертация в узоры","Choose a palette":"Выбрать палитру","Image is loaded, but pixels can not be gotten. Try to load it on Imgur or download->upload from file":"Картинка загружена, но пиксели не получены. Попробуй залить картинку на imgur или загрузить из файла","[clipboard]":"[буфер обмена]","Choose a image!":"Выбери изображение!","Invalid link!":"Неверная ссылка!","Done in":"Сделал за","ms.":"мс.","s.":"с.","Unknown image loading error. Maybe CORS, so try to upload on Imgur":"При загрузке произошла неизвестная ошибка. Возможно CORS шалит, так что попробуй загрузить на imgur.","If your image is big, go make a tea and watch Doctor Who":'Если твоя картинка слишком большая, наберись терпения. Завари чай и посмотри пару-тройку серий "Доктора Кто".',"Final image size:":"Конечный размер картинки:","Upload on imgur!":"Загрузить на imgur!","Imgur upload failed, try upload manually and add this to a link:":"Попытка загрузки на imgur провалена. Попробуй загрузить вручную и скопируй ссылку самостоятельно","Failed to load game palettes!":"Не удалось загрузить палитры игры!","URL/file/clipboard":"URL/файл/буфер обмена","Backup Viewer":"Просмотр бэкапов","SELECT CANVAS":"ВЫБЕРИ ПОЛОТНО","SELECT DAY":"ВЫБЕРИ ДЕНЬ","SELECT TIME":"ВЫБЕРИ ВРЕМЯ",rollback:"откат","Show chunk grid":"Показать сетку чанков","Crop chunks from":"Показать только чанки с",to:"по","Crop rollback too":"Также обрезать бэкап","IP Actions":"Действия с IP",Blacklist:"В чёрный список",UnBlackist:"Убрать из чёрного",Whitelist:"В белый список",UnWhitelist:"Убрать из белого",send:"отправить","set captchaEnabled state":"включить капчу",set:"сделать","set afterJoinDelay value":"изменить afterJoinDelay","Canvas Actions":"Действия с полотном",Canvas:"Холст",DO:"СДЕЛАЙ",wipe:"вайп",enlarge:"расширение",top:"сверху",right:"справа",bottom:"снизу",left:"слева"}},a=i[o]||i.en;t.a={_:e=>a[e]||i.en[e]||e}},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n(3),o=n(4),i=n(19),a=n(17),s=n(1),l=n(14),c=n(39),u=n(12),d=n(6),f=(n(69),n(2));const p=n(10),h=p("#usersTable");class m{static async CreateWindow(t,n){const r=new a.a({center:!0,title:""+(t.name||Object(f.b)("PLAYER")+" "+(n||t.id))});if(t.ip&&t.cc&&"XX"!==t.cc){t._ip=t.ip;const e=t.cc;t.ip+=` [${e}]`,t.ip+=`<img src="${location.protocol}//www.countryflagicons.com/FLAT/16/${e}.png" style="margin-bottom:-5px;margin-left:1px;">`,delete t.cc}if(void 0!==t.role&&l.a.role===u.a.ADMIN&&l.a.id!==t.id){const e=t.role;let n="";Object.keys(u.a).forEach(t=>{n+=`<option ${t===e?"selected":""}>${t}</option>`}),t.role=`<select type="role">${n}<select>`}let o=Object.keys(t).map(e=>[e,t[e]]),c=[];o=o.filter(e=>!e[0].startsWith("_")),l.a.role>=u.a.MOD&&(c=[['<input class="alertInput">',`<button class="sendAlert">${Object(f.b)("Send Alert")}</button>`],[`<button class="banByIp">${Object(f.b)("Ban by ip")}</button>`]]);let h=o.concat(c);p(r.body).append(Object(i.d)(h)),p("select[type=role]",r.body).on("change",async n=>{const r=n.target.value,o=t.id,i=await fetch("/api/admin/changerole",{method:"POST",body:JSON.stringify({id:o,role:r}),headers:{"Content-Type":"application/json"}}),a=await i.json();a.errors?a.errors.forEach(t=>{e.error(t,Object(f.b)("ERROR"))}):e.success(Object(f.b)("Changed role to")+" "+r)}),p(".sendAlert",r.body).on("click",()=>{const e=p(".alertInput",r.body).val();0!=e.length&&(p(".alertInput",r.body).val(""),s.a.socket.sendAlert(n,e))}),p(".banByIp",r.body).on("click",async()=>{const n=t._ip;if(!n)return e.error(Object(f.b)("No ip!"));const r=await Object(d.a)("/admin/banPlayer?ip="+n);(await r.json()).success&&e.success(Object(f.b)("Success"))})}constructor(e,t,n,r){e||(e="ID "+t),this.name=e,this.id=t,this.userId=n,this.online=!0,this.registered=r,this.element=p(`<tr class="tableRow">\n                <td title="id ${t}" class="user">\n                    <button class="userInfoBtn"><img src="${c.a}"></button>\n                    <span class="name">${e.replace(/(\[.*?\])/g, '')}</span>\n                </td>\n                <td></td>\n            </tr>`),this.nameEl=p(".name",this.element),this.coordsEl=p(this.element.children()[1]),p(".userInfoBtn",this.element).on("click",async()=>{const e=this.registered,t=e?this.userId:this.id,n=await fetch(`/api/userInfo?id=${t}${e?"":"&unreg=1"}`),r=await n.json();await m.CreateWindow(r,this.id)}),this.coordsEl.on("click",()=>{const[e,t]=this.coordsEl.text().slice(1,-1).split(", ").map(e=>parseInt(e,10));o.a.centerOn(e,t)}),h.append(this.element)}updateCoords(e,t,n){this.coordsEl.css("color",r.m[e]),this.coordsEl.text(`(${t}, ${n})`)}destroy(){this.online=!1,this.element.hide(),setTimeout(this.harakiri.bind(this),36e5)}harakiri(){this.element.remove(),delete s.a.users[this.id]}}}).call(this,n(16))},function(e,t,n){"use strict";t.a=n.p+"/img/user2.png"},,function(e,t,n){},function(e,t,n){"use strict";var r=n(43),o=n(15),i=n(32),a=n(25),s=n(33),l=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=o.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,u)))throw new Error(a[n]);this._dict_set=!0}}function u(e,t){var n=new c(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}c.prototype.push=function(e,t){var n,a,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=i.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(c),s.next_out=0,s.avail_out=c),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(i.buf2binstring(o.shrinkBuf(s.output,s.next_out))):this.onData(o.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),s.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=c,t.deflate=u,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},function(e,t,n){"use strict";var r,o=n(15),i=n(44),a=n(30),s=n(31),l=n(25);function c(e,t){return e.msg=l[t],t}function u(e){return(e<<1)-(e>4?9:0)}function d(e){for(var t=e.length;--t>=0;)e[t]=0}function f(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(o.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function p(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,f(e.strm)}function h(e,t){e.pending_buf[e.pending++]=t}function m(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function g(e,t){var n,r,o=e.max_chain_length,i=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,c=e.window,u=e.w_mask,d=e.prev,f=e.strstart+258,p=c[i+a-1],h=c[i+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===h&&c[n+a-1]===p&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<f);if(r=258-(f-i),i=f-258,r>a){if(e.match_start=t,a=r,r>=s)break;p=c[i+a-1],h=c[i+a]}}}while((t=d[t&u])>l&&0!=--o);return a<=e.lookahead?a:e.lookahead}function v(e){var t,n,r,i,l,c,u,d,f,p,h=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=h+(h-262)){o.arraySet(e.window,e.window,h,h,0),e.match_start-=h,e.strstart-=h,e.block_start-=h,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=h?r-h:0}while(--n);t=n=h;do{r=e.prev[--t],e.prev[t]=r>=h?r-h:0}while(--n);i+=h}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,d=e.strstart+e.lookahead,f=i,p=void 0,(p=c.avail_in)>f&&(p=f),n=0===p?0:(c.avail_in-=p,o.arraySet(u,c.input,c.next_in,p,d),1===c.state.wrap?c.adler=a(c.adler,u,p,d):2===c.state.wrap&&(c.adler=s(c.adler,u,p,d)),c.next_in+=p,c.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function y(e,t){for(var n,r;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=g(e,n)),e.match_length>=3)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}function b(e,t){for(var n,r,o;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=g(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-3,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(p(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&p(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}function w(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(1146),this.dyn_dtree=new o.Buf16(122),this.bl_tree=new o.Buf16(78),d(this.dyn_ltree),d(this.dyn_dtree),d(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(16),this.heap=new o.Buf16(573),d(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(573),d(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,i._tr_init(t),0):c(e,-2)}function k(e){var t,n=_(e);return 0===n&&((t=e.state).window_size=2*t.w_size,d(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function O(e,t,n,r,i,a){if(!e)return-2;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>9||8!==n||r<8||r>15||t<0||t>9||a<0||a>4)return c(e,-2);8===r&&(r=9);var l=new x;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new o.Buf8(2*l.w_size),l.head=new o.Buf16(l.hash_size),l.prev=new o.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new o.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,k(e)}r=[new w(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(v(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,p(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(p(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(p(e,!1),e.strm.avail_out),1)})),new w(4,4,8,4,y),new w(4,5,16,8,y),new w(4,6,32,32,y),new w(4,4,16,16,b),new w(8,16,32,32,b),new w(8,16,128,128,b),new w(8,32,128,256,b),new w(32,128,258,1024,b),new w(32,258,258,4096,b)],t.deflateInit=function(e,t){return O(e,t,8,15,8,0)},t.deflateInit2=O,t.deflateReset=k,t.deflateResetKeep=_,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},t.deflate=function(e,t){var n,o,a,l;if(!e||!e.state||t>5||t<0)return e?c(e,-2):-2;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||666===o.status&&4!==t)return c(e,0===e.avail_out?-5:-2);if(o.strm=e,n=o.last_flush,o.last_flush=t,42===o.status)if(2===o.wrap)e.adler=0,h(o,31),h(o,139),h(o,8),o.gzhead?(h(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),h(o,255&o.gzhead.time),h(o,o.gzhead.time>>8&255),h(o,o.gzhead.time>>16&255),h(o,o.gzhead.time>>24&255),h(o,9===o.level?2:o.strategy>=2||o.level<2?4:0),h(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(h(o,255&o.gzhead.extra.length),h(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=s(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(h(o,0),h(o,0),h(o,0),h(o,0),h(o,0),h(o,9===o.level?2:o.strategy>=2||o.level<2?4:0),h(o,3),o.status=113);else{var g=8+(o.w_bits-8<<4)<<8;g|=(o.strategy>=2||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(g|=32),g+=31-g%31,o.status=113,m(o,g),0!==o.strstart&&(m(o,e.adler>>>16),m(o,65535&e.adler)),e.adler=1}if(69===o.status)if(o.gzhead.extra){for(a=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),f(e),a=o.pending,o.pending!==o.pending_buf_size));)h(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),f(e),a=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,h(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===l&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),f(e),a=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,h(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===l&&(o.status=103)}else o.status=103;if(103===o.status&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&f(e),o.pending+2<=o.pending_buf_size&&(h(o,255&e.adler),h(o,e.adler>>8&255),e.adler=0,o.status=113)):o.status=113),0!==o.pending){if(f(e),0===e.avail_out)return o.last_flush=-1,0}else if(0===e.avail_in&&u(t)<=u(n)&&4!==t)return c(e,-5);if(666===o.status&&0!==e.avail_in)return c(e,-5);if(0!==e.avail_in||0!==o.lookahead||0!==t&&666!==o.status){var y=2===o.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(v(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}(o,t):3===o.strategy?function(e,t){for(var n,r,o,a,s=e.window;;){if(e.lookahead<=258){if(v(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[o=e.strstart-1])===s[++o]&&r===s[++o]&&r===s[++o]){a=e.strstart+258;do{}while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<a);e.match_length=258-(a-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=i._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}(o,t):r[o.level].func(o,t);if(3!==y&&4!==y||(o.status=666),1===y||3===y)return 0===e.avail_out&&(o.last_flush=-1),0;if(2===y&&(1===t?i._tr_align(o):5!==t&&(i._tr_stored_block(o,0,0,!1),3===t&&(d(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),f(e),0===e.avail_out))return o.last_flush=-1,0}return 4!==t?0:o.wrap<=0?1:(2===o.wrap?(h(o,255&e.adler),h(o,e.adler>>8&255),h(o,e.adler>>16&255),h(o,e.adler>>24&255),h(o,255&e.total_in),h(o,e.total_in>>8&255),h(o,e.total_in>>16&255),h(o,e.total_in>>24&255)):(m(o,e.adler>>>16),m(o,65535&e.adler)),f(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?c(e,-2):(e.state=null,113===t?c(e,-3):0):-2},t.deflateSetDictionary=function(e,t){var n,r,i,s,l,c,u,f,p=t.length;if(!e||!e.state)return-2;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return-2;for(1===s&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(d(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new o.Buf8(n.w_size),o.arraySet(f,t,p-n.w_size,n.w_size,0),t=f,p=n.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=p,e.next_in=0,e.input=t,v(n);n.lookahead>=3;){r=n.strstart,i=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=2,v(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var r=n(15);function o(e){for(var t=e.length;--t>=0;)e[t]=0}var i=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);o(c);var u=new Array(60);o(u);var d=new Array(512);o(d);var f=new Array(256);o(f);var p=new Array(29);o(p);var h,m,g,v=new Array(30);function y(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function w(e){return e<256?d[e]:d[256+(e>>>7)]}function x(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function _(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,x(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function k(e,t,n){_(e,n[2*t],n[2*t+1])}function O(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function E(e,t,n){var r,o,i=new Array(16),a=0;for(r=1;r<=15;r++)i[r]=a=a+n[r-1]<<1;for(o=0;o<=t;o++){var s=e[2*o+1];0!==s&&(e[2*o]=O(i[s]++,s))}}function S(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function j(e){e.bi_valid>8?x(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function C(e,t,n,r){var o=2*t,i=2*n;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]}function P(e,t,n){for(var r=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&C(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!C(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r}function T(e,t,n){var r,o,s,l,c=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],o=e.pending_buf[e.l_buf+c],c++,0===r?k(e,o,t):(k(e,(s=f[o])+256+1,t),0!==(l=i[s])&&_(e,o-=p[s],l),k(e,s=w(--r),n),0!==(l=a[s])&&_(e,r-=v[s],l))}while(c<e.last_lit);k(e,256,t)}function M(e,t){var n,r,o,i=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==i[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(o=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[o]=0,e.opt_len--,s&&(e.static_len-=a[2*o+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)P(e,i,n);o=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],P(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*o]=i[2*n]+i[2*r],e.depth[o]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=o,e.heap[1]=o++,P(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,o,i,a,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,h=t.stat_desc.max_length,m=0;for(i=0;i<=15;i++)e.bl_count[i]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(i=l[2*l[2*(r=e.heap[n])+1]+1]+1)>h&&(i=h,m++),l[2*r+1]=i,r>c||(e.bl_count[i]++,a=0,r>=p&&(a=f[r-p]),s=l[2*r],e.opt_len+=s*(i+a),d&&(e.static_len+=s*(u[2*r+1]+a)));if(0!==m){do{for(i=h-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[h]--,m-=2}while(m>0);for(i=h;0!==i;i--)for(r=e.bl_count[i];0!==r;)(o=e.heap[--n])>c||(l[2*o+1]!==i&&(e.opt_len+=(i-l[2*o+1])*l[2*o],l[2*o+1]=i),r--)}}(e,t),E(i,c,e.bl_count)}function A(e,t,n){var r,o,i=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<l&&o===a||(s<c?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,i=o,0===a?(l=138,c=3):o===a?(l=6,c=3):(l=7,c=4))}function D(e,t,n){var r,o,i=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++s<l&&o===a)){if(s<c)do{k(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==i&&(k(e,o,e.bl_tree),s--),k(e,16,e.bl_tree),_(e,s-3,2)):s<=10?(k(e,17,e.bl_tree),_(e,s-3,3)):(k(e,18,e.bl_tree),_(e,s-11,7));s=0,i=o,0===a?(l=138,c=3):o===a?(l=6,c=3):(l=7,c=4)}}o(v);var I=!1;function R(e,t,n,o){_(e,0+(o?1:0),3),function(e,t,n,o){j(e),o&&(x(e,n),x(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){I||(!function(){var e,t,n,r,o,l=new Array(16);for(n=0,r=0;r<28;r++)for(p[r]=n,e=0;e<1<<i[r];e++)f[n++]=r;for(f[n-1]=r,o=0,r=0;r<16;r++)for(v[r]=o,e=0;e<1<<a[r];e++)d[o++]=r;for(o>>=7;r<30;r++)for(v[r]=o<<7,e=0;e<1<<a[r]-7;e++)d[256+o++]=r;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)c[2*e+1]=8,e++,l[8]++;for(;e<=255;)c[2*e+1]=9,e++,l[9]++;for(;e<=279;)c[2*e+1]=7,e++,l[7]++;for(;e<=287;)c[2*e+1]=8,e++,l[8]++;for(E(c,287,l),e=0;e<30;e++)u[2*e+1]=5,u[2*e]=O(e,5);h=new y(c,i,257,286,15),m=new y(u,a,0,30,15),g=new y(new Array(0),s,0,19,7)}(),I=!0),e.l_desc=new b(e.dyn_ltree,h),e.d_desc=new b(e.dyn_dtree,m),e.bl_desc=new b(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,S(e)},t._tr_stored_block=R,t._tr_flush_block=function(e,t,n,r){var o,i,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),M(e,e.l_desc),M(e,e.d_desc),a=function(e){var t;for(A(e,e.dyn_ltree,e.l_desc.max_code),A(e,e.dyn_dtree,e.d_desc.max_code),M(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=o&&(o=i)):o=i=n+5,n+4<=o&&-1!==t?R(e,t,n,r):4===e.strategy||i===o?(_(e,2+(r?1:0),3),T(e,c,u)):(_(e,4+(r?1:0),3),function(e,t,n,r){var o;for(_(e,t-257,5),_(e,n-1,5),_(e,r-4,4),o=0;o<r;o++)_(e,e.bl_tree[2*l[o]+1],3);D(e,e.dyn_ltree,t-1),D(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),T(e,e.dyn_ltree,e.dyn_dtree)),S(e),r&&j(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(f[n]+256+1)]++,e.dyn_dtree[2*w(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){_(e,2,3),k(e,256,c),function(e){16===e.bi_valid?(x(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var r=n(46),o=n(15),i=n(32),a=n(34),s=n(25),l=n(33),c=n(49),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new c,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=i.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(s[n])}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,l,c,d,f=this.strm,p=this.options.chunkSize,h=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?f.input=i.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new o.Buf8(p),f.next_out=0,f.avail_out=p),(n=r.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&h&&(n=r.inflateSetDictionary(this.strm,h)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==a.Z_STREAM_END&&(0!==f.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=i.utf8border(f.output,f.next_out),c=f.next_out-l,d=i.buf2string(f.output,l),f.next_out=c,f.avail_out=p-c,c&&o.arraySet(f.output,f.output,l,c,0),this.onData(d)):this.onData(o.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),f.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=d,t.inflate=f,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},t.ungzip=f},function(e,t,n){"use strict";var r=n(15),o=n(30),i=n(31),a=n(47),s=n(48);function l(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function u(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):-2}function d(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,u(e)):-2}function f(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,d(e))):-2}function p(e,t){var n,r;return e?(r=new c,e.state=r,r.window=null,0!==(n=f(e,t))&&(e.state=null),n):-2}var h,m,g=!0;function v(e){if(g){var t;for(h=new r.Buf32(512),m=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,h,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,m,0,e.work,{bits:5}),g=!1}e.lencode=h,e.lenbits=9,e.distcode=m,e.distbits=5}function y(e,t,n,o){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),o>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>o&&(i=o),r.arraySet(a.window,t,n-o,i,a.wnext),(o-=i)?(r.arraySet(a.window,t,n-o,o,0),a.wnext=o,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}t.inflateReset=d,t.inflateReset2=f,t.inflateResetKeep=u,t.inflateInit=function(e){return p(e,15)},t.inflateInit2=p,t.inflate=function(e,t){var n,c,u,d,f,p,h,m,g,b,w,x,_,k,O,E,S,j,C,P,T,M,A,D,I=0,R=new r.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),f=e.next_out,u=e.output,h=e.avail_out,d=e.next_in,c=e.input,p=e.avail_in,m=n.hold,g=n.bits,b=p,w=h,M=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;g<16;){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}if(2&n.wrap&&35615===m){n.check=0,R[0]=255&m,R[1]=m>>>8&255,n.check=i(n.check,R,2,0),m=0,g=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",n.mode=30;break}if(g-=4,T=8+(15&(m>>>=4)),0===n.wbits)n.wbits=T;else if(T>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<T,e.adler=n.check=1,n.mode=512&m?10:12,m=0,g=0;break;case 2:for(;g<16;){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}if(n.flags=m,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,n.check=i(n.check,R,2,0)),m=0,g=0,n.mode=3;case 3:for(;g<32;){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}n.head&&(n.head.time=m),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,R[2]=m>>>16&255,R[3]=m>>>24&255,n.check=i(n.check,R,4,0)),m=0,g=0,n.mode=4;case 4:for(;g<16;){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,n.check=i(n.check,R,2,0)),m=0,g=0,n.mode=5;case 5:if(1024&n.flags){for(;g<16;){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,n.check=i(n.check,R,2,0)),m=0,g=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((x=n.length)>p&&(x=p),x&&(n.head&&(T=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,c,d,x,T)),512&n.flags&&(n.check=i(n.check,c,x,d)),p-=x,d+=x,n.length-=x),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break e;x=0;do{T=c[d+x++],n.head&&T&&n.length<65536&&(n.head.name+=String.fromCharCode(T))}while(T&&x<p);if(512&n.flags&&(n.check=i(n.check,c,x,d)),p-=x,d+=x,T)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break e;x=0;do{T=c[d+x++],n.head&&T&&n.length<65536&&(n.head.comment+=String.fromCharCode(T))}while(T&&x<p);if(512&n.flags&&(n.check=i(n.check,c,x,d)),p-=x,d+=x,T)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;g<16;){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}if(m!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}m=0,g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;g<32;){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}e.adler=n.check=l(m),m=0,g=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=f,e.avail_out=h,e.next_in=d,e.avail_in=p,n.hold=m,n.bits=g,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){m>>>=7&g,g-=7&g,n.mode=27;break}for(;g<3;){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}switch(n.last=1&m,g-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(v(n),n.mode=20,6===t){m>>>=2,g-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}m>>>=2,g-=2;break;case 14:for(m>>>=7&g,g-=7&g;g<32;){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,m=0,g=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(x=n.length){if(x>p&&(x=p),x>h&&(x=h),0===x)break e;r.arraySet(u,c,d,x,f),p-=x,d+=x,h-=x,f+=x,n.length-=x;break}n.mode=12;break;case 17:for(;g<14;){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}if(n.nlen=257+(31&m),m>>>=5,g-=5,n.ndist=1+(31&m),m>>>=5,g-=5,n.ncode=4+(15&m),m>>>=4,g-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;g<3;){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}n.lens[z[n.have++]]=7&m,m>>>=3,g-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,A={bits:n.lenbits},M=s(0,n.lens,0,19,n.lencode,0,n.work,A),n.lenbits=A.bits,M){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;E=(I=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,S=65535&I,!((O=I>>>24)<=g);){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}if(S<16)m>>>=O,g-=O,n.lens[n.have++]=S;else{if(16===S){for(D=O+2;g<D;){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}if(m>>>=O,g-=O,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}T=n.lens[n.have-1],x=3+(3&m),m>>>=2,g-=2}else if(17===S){for(D=O+3;g<D;){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}g-=O,T=0,x=3+(7&(m>>>=O)),m>>>=3,g-=3}else{for(D=O+7;g<D;){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}g-=O,T=0,x=11+(127&(m>>>=O)),m>>>=7,g-=7}if(n.have+x>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;x--;)n.lens[n.have++]=T}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,A={bits:n.lenbits},M=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,A),n.lenbits=A.bits,M){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,A={bits:n.distbits},M=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,A),n.distbits=A.bits,M){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(p>=6&&h>=258){e.next_out=f,e.avail_out=h,e.next_in=d,e.avail_in=p,n.hold=m,n.bits=g,a(e,w),f=e.next_out,u=e.output,h=e.avail_out,d=e.next_in,c=e.input,p=e.avail_in,m=n.hold,g=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;E=(I=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,S=65535&I,!((O=I>>>24)<=g);){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}if(E&&0==(240&E)){for(j=O,C=E,P=S;E=(I=n.lencode[P+((m&(1<<j+C)-1)>>j)])>>>16&255,S=65535&I,!(j+(O=I>>>24)<=g);){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}m>>>=j,g-=j,n.back+=j}if(m>>>=O,g-=O,n.back+=O,n.length=S,0===E){n.mode=26;break}if(32&E){n.back=-1,n.mode=12;break}if(64&E){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&E,n.mode=22;case 22:if(n.extra){for(D=n.extra;g<D;){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;E=(I=n.distcode[m&(1<<n.distbits)-1])>>>16&255,S=65535&I,!((O=I>>>24)<=g);){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}if(0==(240&E)){for(j=O,C=E,P=S;E=(I=n.distcode[P+((m&(1<<j+C)-1)>>j)])>>>16&255,S=65535&I,!(j+(O=I>>>24)<=g);){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}m>>>=j,g-=j,n.back+=j}if(m>>>=O,g-=O,n.back+=O,64&E){e.msg="invalid distance code",n.mode=30;break}n.offset=S,n.extra=15&E,n.mode=24;case 24:if(n.extra){for(D=n.extra;g<D;){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===h)break e;if(x=w-h,n.offset>x){if((x=n.offset-x)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}x>n.wnext?(x-=n.wnext,_=n.wsize-x):_=n.wnext-x,x>n.length&&(x=n.length),k=n.window}else k=u,_=f-n.offset,x=n.length;x>h&&(x=h),h-=x,n.length-=x;do{u[f++]=k[_++]}while(--x);0===n.length&&(n.mode=21);break;case 26:if(0===h)break e;u[f++]=n.length,h--,n.mode=21;break;case 27:if(n.wrap){for(;g<32;){if(0===p)break e;p--,m|=c[d++]<<g,g+=8}if(w-=h,e.total_out+=w,n.total+=w,w&&(e.adler=n.check=n.flags?i(n.check,u,w,f-w):o(n.check,u,w,f-w)),w=h,(n.flags?m:l(m))!==n.check){e.msg="incorrect data check",n.mode=30;break}m=0,g=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;g<32;){if(0===p)break e;p--,m+=c[d++]<<g,g+=8}if(m!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}m=0,g=0}n.mode=29;case 29:M=1;break e;case 30:M=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=f,e.avail_out=h,e.next_in=d,e.avail_in=p,n.hold=m,n.bits=g,(n.wsize||w!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&y(e,e.output,e.next_out,w-e.avail_out)?(n.mode=31,-4):(b-=e.avail_in,w-=e.avail_out,e.total_in+=b,e.total_out+=w,n.total+=w,n.wrap&&w&&(e.adler=n.check=n.flags?i(n.check,u,w,e.next_out-w):o(n.check,u,w,e.next_out-w)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===b&&0===w||4===t)&&0===M&&(M=-5),M)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&o(1,t,r,0)!==n.check?-3:y(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i,a,s,l,c,u,d,f,p,h,m,g,v,y,b,w,x,_,k,O,E,S;n=e.state,r=e.next_in,E=e.input,o=r+(e.avail_in-5),i=e.next_out,S=e.output,a=i-(t-e.avail_out),s=i+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,d=n.wnext,f=n.window,p=n.hold,h=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{h<15&&(p+=E[r++]<<h,h+=8,p+=E[r++]<<h,h+=8),b=m[p&v];t:for(;;){if(p>>>=w=b>>>24,h-=w,0===(w=b>>>16&255))S[i++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(p&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}x=65535&b,(w&=15)&&(h<w&&(p+=E[r++]<<h,h+=8),x+=p&(1<<w)-1,p>>>=w,h-=w),h<15&&(p+=E[r++]<<h,h+=8,p+=E[r++]<<h,h+=8),b=g[p&y];n:for(;;){if(p>>>=w=b>>>24,h-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(p&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(_=65535&b,h<(w&=15)&&(p+=E[r++]<<h,(h+=8)<w&&(p+=E[r++]<<h,h+=8)),(_+=p&(1<<w)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=w,h-=w,_>(w=i-a)){if((w=_-w)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=0,O=f,0===d){if(k+=c-w,w<x){x-=w;do{S[i++]=f[k++]}while(--w);k=i-_,O=S}}else if(d<w){if(k+=c+d-w,(w-=d)<x){x-=w;do{S[i++]=f[k++]}while(--w);if(k=0,d<x){x-=w=d;do{S[i++]=f[k++]}while(--w);k=i-_,O=S}}}else if(k+=d-w,w<x){x-=w;do{S[i++]=f[k++]}while(--w);k=i-_,O=S}for(;x>2;)S[i++]=O[k++],S[i++]=O[k++],S[i++]=O[k++],x-=3;x&&(S[i++]=O[k++],x>1&&(S[i++]=O[k++]))}else{k=i-_;do{S[i++]=S[k++],S[i++]=S[k++],S[i++]=S[k++],x-=3}while(x>2);x&&(S[i++]=S[k++],x>1&&(S[i++]=S[k++]))}break}}break}}while(r<o&&i<s);r-=x=h>>3,p&=(1<<(h-=x<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<o?o-r+5:5-(r-o),e.avail_out=i<s?s-i+257:257-(i-s),n.hold=p,n.bits=h}},function(e,t,n){"use strict";var r=n(15),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,c,u,d,f){var p,h,m,g,v,y,b,w,x,_=f.bits,k=0,O=0,E=0,S=0,j=0,C=0,P=0,T=0,M=0,A=0,D=null,I=0,R=new r.Buf16(16),z=new r.Buf16(16),L=null,N=0;for(k=0;k<=15;k++)R[k]=0;for(O=0;O<l;O++)R[t[n+O]]++;for(j=_,S=15;S>=1&&0===R[S];S--);if(j>S&&(j=S),0===S)return c[u++]=20971520,c[u++]=20971520,f.bits=1,0;for(E=1;E<S&&0===R[E];E++);for(j<E&&(j=E),T=1,k=1;k<=15;k++)if(T<<=1,(T-=R[k])<0)return-1;if(T>0&&(0===e||1!==S))return-1;for(z[1]=0,k=1;k<15;k++)z[k+1]=z[k]+R[k];for(O=0;O<l;O++)0!==t[n+O]&&(d[z[t[n+O]]++]=O);if(0===e?(D=L=d,y=19):1===e?(D=o,I-=257,L=i,N-=257,y=256):(D=a,L=s,y=-1),A=0,O=0,k=E,v=u,C=j,P=0,m=-1,g=(M=1<<j)-1,1===e&&M>852||2===e&&M>592)return 1;for(;;){b=k-P,d[O]<y?(w=0,x=d[O]):d[O]>y?(w=L[N+d[O]],x=D[I+d[O]]):(w=96,x=0),p=1<<k-P,E=h=1<<C;do{c[v+(A>>P)+(h-=p)]=b<<24|w<<16|x|0}while(0!==h);for(p=1<<k-1;A&p;)p>>=1;if(0!==p?(A&=p-1,A+=p):A=0,O++,0==--R[k]){if(k===S)break;k=t[n+d[O]]}if(k>j&&(A&g)!==m){for(0===P&&(P=j),v+=E,T=1<<(C=k-P);C+P<S&&!((T-=R[C+P])<=0);)C++,T<<=1;if(M+=1<<C,1===e&&M>852||2===e&&M>592)return 1;c[m=A&g]=j<<24|C<<16|v-u|0}}return 0!==A&&(c[v+A]=k-P<<24|64<<16|0),f.bits=j,0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n(18),o=n.n(r),i=n(35),a=n.n(i),s=n(11),l=n(3),c=n(1),u=n(38),d=n(23),f=n(19),p=n(17),h=n(0),m=n(6),g=n(2);class v extends o.a{constructor(e){super();const t=location.protocol.startsWith("https")?"wss":"ws",n=location.hostname||"localhost";this.url=`${t}://${n}:${e}`,this.pendingPixels={},this.connectedOnce=!1,this.connect()}get connected(){return this.socket&&this.socket.readyState===WebSocket.OPEN}connect(){this.socket=new WebSocket(this.url),this.socket.binaryType="arraybuffer",this.socket.onopen=()=>{this.sendChatSubscribe(l.h,this.connectedOnce),this.sendCanvas(l.g),this.emit("opened"),console.log("Socket has been connected"),this.connectedOnce||(this.connectedOnce=!0)},this.socket.onmessage=this.onmessage.bind(this),this.socket.onclose=()=>{this.emit("closed"),Object.values(c.a.users).forEach(e=>e.destroy()),setTimeout(()=>{console.log("reconnect"),this.reconnect()},5e3*Math.random())}}close(){this.socket.close()}reconnect(){this.socket.onmessage=null,this.socket.onopen=null,this.socket.onclose=null,this.connect()}onmessage({data:e}){if("string"==typeof e)this.onStringMessage(e);else{if(!e.byteLength)return;this.onBinaryMessage(e)}}onStringMessage(t){let n;try{n=JSON.parse(t)}catch(e){return void console.log("onStringMessage message decoding error: "+e,"message: "+t)}switch(n.c){case s.b.userJoin:{const{nick:e,userId:t,id:r,registered:o}=n;c.a.users[r]&&c.a.users[r].destroy(),c.a.users[r]=new u.a(e,r,t,o);break}case s.b.userLeave:{const e=n.id;c.a.users[e]&&c.a.users[e].destroy();break}case s.b.error:n.errors.forEach(t=>{"error.captcha"===t&&(p.a.Exists("Captcha")||Object(f.b)()),e.error(t,Object(g.b)("Error from the Socket:"),{preventDuplicates:!0})});break;case s.b.chatMessage:d.a.addMessage(n);break;case s.b.alert:e.info(n.msg,"ALERT",{timeOut:3e5,extendedTimeOut:3e5});break;case s.b.me:h.a.id=n.id;break;case s.b.reload:location.reload()}}onBinaryMessage(e){const t=new DataView(e);switch(t.getUint8(0)){case s.a.captcha:Object(f.b)();break;case s.a.chunk:{const e=t.getUint8(1),n=t.getUint8(2),r=a.a.inflate(t.buffer.slice(3));this.emit("chunk",e,n,r);break}case s.a.place:{const[e,n,r]=Object(s.d)(t.getUint32(1)),o=t.getUint32(5),i=c.a.users[o];i&&i.updateCoords(r,e,n);const a=e+","+n;let l=this.pendingPixels[a];l&&(clearTimeout(l),delete this.pendingPixels[a]),this.emit("place",e,n,r,o),o===h.a.id&&Object(m.u)(h.a.placedCount++);break}case s.a.online:{const e=t.getUint16(1);this.emit("online",e);break}case s.a.pixels:{const e=!!t.getUint8(1),n=t.getUint32(2,!1);for(let r=6;r<t.byteLength;r+=4){const[o,i,a]=Object(s.d)(t.getUint32(r));if(e?this.emit("protect",o,i,a):this.emit("place",o,i,a,n),r==t.byteLength-4){const e=c.a.users[n];e&&e.updateCoords(a,o,i)}}break}}}requestChunk(e,t){let n=new DataView(new ArrayBuffer(3));n.setUint8(0,s.a.chunk),n.setUint8(1,e),n.setUint8(2,t),this.socket.send(n.buffer)}sendPixel(e,t,n){let r=new DataView(new ArrayBuffer(5));r.setUint8(0,s.a.place),r.setUint32(1,Object(s.c)(0|e,0|t,n)),this.socket.send(r.buffer)}sendPixels(e,t=!1){let n=new DataView(new ArrayBuffer(6+4*e.length));n.setUint8(0,s.a.pixels),n.setUint8(1,t?1:0);for(let t=0;t<e.length;t++){let r=4*t+6;const[o,i,a]=e[t],l=Object(s.c)(o,i,a);n.setUint32(r,l)}this.socket.send(n.buffer)}sendCanvas(e){const t=new DataView(new ArrayBuffer(2));t.setUint8(0,s.a.canvas),t.setUint8(1,e),this.socket.send(t.buffer)}sendChatSubscribe(e,t){const n={c:s.b.subscribeChat,ch:e,reconnect:t};this.socket.send(JSON.stringify(n))}sendChatMessage(e,t){const n={c:s.b.chatMessage,msg:e,ch:t};this.socket.send(JSON.stringify(n))}sendAlert(e,t){const n={c:s.b.alert,to:e,msg:t};this.socket.send(JSON.stringify(n))}}}).call(this,n(16))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(18),o=n.n(r),i=n(56),a=n.n(i);function s(){return"INPUT"===document.activeElement.tagName}class l extends o.a{constructor(e){function t(e){let t=this.startedGesture;return"up"===e?(this.pointers=Math.max(this.pointers-1,0),0==this.pointers&&(this.startedGesture=!1)):"down"===e&&++this.pointers>=2&&(t=this.startedGesture=!0),t}super(),this.el=e,this._zoomed=!1,this.startedGesture=!1,this.pointers=0,t=t.bind(this),e.addEventListener("pointerdown",e=>{e.gesture=t("down"),this.emit("mousedown",e)}),document.addEventListener("pointermove",e=>{t("move")||this.emit("mousemove",e)}),document.addEventListener("pointerup",e=>{e.gesture=t("up"),this.emit("mouseup",e)}),a()(e).gesturable({onmove:e=>{this.emit("zoom",e.ds),this.emit("mousemove",{buttons:e.buttons,clientX:e.clientX,clientY:e.clientY,movementX:e.dx*devicePixelRatio,movementY:e.dy*devicePixelRatio,gesture:!0})}}),this.tickLoop=setInterval(()=>{this.emit("tick")},1e3/60),document.addEventListener("keydown",e=>{s()||this.emit("keydown",e)}),document.addEventListener("keyup",e=>{s()||this.emit("keyup",e)}),e.addEventListener("wheel",e=>this.emit("wheel",e)),e.addEventListener("mouseleave",e=>this.emit("mouseleave",e))}}},function(e,t,n){e.exports=function(){function e(e){var t;return function(n){return t||e(t={exports:{},parent:n},t.exports),t.exports}}var t=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scope=t.ActionName=void 0;var r=f(o),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==p(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(ct),a=f(Pt),s=f(Mt),l=f(Wt),c=f(an),u=f(Sn),d=f(n({}));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function m(e,t,n){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _,k=i.win,O=i.browser,E=i.raf,S=i.events;(t.ActionName=_)||(t.ActionName=_={});var j=function(){function e(){var t=this;y(this,e),x(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),x(this,"listenerMaps",[]),x(this,"browser",O),x(this,"events",S),x(this,"utils",i),x(this,"defaults",i.clone(a.default)),x(this,"Eventable",s.default),x(this,"actions",{names:[],methodDict:{},eventTypes:[]}),x(this,"InteractEvent",u.default),x(this,"Interactable",void 0),x(this,"interactables",new c.default(this)),x(this,"_win",void 0),x(this,"document",void 0),x(this,"window",void 0),x(this,"documents",[]),x(this,"_plugins",{list:[],map:{}}),x(this,"onWindowUnload",(function(e){return t.removeDocument(e.target)}));var n=this;this.Interactable=function(){function e(){return y(this,e),h(this,g(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(e,l.default),w(e,[{key:"set",value:function(t){return m(g(e.prototype),"set",this).call(this,t),n.fire("interactable:set",{options:t,interactable:this}),this}},{key:"unset",value:function(){m(g(e.prototype),"unset",this).call(this);for(var t=n.interactions.list.length-1;0<=t;t--){var r=n.interactions.list[t];r.interactable===this&&(r.stop(),n.fire("interactions:destroy",{interaction:r}),r.destroy(),2<n.interactions.list.length&&n.interactions.list.splice(t,1))}n.fire("interactable:unset",{interactable:this})}},{key:"_defaults",get:function(){return n.defaults}}]),e}()}return w(e,[{key:"addListeners",value:function(e,t){this.listenerMaps.push({id:t,map:e})}},{key:"fire",value:function(e,t){for(var n=0;n<this.listenerMaps.length;n++){var r=this.listenerMaps[n].map[e];if(r&&!1===r(t,this,e))return!1}}},{key:"init",value:function(e){return function(e,t){return k.init(t),r.default.init(t),O.init(t),E.init(t),S.init(t),e.usePlugin(d.default),e.document=t.document,e.window=t,e}(this,e)}},{key:"pluginIsInstalled",value:function(e){return this._plugins.map[e.id]||-1!==this._plugins.list.indexOf(e)}},{key:"usePlugin",value:function(e,t){if(this.pluginIsInstalled(e))return this;if(e.id&&(this._plugins.map[e.id]=e),this._plugins.list.push(e),e.install&&e.install(this,t),e.listeners&&e.before){for(var n=0;n<this.listenerMaps.length&&this.listenerMaps[n].id!==e.before;n++);this.listenerMaps.splice(n,0,{id:e.id,map:e.listeners})}else e.listeners&&this.listenerMaps.push({id:e.id,map:e.listeners});return this}},{key:"addDocument",value:function(e,t){if(-1!==this.getDocIndex(e))return!1;var n=k.getWindow(e);t=t?i.extend({},t):{},this.documents.push({doc:e,options:t}),S.documents.push(e),e!==this.document&&S.add(n,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:e,window:n,scope:this,options:t})}},{key:"removeDocument",value:function(e){var t=this.getDocIndex(e),n=k.getWindow(e),r=this.documents[t].options;S.remove(n,"unload",this.onWindowUnload),this.documents.splice(t,1),S.documents.splice(t,1),this.fire("scope:remove-document",{doc:e,window:n,scope:this,options:r})}},{key:"getDocIndex",value:function(e){for(var t=0;t<this.documents.length;t++)if(this.documents[t].doc===e)return t;return-1}},{key:"getDocOptions",value:function(e){var t=this.getDocIndex(e);return-1===t?null:this.documents[t].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();t.Scope=j})),n=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(S),i=u(o),a=u(Ce),s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(J),l=u(r({})),c=u(qn);function u(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function y(e,t){return function(r){var o=t.interactions.list,i=s.getPointerType(r),a=f(s.getEventTargets(r),2),l=a[0],c=a[1],u=[];if(/^touch/.test(r.type)){t.prevTouchTime=t.now();for(var d=0;d<r.changedTouches.length;d++){var p=r.changedTouches[d],h={pointer:p,pointerId:s.getPointerId(p),pointerType:i,eventType:r.type,eventTarget:l,curEventTarget:c,scope:t},m=b(h);u.push([h.pointer,h.eventTarget,h.curEventTarget,m])}}else{var g=!1;if(!n.default.supportsPointerEvent&&/mouse/.test(r.type)){for(var v=0;v<o.length&&!g;v++)g="mouse"!==o[v].pointerType&&o[v].pointerIsDown;g=g||t.now()-t.prevTouchTime<500||0===r.timeStamp}if(!g){var y={pointer:r,pointerId:s.getPointerId(r),pointerType:i,eventType:r.type,curEventTarget:c,eventTarget:l,scope:t},w=b(y);u.push([y.pointer,y.eventTarget,y.curEventTarget,w])}}for(var x=0;x<u.length;x++){var _=f(u[x],4),k=_[0],O=_[1],E=_[2];_[3][e](k,r,O,E)}}}function b(e){var t=e.pointerType,n=e.scope,r={interaction:c.default.search(e),searchDetails:e};return n.fire("interactions:find",r),r.interaction||n.interactions.new({pointerType:t})}function w(e,t){var n=e.doc,r=e.scope,o=e.options,i=r.interactions.docEvents,s=a.default[t];for(var l in r.browser.isIOS&&!o.events&&(o.events={passive:!1}),a.default.delegatedEvents)s(n,l,a.default.delegateListener),s(n,l,a.default.delegateUseCapture,!0);for(var c=o&&o.events,u=0;u<i.length;u++){var d=i[u];s(n,d.type,d.listener,c)}}var x={id:"core/interactions",install:function(e){for(var t={},r=0;r<v.length;r++){var o=v[r];t[o]=y(o,e)}var a,s=n.default.pEventTypes;function c(){for(var t=0;t<e.interactions.list.length;t++){var n=e.interactions.list[t];if(n.pointerIsDown&&"touch"===n.pointerType&&!n._interacting)for(var r=function(){var t=n.pointers[o];e.documents.some((function(e){var n=e.doc;return(0,I.nodeContains)(n,t.downTarget)}))||n.removePointer(t.pointer,t.event)},o=0;o<n.pointers.length;o++)r()}}(a=i.default.PointerEvent?[{type:s.down,listener:c},{type:s.down,listener:t.pointerDown},{type:s.move,listener:t.pointerMove},{type:s.up,listener:t.pointerUp},{type:s.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:c},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(t){for(var n=0;n<e.interactions.list.length;n++)e.interactions.list[n].documentBlur(t)}}),e.prevTouchTime=0,e.Interaction=function(){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,m(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,l.default),function(e,t,n){t&&p(e.prototype,t)}(t,[{key:"_now",value:function(){return e.now()}},{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(t){e.interactions.pointerMoveTolerance=t}}]),t}(),e.interactions={list:[],new:function(t){t.scopeFire=function(t,n){return e.fire(t,n)};var n=new e.Interaction(t);return e.interactions.list.push(n),n},listeners:t,docEvents:a,pointerMoveTolerance:1}},listeners:{"scope:add-document":function(e){return w(e,"add")},"scope:remove-document":function(e){return w(e,"remove")}},onDocSignal:w,doOnInteractions:y,methodNames:v};t.default=x})),r=e((function(e,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PointerInfo",{enumerable:!0,get:function(){return d.default}}),n.default=n.Interaction=n._ProxyMethods=n._ProxyValues=void 0;var o,i,a,s,l,c=h(ct),u=h(Sn),d=(o=Un)&&o.__esModule?o:{default:o},f=t({});function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function h(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n._ProxyValues=i,(a=i||(n._ProxyValues=i={})).interactable="",a.element="",a.prepared="",a.pointerIsDown="",a.pointerWasMoved="",a._proxy="",n._ProxyMethods=s,(l=s||(n._ProxyMethods=s={})).start="",l.move="",l.end="",l.stop="",l.interacting="";var y=function(){function e(t){var n=this,r=t.pointerType,o=t.scopeFire;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"interactable",null),v(this,"element",null),v(this,"rect",void 0),v(this,"edges",void 0),v(this,"_scopeFire",void 0),v(this,"prepared",{name:null,axis:null,edges:null}),v(this,"pointerType",void 0),v(this,"pointers",[]),v(this,"downEvent",null),v(this,"downPointer",{}),v(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),v(this,"prevEvent",null),v(this,"pointerIsDown",!1),v(this,"pointerWasMoved",!1),v(this,"_interacting",!1),v(this,"_ending",!1),v(this,"_stopped",!0),v(this,"_proxy",null),v(this,"simulation",null),v(this,"doMove",c.warnOnce((function(e){this.move(e)}),"The interaction.doMove() method has been renamed to interaction.move()")),v(this,"coords",{start:c.pointer.newCoords(),prev:c.pointer.newCoords(),cur:c.pointer.newCoords(),delta:c.pointer.newCoords(),velocity:c.pointer.newCoords()}),this._scopeFire=o,this.pointerType=r;var a=this;function l(e){Object.defineProperty(n._proxy,e,{get:function(){return a[e]}})}for(var u in this._proxy={},i)l(u);function d(e){Object.defineProperty(n._proxy,e,{value:function(){return a[e].apply(a,arguments)}})}for(var f in s)d(f);this._scopeFire("interactions:new",{interaction:this})}return g(e,[{key:"pointerMoveTolerance",get:function(){return 1}}]),g(e,[{key:"pointerDown",value:function(e,t,n){var r=this.updatePointer(e,t,n,!0);this._scopeFire("interactions:down",{pointer:e,event:t,eventTarget:n,pointerIndex:r,type:"down",interaction:this})}},{key:"start",value:function(e,t,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(e.name===f.ActionName.Gesture?2:1)||!t.options[e.name].enabled)&&(c.copyAction(this.prepared,e),this.interactable=t,this.element=n,this.rect=t.getRect(n),this.edges=this.prepared.edges,this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:u.EventPhase.Start})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(e,t,n){this.simulation||this.modifiers&&this.modifiers.endPrevented||(this.updatePointer(e,t,n,!1),c.pointer.setCoords(this.coords.cur,this.pointers.map((function(e){return e.pointer})),this._now()));var r,o,i=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,o=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=c.hypot(r,o)>this.pointerMoveTolerance);var a={pointer:e,pointerIndex:this.getPointerIndex(e),event:t,type:"move",eventTarget:n,dx:r,dy:o,duplicate:i,interaction:this};i||(c.pointer.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),c.pointer.setCoordVelocity(this.coords.velocity,this.coords.delta)),this._scopeFire("interactions:move",a),i||(this.interacting()&&(a.type=null,this.move(a)),this.pointerWasMoved&&c.pointer.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(e){(e=c.extend({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},e||{})).phase=u.EventPhase.Move,this._doPhase(e)}},{key:"pointerUp",value:function(e,t,n,r){var o=this.getPointerIndex(e);-1===o&&(o=this.updatePointer(e,t,n,!1));var i=/cancel$/i.test(t.type)?"cancel":"up";this._scopeFire("interactions:".concat(i),{pointer:e,pointerIndex:o,event:t,eventTarget:n,type:i,curEventTarget:r,interaction:this}),this.simulation||this.end(t),this.pointerIsDown=!1,this.removePointer(e,t)}},{key:"documentBlur",value:function(e){this.end(e),this._scopeFire("interactions:blur",{event:e,type:"blur",interaction:this})}},{key:"end",value:function(e){var t;this._ending=!0,e=e||this._latestPointer.event,this.interacting()&&(t=this._doPhase({event:e,interaction:this,phase:u.EventPhase.End})),!(this._ending=!1)===t&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(e){var t=c.pointer.getPointerId(e);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:c.arr.findIndex(this.pointers,(function(e){return e.id===t}))}},{key:"getPointerInfo",value:function(e){return this.pointers[this.getPointerIndex(e)]}},{key:"updatePointer",value:function(e,t,n,r){var o=c.pointer.getPointerId(e),i=this.getPointerIndex(e),a=this.pointers[i];return r=!1!==r&&(r||/(down|start)$/i.test(t.type)),a?a.pointer=e:(a=new d.default(o,e,t,null,null),i=this.pointers.length,this.pointers.push(a)),r&&(this.pointerIsDown=!0,this.interacting()||(c.pointer.setCoords(this.coords.start,this.pointers.map((function(e){return e.pointer})),this._now()),c.pointer.copyCoords(this.coords.cur,this.coords.start),c.pointer.copyCoords(this.coords.prev,this.coords.start),c.pointer.pointerExtend(this.downPointer,e),this.downEvent=t,a.downTime=this.coords.cur.timeStamp,a.downTarget=n,this.pointerWasMoved=!1)),this._updateLatestPointer(e,t,n),this._scopeFire("interactions:update-pointer",{pointer:e,event:t,eventTarget:n,down:r,pointerInfo:a,pointerIndex:i,interaction:this}),i}},{key:"removePointer",value:function(e,t){var n=this.getPointerIndex(e);if(-1!==n){var r=this.pointers[n];this._scopeFire("interactions:remove-pointer",{pointer:e,event:t,eventTarget:null,pointerIndex:n,pointerInfo:r,interaction:this}),this.pointers.splice(n,1)}}},{key:"_updateLatestPointer",value:function(e,t,n){this._latestPointer.pointer=e,this._latestPointer.event=t,this._latestPointer.eventTarget=n}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(e,t,n,r){var o=this.prepared.name;return new u.default(this,e,o,t,this.element,null,n,r)}},{key:"_fireEvent",value:function(e){this.interactable.fire(e),(!this.prevEvent||e.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=e)}},{key:"_doPhase",value:function(e){var t=e.event,n=e.phase,r=e.preEnd,o=e.type;if(!1===this._scopeFire("interactions:before-action-".concat(n),e))return!1;var i=e.iEvent=this._createPreparedEvent(t,n,r,o),a=this.rect;if(a){var s=this.edges||this.prepared.edges||{left:!0,right:!0,top:!0,bottom:!0};s.top&&(a.top+=i.delta.y),s.bottom&&(a.bottom+=i.delta.y),s.left&&(a.left+=i.delta.x),s.right&&(a.right+=i.delta.x),a.width=a.right-a.left,a.height=a.bottom-a.top}return this._scopeFire("interactions:action-".concat(n),e),this._fireEvent(i),this._scopeFire("interactions:after-action-".concat(n),e),!0}},{key:"_now",value:function(){return Date.now()}}]),e}(),b=n.Interaction=y;n.default=b})),o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i={init:function(e){var t=e;i.document=t.document,i.DocumentFragment=t.DocumentFragment||a,i.SVGElement=t.SVGElement||a,i.SVGSVGElement=t.SVGSVGElement||a,i.SVGElementInstance=t.SVGElementInstance||a,i.Element=t.Element||a,i.HTMLElement=t.HTMLElement||i.Element,i.Event=t.Event,i.Touch=t.Touch||a,i.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function a(){}var s=i;o.default=s;var l={};function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function u(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1}Object.defineProperty(l,"__esModule",{value:!0}),l.contains=function(e,t){return-1!==e.indexOf(t)},l.remove=function(e,t){return e.splice(e.indexOf(t),1)},l.merge=c,l.from=function(e){return c([],e)},l.findIndex=u,l.find=function(e,t){return e[u(e,t)]};var d={};Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0,d.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var f={};Object.defineProperty(f,"__esModule",{value:!0}),f.init=g,f.getWindow=v,f.default=void 0;var p,h=(p=d)&&p.__esModule?p:{default:p},m={realWindow:void 0,window:void 0,getWindow:v,init:g};function g(e){var t=(m.realWindow=e).document.createTextNode("");t.ownerDocument!==e.document&&"function"==typeof e.wrap&&e.wrap(t)===t&&(e=e.wrap(e)),m.window=e}function v(e){return(0,h.default)(e)?e:(e.ownerDocument||e).defaultView||m.window}"undefined"==typeof window?(m.window=void 0,m.realWindow=void 0):g(window),m.init=g;var y=m;f.default=y;var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.array=b.plainObject=b.element=b.string=b.bool=b.number=b.func=b.object=b.docFrag=b.window=void 0;var w=_(d),x=_(f);function _(e){return e&&e.__esModule?e:{default:e}}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}b.window=function(e){return e===x.default.window||(0,w.default)(e)},b.docFrag=function(e){return O(e)&&11===e.nodeType};var O=function(e){return!!e&&"object"===k(e)};function E(e){return"function"==typeof e}b.object=O,b.func=E,b.number=function(e){return"number"==typeof e},b.bool=function(e){return"boolean"==typeof e},b.string=function(e){return"string"==typeof e},b.element=function(e){if(!e||"object"!==k(e))return!1;var t=x.default.getWindow(e)||x.default.window;return/object|function/.test(k(t.Element))?e instanceof t.Element:1===e.nodeType&&"string"==typeof e.nodeName},b.plainObject=function(e){return O(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},b.array=function(e){return O(e)&&void 0!==e.length&&E(e.splice)};var S={};function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var C=M(o),P=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==j(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(b),T=M(f);function M(e){return e&&e.__esModule?e:{default:e}}var A={init:function(e){var t=C.default.Element,n=T.default.window.navigator;A.supportsTouch="ontouchstart"in e||P.func(e.DocumentTouch)&&C.default.document instanceof e.DocumentTouch,A.supportsPointerEvent=!1!==n.pointerEnabled&&!!C.default.PointerEvent,A.isIOS=/iP(hone|od|ad)/.test(n.platform),A.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),A.isIe9=/MSIE 9/.test(n.userAgent),A.isOperaMobile="Opera"===n.appName&&A.supportsTouch&&/Presto/.test(n.userAgent),A.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",A.pEventTypes=A.supportsPointerEvent?C.default.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,A.wheelEvent="onmousewheel"in C.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},D=A;S.default=D;var I={};function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(I,"__esModule",{value:!0}),I.nodeContains=function(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1},I.closest=function(e,t){for(;N.element(e);){if(Y(e,t))return e;e=U(e)}return null},I.parentNode=U,I.matchesSelector=Y,I.indexOfDeepestElement=function(e){var t,n,r=[],o=e[0],i=o?0:-1;for(t=1;t<e.length;t++){var a=e[t];if(a&&a!==o)if(o){if(a.parentNode!==a.ownerDocument)if(o.parentNode!==a.ownerDocument)if(a.parentNode!==o.parentNode){if(!r.length)for(var s=o,l=void 0;(l=q(s))&&l!==s.ownerDocument;)r.unshift(s),s=l;var c=void 0;if(o instanceof L.default.HTMLElement&&a instanceof L.default.SVGElement&&!(a instanceof L.default.SVGSVGElement)){if(a===o.parentNode)continue;c=a.ownerSVGElement}else c=a;for(var u=[];c.parentNode!==c.ownerDocument;)u.unshift(c),c=q(c);for(n=0;u[n]&&u[n]===r[n];)n++;for(var d=[u[n-1],u[n],r[n]],f=d[0].lastChild;f;){if(f===d[1]){o=a,i=t,r=u;break}if(f===d[2])break;f=f.previousSibling}}else(parseInt((0,F.getWindow)(o).getComputedStyle(o).zIndex,10)||0)<=(parseInt((0,F.getWindow)(a).getComputedStyle(a).zIndex,10)||0)&&(o=a,i=t);else o=a,i=t}else o=a,i=t}return i},I.matchesUpTo=function(e,t,n){for(;N.element(e);){if(Y(e,t))return!0;if((e=U(e))===n)return Y(e,t)}return!1},I.getActualElement=function(e){return e instanceof L.default.SVGElementInstance?e.correspondingUseElement:e},I.getScrollXY=$,I.getElementClientRect=G,I.getElementRect=function(e){var t=G(e);if(!z.default.isIOS7&&t){var n=$(F.default.getWindow(e));t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t},I.getPath=function(e){for(var t=[];e;)t.push(e),e=U(e);return t},I.trySelector=function(e){return!!N.string(e)&&(L.default.document.querySelector(e),!0)};var z=H(S),L=H(o),N=W(b),F=W(f);function B(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return B=function(){return e},e}function W(e){if(e&&e.__esModule)return e;if(null===e||"object"!==R(e)&&"function"!=typeof e)return{default:e};var t=B();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function H(e){return e&&e.__esModule?e:{default:e}}function U(e){var t=e.parentNode;if(N.docFrag(t)){for(;(t=t.host)&&N.docFrag(t););return t}return t}function Y(e,t){return F.default.window!==F.default.realWindow&&(t=t.replace(/\/deep\//g," ")),e[z.default.prefixedMatchesSelector](t)}var q=function(e){return e.parentNode?e.parentNode:e.host};function $(e){return{x:(e=e||F.default.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function G(e){var t=e instanceof L.default.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}var X={};Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0,X.default=function(e,t){return Math.sqrt(e*e+t*t)};var K={};function V(e,t){for(var n in t){var r=V.prefixedPropREs,o=!1;for(var i in r)if(0===n.indexOf(i)&&r[i].test(n)){o=!0;break}o||"function"==typeof t[n]||(e[n]=t[n])}return e}Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0,V.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,moz:/(Pressure)$/};var Z=V;K.default=Z;var J={};function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(J,"__esModule",{value:!0}),J.copyCoords=function(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp},J.setCoordDeltas=function(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp},J.setCoordVelocity=function(e,t){var n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n},J.setZeroCoords=function(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0},J.isNativePointer=ce,J.getXY=ue,J.getPageXY=de,J.getClientXY=fe,J.getPointerId=function(e){return oe.number(e.pointerId)?e.pointerId:e.identifier},J.setCoords=function(e,t,n){var r=1<t.length?he(t):t[0],o={};de(r,o),e.page.x=o.x,e.page.y=o.y,fe(r,o),e.client.x=o.x,e.client.y=o.y,e.timeStamp=n},J.getTouchPair=pe,J.pointerAverage=he,J.touchBBox=function(e){if(!(e.length||e.touches&&1<e.touches.length))return null;var t=pe(e),n=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),o=Math.max(t[0].pageX,t[1].pageX),i=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:r,left:n,top:r,right:o,bottom:i,width:o-n,height:i-r}},J.touchDistance=function(e,t){var n=t+"X",r=t+"Y",o=pe(e),i=o[0][n]-o[1][n],a=o[0][r]-o[1][r];return(0,re.default)(i,a)},J.touchAngle=function(e,t){var n=t+"X",r=t+"Y",o=pe(e),i=o[1][n]-o[0][n],a=o[1][r]-o[0][r];return 180*Math.atan2(a,i)/Math.PI},J.getPointerType=function(e){return oe.string(e.pointerType)?e.pointerType:oe.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type)||e instanceof te.default.Touch?"touch":"mouse"},J.getEventTargets=function(e){var t=oe.func(e.composedPath)?e.composedPath():e.path;return[ne.getActualElement(t?t[0]:e.target),ne.getActualElement(e.currentTarget)]},J.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},J.coordsToEvent=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons}}},Object.defineProperty(J,"pointerExtend",{enumerable:!0,get:function(){return ie.default}});var ee=le(S),te=le(o),ne=se(I),re=le(X),oe=se(b),ie=le(K);function ae(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return ae=function(){return e},e}function se(e){if(e&&e.__esModule)return e;if(null===e||"object"!==Q(e)&&"function"!=typeof e)return{default:e};var t=ae();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function le(e){return e&&e.__esModule?e:{default:e}}function ce(e){return e instanceof te.default.Event||e instanceof te.default.Touch}function ue(e,t,n){return(n=n||{}).x=t[(e=e||"page")+"X"],n.y=t[e+"Y"],n}function de(e,t){return t=t||{x:0,y:0},ee.default.isOperaMobile&&ce(e)?(ue("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):ue("page",e,t),t}function fe(e,t){return t=t||{},ee.default.isOperaMobile&&ce(e)?ue("screen",e,t):ue("client",e,t),t}function pe(e){var t=[];return oe.array(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function he(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++){var r=e[n];for(var o in t)t[o]+=r[o]}for(var i in t)t[i]/=e.length;return t}var me={};Object.defineProperty(me,"__esModule",{value:!0}),me.default=function(e,t){for(var n in t)e[n]=t[n];return e};var ge={};function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(ge,"__esModule",{value:!0}),ge.getStringOptionResult=xe,ge.resolveRectLike=function(e,t,n,r){return we.string(e)?e=xe(e,t,n):we.func(e)&&(e=e.apply(void 0,function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(r))),we.element(e)&&(e=(0,I.getElementRect)(e)),e},ge.rectToXY=function(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}},ge.xywhToTlbr=function(e){return!e||"left"in e&&"top"in e||((e=(0,be.default)({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e},ge.tlbrToXywh=function(e){return!e||"x"in e&&"y"in e||((e=(0,be.default)({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||e.right-e.x,e.height=e.height||e.bottom-e.y),e};var ye,be=(ye=me)&&ye.__esModule?ye:{default:ye},we=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==ve(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(b);function xe(e,t,n){return"parent"===e?(0,I.parentNode)(n):"self"===e?t.getRect(n):(0,I.closest)(n,e)}var _e={};function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function e(t){var n={};for(var r in t){var o=t[r];Ee.plainObject(o)?n[r]=e(o):Ee.array(o)?n[r]=Oe.from(o):n[r]=o}return n};var Oe=je(l),Ee=je(b);function Se(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return Se=function(){return e},e}function je(e){if(e&&e.__esModule)return e;if(null===e||"object"!==ke(e)&&"function"!=typeof e)return{default:e};var t=Se();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}var Ce={};function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.default=Ce.FakeEvent=void 0;var Te,Me=ze(I),Ae=ze(b),De=(Te=K)&&Te.__esModule?Te:{default:Te},Ie=ze(J);function Re(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return Re=function(){return e},e}function ze(e){if(e&&e.__esModule)return e;if(null===e||"object"!==Pe(e)&&"function"!=typeof e)return{default:e};var t=Re();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Fe=[],Be=[],We={},He=[];function Ue(e,t,n,r){var o=Ge(r),i=Fe.indexOf(e),a=Be[i];a||(a={events:{},typeCount:0},i=Fe.push(e)-1,Be.push(a)),a.events[t]||(a.events[t]=[],a.typeCount++),(0,l.contains)(a.events[t],n)||(e.addEventListener(t,n,Ke.supportsOptions?o:!!o.capture),a.events[t].push(n))}function Ye(e,t,n,r){var o=Ge(r),i=Fe.indexOf(e),a=Be[i];if(a&&a.events)if("all"!==t){if(a.events[t]){var s=a.events[t].length;if("all"===n){for(var l=0;l<s;l++)Ye(e,t,a.events[t][l],o);return}for(var c=0;c<s;c++)if(a.events[t][c]===n){e.removeEventListener(t,n,Ke.supportsOptions?o:!!o.capture),a.events[t].splice(c,1);break}a.events[t]&&0===a.events[t].length&&(a.events[t]=null,a.typeCount--)}a.typeCount||(Be.splice(i,1),Fe.splice(i,1))}else for(t in a.events)a.events.hasOwnProperty(t)&&Ye(e,t,"all")}function qe(e,t){for(var n=Ge(t),r=new Xe(e),o=We[e.type],i=Ne(Ie.getEventTargets(e),1)[0],a=i;Ae.element(a);){for(var s=0;s<o.selectors.length;s++){var l=o.selectors[s],c=o.contexts[s];if(Me.matchesSelector(a,l)&&Me.nodeContains(c,i)&&Me.nodeContains(c,a)){var u=o.listeners[s];r.currentTarget=a;for(var d=0;d<u.length;d++){var f=Ne(u[d],3),p=f[0],h=f[1],m=f[2];h===!!n.capture&&m===n.passive&&p(r)}}}a=Me.parentNode(a)}}function $e(e){return qe.call(this,e,!0)}function Ge(e){return Ae.object(e)?e:{capture:e}}var Xe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.originalEvent=t,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"currentTarget",void 0),(0,De.default)(this,t)}return function(e,t,n){t&&Le(e.prototype,t)}(e,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),e}();Ce.FakeEvent=Xe;var Ke={add:Ue,remove:Ye,addDelegate:function(e,t,n,r,o){var i=Ge(o);if(!We[n]){We[n]={contexts:[],listeners:[],selectors:[]};for(var a=0;a<He.length;a++){var s=He[a];Ue(s,n,qe),Ue(s,n,$e,!0)}}var l,c=We[n];for(l=c.selectors.length-1;0<=l&&(c.selectors[l]!==e||c.contexts[l]!==t);l--);-1===l&&(l=c.selectors.length,c.selectors.push(e),c.contexts.push(t),c.listeners.push([])),c.listeners[l].push([r,!!i.capture,i.passive])},removeDelegate:function(e,t,n,r,o){var i,a=Ge(o),s=We[n],l=!1;if(s)for(i=s.selectors.length-1;0<=i;i--)if(s.selectors[i]===e&&s.contexts[i]===t){for(var c=s.listeners[i],u=c.length-1;0<=u;u--){var d=Ne(c[u],3),f=d[0],p=d[1],h=d[2];if(f===r&&p===!!a.capture&&h===a.passive){c.splice(u,1),c.length||(s.selectors.splice(i,1),s.contexts.splice(i,1),s.listeners.splice(i,1),Ye(t,n,qe),Ye(t,n,$e,!0),s.selectors.length||(We[n]=null)),l=!0;break}}if(l)break}},delegateListener:qe,delegateUseCapture:$e,delegatedEvents:We,documents:He,supportsOptions:!1,supportsPassive:!1,_elements:Fe,_targets:Be,init:function(e){e.document.createElement("div").addEventListener("test",null,{get capture(){return Ke.supportsOptions=!0},get passive(){return Ke.supportsPassive=!0}})}},Ve=Ke;Ce.default=Ve;var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=function(e,t,n){var r=e.options[n],o=r&&r.origin||e.options.origin,i=(0,ge.resolveRectLike)(o,e,t,[e&&t]);return(0,ge.rectToXY)(i)||{x:0,y:0}};var Je={};function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(Je,"__esModule",{value:!0}),Je.default=function e(t,n,r){if(r=r||{},nt.string(t)&&-1!==t.search(" ")&&(t=rt(t)),nt.array(t))return t.reduce((function(t,o){return(0,tt.default)(t,e(o,n,r))}),r);if(nt.object(t)&&(n=t,t=""),nt.func(n))r[t]=r[t]||[],r[t].push(n);else if(nt.array(n))for(var o=0;o<n.length;o++){var i=n[o];e(t,i,r)}else if(nt.object(n))for(var a in n){var s=rt(a).map((function(e){return"".concat(t).concat(e)}));e(s,n[a],r)}return r};var et,tt=(et=me)&&et.__esModule?et:{default:et},nt=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==Qe(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(b);function rt(e){return e.trim().split(/ +/)}var ot={};Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=void 0;var it,at,st=0,lt={request:function(e){return it(e)},cancel:function(e){return at(e)},init:function(e){if(it=e.requestAnimationFrame,at=e.cancelAnimationFrame,!it)for(var t=["ms","moz","webkit","o"],n=0;n<t.length;n++){var r=t[n];it=e["".concat(r,"RequestAnimationFrame")],at=e["".concat(r,"CancelAnimationFrame")]||e["".concat(r,"CancelRequestAnimationFrame")]}it||(it=function(e){var t=Date.now(),n=Math.max(0,16-(t-st)),r=setTimeout((function(){e(t+n)}),n);return st=t+n,r},at=function(e){return clearTimeout(e)})}};ot.default=lt;var ct={};function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(ct,"__esModule",{value:!0}),ct.warnOnce=function(e,t){var n=!1;return function(){return n||(gt.default.window.console.warn(t),n=!0),e.apply(this,arguments)}},ct._getQBezierValue=Ct,ct.getQuadraticCurvePoint=function(e,t,n,r,o,i,a){return{x:Ct(a,e,n,o),y:Ct(a,t,r,i)}},ct.easeOutQuad=function(e,t,n,r){return-n*(e/=r)*(e-2)+t},ct.copyAction=function(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e},Object.defineProperty(ct,"win",{enumerable:!0,get:function(){return gt.default}}),Object.defineProperty(ct,"browser",{enumerable:!0,get:function(){return vt.default}}),Object.defineProperty(ct,"clone",{enumerable:!0,get:function(){return yt.default}}),Object.defineProperty(ct,"events",{enumerable:!0,get:function(){return bt.default}}),Object.defineProperty(ct,"extend",{enumerable:!0,get:function(){return wt.default}}),Object.defineProperty(ct,"getOriginXY",{enumerable:!0,get:function(){return xt.default}}),Object.defineProperty(ct,"hypot",{enumerable:!0,get:function(){return _t.default}}),Object.defineProperty(ct,"normalizeListeners",{enumerable:!0,get:function(){return kt.default}}),Object.defineProperty(ct,"raf",{enumerable:!0,get:function(){return Ot.default}}),ct.rect=ct.pointer=ct.is=ct.dom=ct.arr=void 0;var dt=jt(l);ct.arr=dt;var ft=jt(I);ct.dom=ft;var pt=jt(b);ct.is=pt;var ht=jt(J);ct.pointer=ht;var mt=jt(ge);ct.rect=mt;var gt=Et(f),vt=Et(S),yt=Et(_e),bt=Et(Ce),wt=Et(me),xt=Et(Ze),_t=Et(X),kt=Et(Je),Ot=Et(ot);function Et(e){return e&&e.__esModule?e:{default:e}}function St(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return St=function(){return e},e}function jt(e){if(e&&e.__esModule)return e;if(null===e||"object"!==ut(e)&&"function"!=typeof e)return{default:e};var t=St();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function Ct(e,t,n,r){var o=1-e;return o*o*t+2*o*e*n+e*e*r}var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.default=Pt.defaults=void 0;var Tt=Pt.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};Pt.default=Tt;var Mt={};function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.default=void 0;var Dt=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==At(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(l),It=zt(me),Rt=zt(Je);function zt(e){return e&&e.__esModule?e:{default:e}}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e.immediatePropagationStopped)break;r(e)}}var Bt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Nt(this,"options",void 0),Nt(this,"types",{}),Nt(this,"propagationStopped",!1),Nt(this,"immediatePropagationStopped",!1),Nt(this,"global",void 0),this.options=(0,It.default)({},t||{})}return function(e,t,n){t&&Lt(e.prototype,t)}(e,[{key:"fire",value:function(e){var t,n=this.global;(t=this.types[e.type])&&Ft(e,t),!e.propagationStopped&&n&&(t=n[e.type])&&Ft(e,t)}},{key:"on",value:function(e,t){var n=(0,Rt.default)(e,t);for(e in n)this.types[e]=Dt.merge(this.types[e]||[],n[e])}},{key:"off",value:function(e,t){var n=(0,Rt.default)(e,t);for(e in n){var r=this.types[e];if(r&&r.length)for(var o=0;o<n[e].length;o++){var i=n[e][o],a=r.indexOf(i);-1!==a&&r.splice(a,1)}}}},{key:"getRect",value:function(){return null}}]),e}();Mt.default=Bt;var Wt={};function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=Wt.Interactable=void 0;var Ut=Qt(l),Yt=Zt(S),qt=Zt(_e),$t=Zt(Ce),Gt=Zt(me),Xt=Qt(b),Kt=Zt(Je),Vt=Zt(Mt);function Zt(e){return e&&e.__esModule?e:{default:e}}function Jt(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return Jt=function(){return e},e}function Qt(e){if(e&&e.__esModule)return e;if(null===e||"object"!==Ht(e)&&"function"!=typeof e)return{default:e};var t=Jt();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tn(e,t,n){return t&&en(e.prototype,t),n&&en(e,n),e}function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rn=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),nn(this,"options",void 0),nn(this,"_actions",void 0),nn(this,"target",void 0),nn(this,"events",new Vt.default),nn(this,"_context",void 0),nn(this,"_win",void 0),nn(this,"_doc",void 0),this._actions=n.actions,this.target=t,this._context=n.context||r,this._win=(0,f.getWindow)((0,I.trySelector)(t)?this._context:t),this._doc=this._win.document,this.set(n)}return tn(e,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}}]),tn(e,[{key:"setOnEvents",value:function(e,t){return Xt.func(t.onstart)&&this.on("".concat(e,"start"),t.onstart),Xt.func(t.onmove)&&this.on("".concat(e,"move"),t.onmove),Xt.func(t.onend)&&this.on("".concat(e,"end"),t.onend),Xt.func(t.oninertiastart)&&this.on("".concat(e,"inertiastart"),t.oninertiastart),this}},{key:"updatePerActionListeners",value:function(e,t,n){(Xt.array(t)||Xt.object(t))&&this.off(e,t),(Xt.array(n)||Xt.object(n))&&this.on(e,n)}},{key:"setPerAction",value:function(e,t){var n=this._defaults;for(var r in t){var o=this.options[e],i=t[r],a=Xt.array(i);"listeners"===r&&this.updatePerActionListeners(e,o.listeners,i),a?o[r]=Ut.from(i):!a&&Xt.plainObject(i)?(o[r]=(0,Gt.default)(o[r]||{},(0,qt.default)(i)),Xt.object(n.perAction[r])&&"enabled"in n.perAction[r]&&(o[r].enabled=!1!==i.enabled)):Xt.bool(i)&&Xt.object(n.perAction[r])?o[r].enabled=i:o[r]=i}}},{key:"getRect",value:function(e){return e=e||(Xt.element(this.target)?this.target:null),Xt.string(this.target)&&(e=e||this._context.querySelector(this.target)),(0,I.getElementRect)(e)}},{key:"rectChecker",value:function(e){return Xt.func(e)?(this.getRect=e,this):null===e?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(e,t){if((0,I.trySelector)(t)||Xt.object(t)){this.options[e]=t;for(var n=0;n<this._actions.names.length;n++){var r=this._actions.names[n];this.options[r][e]=t}return this}return this.options[e]}},{key:"origin",value:function(e){return this._backCompatOption("origin",e)}},{key:"deltaSource",value:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(e){return this._context===e.ownerDocument||(0,I.nodeContains)(this._context,e)}},{key:"testIgnoreAllow",value:function(e,t,n){return!this.testIgnore(e.ignoreFrom,t,n)&&this.testAllow(e.allowFrom,t,n)}},{key:"testAllow",value:function(e,t,n){return!e||!!Xt.element(n)&&(Xt.string(e)?(0,I.matchesUpTo)(n,e,t):!!Xt.element(e)&&(0,I.nodeContains)(e,n))}},{key:"testIgnore",value:function(e,t,n){return!(!e||!Xt.element(n))&&(Xt.string(e)?(0,I.matchesUpTo)(n,e,t):!!Xt.element(e)&&(0,I.nodeContains)(e,n))}},{key:"fire",value:function(e){return this.events.fire(e),this}},{key:"_onOff",value:function(e,t,n,r){Xt.object(t)&&!Xt.array(t)&&(r=n,n=null);var o="on"===e?"add":"remove",i=(0,Kt.default)(t,n);for(var a in i){"wheel"===a&&(a=Yt.default.wheelEvent);for(var s=0;s<i[a].length;s++){var l=i[a][s];Ut.contains(this._actions.eventTypes,a)?this.events[e](a,l):Xt.string(this.target)?$t.default["".concat(o,"Delegate")](this.target,this._context,a,l,r):$t.default[o](this.target,a,l,r)}}return this}},{key:"on",value:function(e,t,n){return this._onOff("on",e,t,n)}},{key:"off",value:function(e,t,n){return this._onOff("off",e,t,n)}},{key:"set",value:function(e){var t=this._defaults;for(var n in Xt.object(e)||(e={}),this.options=(0,qt.default)(t.base),this._actions.methodDict){var r=this._actions.methodDict[n];this.options[n]={},this.setPerAction(n,(0,Gt.default)((0,Gt.default)({},t.perAction),t.actions[n])),this[r](e[n])}for(var o in e)Xt.func(this[o])&&this[o](e[o]);return this}},{key:"unset",value:function(){if($t.default.remove(this.target,"all"),Xt.string(this.target))for(var e in $t.default.delegatedEvents){var t=$t.default.delegatedEvents[e];t.selectors[0]===this.target&&t.contexts[0]===this._context&&(t.selectors.splice(0,1),t.contexts.splice(0,1),t.listeners.splice(0,1),t.selectors.length||(t[e]=null)),$t.default.remove(this._context,e,$t.default.delegateListener),$t.default.remove(this._context,e,$t.default.delegateUseCapture,!0)}else $t.default.remove(this.target,"all")}}]),e}(),on=Wt.Interactable=rn;Wt.default=on;var an={};function sn(e){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(an,"__esModule",{value:!0}),an.default=void 0;var ln,cn=hn(l),un=hn(I),dn=(ln=me)&&ln.__esModule?ln:{default:ln},fn=hn(b);function pn(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return pn=function(){return e},e}function hn(e){if(e&&e.__esModule)return e;if(null===e||"object"!==sn(e)&&"function"!=typeof e)return{default:e};var t=pn();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vn=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scope=t,gn(this,"list",[]),gn(this,"selectorMap",{}),t.addListeners({"interactable:unset":function(e){var t=e.interactable,r=t.target,o=t._context,i=fn.string(r)?n.selectorMap[r]:r[n.scope.id],a=i.findIndex((function(e){return e.context===o}));i[a]&&(i[a].context=null,i[a].interactable=null),i.splice(a,1)}})}return function(e,t,n){t&&mn(e.prototype,t)}(e,[{key:"new",value:function(e,t){t=(0,dn.default)(t||{},{actions:this.scope.actions});var n=new this.scope.Interactable(e,t,this.scope.document),r={context:n._context,interactable:n};return this.scope.addDocument(n._doc),this.list.push(n),fn.string(e)?(this.selectorMap[e]||(this.selectorMap[e]=[]),this.selectorMap[e].push(r)):(n.target[this.scope.id]||Object.defineProperty(e,this.scope.id,{value:[],configurable:!0}),e[this.scope.id].push(r)),this.scope.fire("interactable:new",{target:e,options:t,interactable:n,win:this.scope._win}),n}},{key:"get",value:function(e,t){var n=t&&t.context||this.scope.document,r=fn.string(e),o=r?this.selectorMap[e]:e[this.scope.id];if(!o)return null;var i=cn.find(o,(function(t){return t.context===n&&(r||t.interactable.inContext(e))}));return i&&i.interactable}},{key:"forEachMatch",value:function(e,t){for(var n=0;n<this.list.length;n++){var r=this.list[n],o=void 0;if((fn.string(r.target)?fn.element(e)&&un.matchesSelector(e,r.target):e===r.target)&&r.inContext(e)&&(o=t(r)),void 0!==o)return o}}}]),e}();an.default=vn;var yn,bn,wn={};function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _n(e,t,n){return t&&xn(e.prototype,t),n&&xn(e,n),e}function kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(wn,"__esModule",{value:!0}),wn.default=wn.BaseEvent=wn.EventPhase=void 0,wn.EventPhase=yn,(bn=yn||(wn.EventPhase=yn={})).Start="start",bn.Move="move",bn.End="end",bn._NONE="";var On=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),kn(this,"type",void 0),kn(this,"target",void 0),kn(this,"currentTarget",void 0),kn(this,"interactable",void 0),kn(this,"_interaction",void 0),kn(this,"timeStamp",void 0),kn(this,"immediatePropagationStopped",!1),kn(this,"propagationStopped",!1),this._interaction=t}return _n(e,[{key:"interaction",get:function(){return this._interaction._proxy}}]),_n(e,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),e}(),En=wn.BaseEvent=On;wn.default=En;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.default=Sn.InteractEvent=Sn.EventPhase=void 0;var jn,Cn,Pn=In(me),Tn=In(Ze),Mn=In(X),An=In(wn),Dn=In(Pt);function In(e){return e&&e.__esModule?e:{default:e}}function Rn(e){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ln(e){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Sn.EventPhase=jn,(Cn=jn||(Sn.EventPhase=jn={})).Start="start",Cn.Move="move",Cn.End="end",Cn._NONE="";var Wn=function(){function e(t,n,r,o,i,a,s,l){var c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c=function(e,t){return!t||"object"!==Rn(t)&&"function"!=typeof t?Nn(e):t}(this,Ln(e).call(this,t)),Bn(Nn(c),"target",void 0),Bn(Nn(c),"currentTarget",void 0),Bn(Nn(c),"relatedTarget",void 0),Bn(Nn(c),"screenX",void 0),Bn(Nn(c),"screenY",void 0),Bn(Nn(c),"button",void 0),Bn(Nn(c),"buttons",void 0),Bn(Nn(c),"ctrlKey",void 0),Bn(Nn(c),"shiftKey",void 0),Bn(Nn(c),"altKey",void 0),Bn(Nn(c),"metaKey",void 0),Bn(Nn(c),"page",void 0),Bn(Nn(c),"client",void 0),Bn(Nn(c),"delta",void 0),Bn(Nn(c),"rect",void 0),Bn(Nn(c),"x0",void 0),Bn(Nn(c),"y0",void 0),Bn(Nn(c),"t0",void 0),Bn(Nn(c),"dt",void 0),Bn(Nn(c),"duration",void 0),Bn(Nn(c),"clientX0",void 0),Bn(Nn(c),"clientY0",void 0),Bn(Nn(c),"velocity",void 0),Bn(Nn(c),"speed",void 0),Bn(Nn(c),"swipe",void 0),Bn(Nn(c),"timeStamp",void 0),Bn(Nn(c),"dragEnter",void 0),Bn(Nn(c),"dragLeave",void 0),Bn(Nn(c),"axes",void 0),Bn(Nn(c),"preEnd",void 0),i=i||t.element;var u=t.interactable,d=(u&&u.options||Dn.default).deltaSource,f=(0,Tn.default)(u,i,r),p="start"===o,h="end"===o,m=p?Nn(c):t.prevEvent,g=p?t.coords.start:h?{page:m.page,client:m.client,timeStamp:t.coords.cur.timeStamp}:t.coords.cur;return c.page=(0,Pn.default)({},g.page),c.client=(0,Pn.default)({},g.client),c.rect=(0,Pn.default)({},t.rect),c.timeStamp=g.timeStamp,h||(c.page.x-=f.x,c.page.y-=f.y,c.client.x-=f.x,c.client.y-=f.y),c.ctrlKey=n.ctrlKey,c.altKey=n.altKey,c.shiftKey=n.shiftKey,c.metaKey=n.metaKey,c.button=n.button,c.buttons=n.buttons,c.target=i,c.currentTarget=i,c.relatedTarget=a||null,c.preEnd=s,c.type=l||r+(o||""),c.interactable=u,c.t0=p?t.pointers[t.pointers.length-1].downTime:m.t0,c.x0=t.coords.start.page.x-f.x,c.y0=t.coords.start.page.y-f.y,c.clientX0=t.coords.start.client.x-f.x,c.clientY0=t.coords.start.client.y-f.y,c.delta=p||h?{x:0,y:0}:{x:c[d].x-m[d].x,y:c[d].y-m[d].y},c.dt=t.coords.delta.timeStamp,c.duration=c.timeStamp-c.t0,c.velocity=(0,Pn.default)({},t.coords.velocity[d]),c.speed=(0,Mn.default)(c.velocity.x,c.velocity.y),c.swipe=h||"inertiastart"===o?c.getSwipe():null,c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(e,An.default),function(e,t,n){t&&zn(e.prototype,t)}(e,[{key:"getSwipe",value:function(){var e=this._interaction;if(e.prevEvent.speed<600||150<this.timeStamp-e.prevEvent.timeStamp)return null;var t=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI;t<0&&(t+=360);var n=112.5<=t&&t<247.5,r=202.5<=t&&t<337.5;return{up:r,down:!r&&22.5<=t&&t<157.5,left:n,right:!n&&(292.5<=t||t<67.5),angle:t,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"pageX",get:function(){return this.page.x},set:function(e){this.page.x=e}},{key:"pageY",get:function(){return this.page.y},set:function(e){this.page.y=e}},{key:"clientX",get:function(){return this.client.x},set:function(e){this.client.x=e}},{key:"clientY",get:function(){return this.client.y},set:function(e){this.client.y=e}},{key:"dx",get:function(){return this.delta.x},set:function(e){this.delta.x=e}},{key:"dy",get:function(){return this.delta.y},set:function(e){this.delta.y=e}},{key:"velocityX",get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},{key:"velocityY",get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}]),e}(),Hn=Sn.InteractEvent=Wn;Sn.default=Hn;var Un={};Object.defineProperty(Un,"__esModule",{value:!0}),Un.default=Un.PointerInfo=void 0;var Yn=Un.PointerInfo=function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.pointer=n,this.event=r,this.downTime=o,this.downTarget=i};Un.default=Yn;var qn={};function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(qn,"__esModule",{value:!0}),qn.default=void 0;var Gn=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==$n(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(I),Xn={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0;t<Xn.methodOrder.length;t++){var n;n=Xn.methodOrder[t];var r=Xn[n](e);if(r)return r}},simulationResume:function(e){var t=e.pointerType,n=e.eventType,r=e.eventTarget,o=e.scope;if(!/down|start/i.test(n))return null;for(var i=0;i<o.interactions.list.length;i++){var a=o.interactions.list[i],s=r;if(a.simulation&&a.simulation.allowResume&&a.pointerType===t)for(;s;){if(s===a.element)return a;s=Gn.parentNode(s)}}return null},mouseOrPen:function(e){var t,n=e.pointerId,r=e.pointerType,o=e.eventType,i=e.scope;if("mouse"!==r&&"pen"!==r)return null;for(var a=0;a<i.interactions.list.length;a++){var s=i.interactions.list[a];if(s.pointerType===r){if(s.simulation&&!Kn(s,n))continue;if(s.interacting())return s;t=t||s}}if(t)return t;for(var l=0;l<i.interactions.list.length;l++){var c=i.interactions.list[l];if(!(c.pointerType!==r||/down/i.test(o)&&c.simulation))return c}return null},hasPointer:function(e){for(var t=e.pointerId,n=e.scope,r=0;r<n.interactions.list.length;r++){var o=n.interactions.list[r];if(Kn(o,t))return o}return null},idle:function(e){for(var t=e.pointerType,n=e.scope,r=0;r<n.interactions.list.length;r++){var o=n.interactions.list[r];if(1===o.pointers.length){var i=o.interactable;if(i&&(!i.options.gesture||!i.options.gesture.enabled))continue}else if(2<=o.pointers.length)continue;if(!o.interacting()&&t===o.pointerType)return o}return null}};function Kn(e,t){return e.pointers.some((function(e){return e.id===t}))}var Vn=Xn;qn.default=Vn;var Zn={};function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.default=void 0;var Qn=t({}),er=rr(l),tr=rr(b);function nr(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return nr=function(){return e},e}function rr(e){if(e&&e.__esModule)return e;if(null===e||"object"!==Jn(e)&&"function"!=typeof e)return{default:e};var t=nr();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function or(e){var t=e.interaction;if("drag"===t.prepared.name){var n=t.prepared.axis;"x"===n?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):"y"===n&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function ir(e){var t=e.iEvent,n=e.interaction;if("drag"===n.prepared.name){var r=n.prepared.axis;if("x"===r||"y"===r){var o="x"===r?"y":"x";t.page[o]=n.coords.start.page[o],t.client[o]=n.coords.start.client[o],t.delta[o]=0}}}Qn.ActionName.Drag="drag";var ar={id:"actions/drag",install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;e.addListeners({"interactions:before-action-move":or,"interactions:action-resume":or,"interactions:action-move":ir}),n.prototype.draggable=ar.draggable,t[Qn.ActionName.Drag]=ar,t.names.push(Qn.ActionName.Drag),er.merge(t.eventTypes,["dragstart","dragmove","draginertiastart","dragresume","dragend"]),t.methodDict.drag="draggable",r.actions.drag=ar.defaults},draggable:function(e){return tr.object(e)?(this.options.drag.enabled=!1!==e.enabled,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):tr.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:or,move:ir,defaults:{startAxis:"xy",lockAxis:"xy"},checker:function(e,t,n){var r=n.options.drag;return r.enabled?{name:"drag",axis:"start"===r.lockAxis?r.startAxis:r.lockAxis}:null},getCursor:function(){return"move"}},sr=ar;Zn.default=sr;var lr={};Object.defineProperty(lr,"__esModule",{value:!0}),lr.default=void 0;var cr,ur=(cr=wn)&&cr.__esModule?cr:{default:cr},dr=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==fr(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(l);function fr(e){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mr(e){return(mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vr(e,t){return(vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var br=function(){function e(t,n,r){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(e,t){return!t||"object"!==fr(t)&&"function"!=typeof t?gr(e):t}(this,mr(e).call(this,n._interaction)),yr(gr(o),"target",void 0),yr(gr(o),"dropzone",void 0),yr(gr(o),"dragEvent",void 0),yr(gr(o),"relatedTarget",void 0),yr(gr(o),"draggable",void 0),yr(gr(o),"timeStamp",void 0),yr(gr(o),"propagationStopped",!1),yr(gr(o),"immediatePropagationStopped",!1);var i="dragleave"===r?t.prev:t.cur,a=i.element,s=i.dropzone;return o.type=r,o.target=a,o.currentTarget=a,o.dropzone=s,o.dragEvent=n,o.relatedTarget=n.target,o.draggable=n.interactable,o.timeStamp=n.timeStamp,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vr(e,t)}(e,ur.default),function(e,t,n){t&&hr(e.prototype,t)}(e,[{key:"reject",value:function(){var t=this,n=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&n.cur.dropzone===this.dropzone&&n.cur.element===this.target)if(n.prev.dropzone=this.dropzone,n.prev.element=this.target,n.rejected=!0,n.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var r=n.activeDrops,o=dr.findIndex(r,(function(e){var n=e.dropzone,r=e.element;return n===t.dropzone&&r===t.target}));n.activeDrops=[].concat(pr(r.slice(0,o)),pr(r.slice(o+1)));var i=new e(n,this.dragEvent,"dropdeactivate");i.dropzone=this.dropzone,i.target=this.target,this.dropzone.fire(i)}else this.dropzone.fire(new e(n,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),e}();lr.default=br;var wr={};function xr(e){return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(wr,"__esModule",{value:!0}),wr.default=void 0;var _r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==xr(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(ct),kr=Er(Zn),Or=Er(lr);function Er(e){return e&&e.__esModule?e:{default:e}}function Sr(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.dropzone,i=r.element;t.dropzone=o,t.target=i,o.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function jr(e,t){for(var n=function(e,t){for(var n=e.interactables,r=[],o=0;o<n.list.length;o++){var i=n.list[o];if(i.options.drop.enabled){var a=i.options.drop.accept;if(!(_r.is.element(a)&&a!==t||_r.is.string(a)&&!_r.dom.matchesSelector(t,a)||_r.is.func(a)&&!a({dropzone:i,draggableElement:t})))for(var s=_r.is.string(i.target)?i._context.querySelectorAll(i.target):_r.is.array(i.target)?i.target:[i.target],l=0;l<s.length;l++){var c=s[l];c!==t&&r.push({dropzone:i,element:c})}}}return r}(e,t),r=0;r<n.length;r++){var o=n[r];o.rect=o.dropzone.getRect(o.element)}return n}function Cr(e,t,n){for(var r=e.dropState,o=e.interactable,i=e.element,a=[],s=0;s<r.activeDrops.length;s++){var l=r.activeDrops[s],c=l.dropzone,u=l.element,d=l.rect;a.push(c.dropCheck(t,n,o,i,u,d)?u:null)}var f=_r.dom.indexOfDeepestElement(a);return r.activeDrops[f]||null}function Pr(e,t,n){var r=e.dropState,o={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===n.type&&(o.activate=new Or.default(r,n,"dropactivate"),o.activate.target=null,o.activate.dropzone=null),"dragend"===n.type&&(o.deactivate=new Or.default(r,n,"dropdeactivate"),o.deactivate.target=null,o.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(o.leave=new Or.default(r,n,"dragleave"),n.dragLeave=o.leave.target=r.prev.element,n.prevDropzone=o.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(o.enter=new Or.default(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),"dragend"===n.type&&r.cur.dropzone&&(o.drop=new Or.default(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),"dragmove"===n.type&&r.cur.dropzone&&(o.move=new Or.default(r,n,"dropmove"),(o.move.dragmove=n).dropzone=r.cur.dropzone)),o}function Tr(e,t){var n=e.dropState,r=n.activeDrops,o=n.cur,i=n.prev;t.leave&&i.dropzone.fire(t.leave),t.move&&o.dropzone.fire(t.move),t.enter&&o.dropzone.fire(t.enter),t.drop&&o.dropzone.fire(t.drop),t.deactivate&&Sr(r,t.deactivate),n.prev.dropzone=o.dropzone,n.prev.element=o.element}function Mr(e,t){var n=e.interaction,r=e.iEvent,o=e.event;if("dragmove"===r.type||"dragend"===r.type){var i=n.dropState;t.dynamicDrop&&(i.activeDrops=jr(t,n.element));var a=r,s=Cr(n,a,o);i.rejected=i.rejected&&!!s&&s.dropzone===i.cur.dropzone&&s.element===i.cur.element,i.cur.dropzone=s&&s.dropzone,i.cur.element=s&&s.element,i.events=Pr(n,0,a)}}var Ar={id:"actions/drop",install:function(e){var t=e.actions,n=e.interact,r=e.Interactable,o=e.defaults;e.usePlugin(kr.default),r.prototype.dropzone=function(e){return function(e,t){if(_r.is.object(t)){if(e.options.drop.enabled=!1!==t.enabled,t.listeners){var n=_r.normalizeListeners(t.listeners),r=Object.keys(n).reduce((function(e,t){return e[/^(enter|leave)/.test(t)?"drag".concat(t):/^(activate|deactivate|move)/.test(t)?"drop".concat(t):t]=n[t],e}),{});e.off(e.options.drop.listeners),e.on(r),e.options.drop.listeners=r}return _r.is.func(t.ondrop)&&e.on("drop",t.ondrop),_r.is.func(t.ondropactivate)&&e.on("dropactivate",t.ondropactivate),_r.is.func(t.ondropdeactivate)&&e.on("dropdeactivate",t.ondropdeactivate),_r.is.func(t.ondragenter)&&e.on("dragenter",t.ondragenter),_r.is.func(t.ondragleave)&&e.on("dragleave",t.ondragleave),_r.is.func(t.ondropmove)&&e.on("dropmove",t.ondropmove),/^(pointer|center)$/.test(t.overlap)?e.options.drop.overlap=t.overlap:_r.is.number(t.overlap)&&(e.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),"accept"in t&&(e.options.drop.accept=t.accept),"checker"in t&&(e.options.drop.checker=t.checker),e}return _r.is.bool(t)?(e.options.drop.enabled=t,e):e.options.drop}(this,e)},r.prototype.dropCheck=function(e,t,n,r,o,i){return function(e,t,n,r,o,i,a){var s=!1;if(!(a=a||e.getRect(i)))return!!e.options.drop.checker&&e.options.drop.checker(t,n,s,e,i,r,o);var l=e.options.drop.overlap;if("pointer"===l){var c=_r.getOriginXY(r,o,"drag"),u=_r.pointer.getPageXY(t);u.x+=c.x,u.y+=c.y;var d=u.x>a.left&&u.x<a.right,f=u.y>a.top&&u.y<a.bottom;s=d&&f}var p=r.getRect(o);if(p&&"center"===l){var h=p.left+p.width/2,m=p.top+p.height/2;s=h>=a.left&&h<=a.right&&m>=a.top&&m<=a.bottom}return p&&_r.is.number(l)&&(s=l<=Math.max(0,Math.min(a.right,p.right)-Math.max(a.left,p.left))*Math.max(0,Math.min(a.bottom,p.bottom)-Math.max(a.top,p.top))/(p.width*p.height)),e.options.drop.checker&&(s=e.options.drop.checker(t,n,s,e,i,r,o)),s}(this,e,t,n,r,o,i)},n.dynamicDrop=function(t){return _r.is.bool(t)?(e.dynamicDrop=t,n):e.dynamicDrop},_r.arr.merge(t.eventTypes,["dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop"]),t.methodDict.drop="dropzone",e.dynamicDrop=!1,o.actions.drop=Ar.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;"drag"===t.prepared.name&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:null})},"interactions:after-action-start":function(e,t){var n=e.interaction,r=(e.event,e.iEvent);if("drag"===n.prepared.name){var o=n.dropState;o.activeDrops=null,o.events=null,o.activeDrops=jr(t,n.element),o.events=Pr(n,0,r),o.events.activate&&Sr(o.activeDrops,o.events.activate)}},"interactions:action-move":Mr,"interactions:action-end":Mr,"interactions:after-action-move":function(e){var t=e.interaction;"drag"===t.prepared.name&&(Tr(t,t.dropState.events),t.dropState.events={})},"interactions:after-action-end":function(e){var t=e.interaction;"drag"===t.prepared.name&&Tr(t,t.dropState.events)},"interactions:stop":function(e){var t=e.interaction;if("drag"===t.prepared.name){var n=t.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:jr,getDrop:Cr,getDropEvents:Pr,fireDropEvents:Tr,defaults:{enabled:!1,accept:null,overlap:"pointer"}},Dr=Ar;wr.default=Dr;var Ir={};function Rr(e){return(Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.default=void 0;var zr,Lr=(zr=Sn)&&zr.__esModule?zr:{default:zr},Nr=t({}),Fr=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==Rr(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(ct);Nr.ActionName.Gesture="gesture";var Br={id:"actions/gesture",install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.gesturable=function(e){return Fr.is.object(e)?(this.options.gesture.enabled=!1!==e.enabled,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):Fr.is.bool(e)?(this.options.gesture.enabled=e,this):this.options.gesture},t[Nr.ActionName.Gesture]=Br,t.names.push(Nr.ActionName.Gesture),Fr.arr.merge(t.eventTypes,["gesturestart","gesturemove","gestureend"]),t.methodDict.gesture="gesturable",r.actions.gesture=Br.defaults},listeners:{"interactions:action-start":Wr,"interactions:action-move":Wr,"interactions:action-end":Wr,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}}},defaults:{},checker:function(e,t,n,r,o){return 2<=o.pointers.length?{name:"gesture"}:null},getCursor:function(){return""}};function Wr(e){var t=e.interaction,n=e.iEvent,r=e.event,o=e.phase;if("gesture"===t.prepared.name){var i=t.pointers.map((function(e){return e.pointer})),a="start"===o,s="end"===o,l=t.interactable.options.deltaSource;if(n.touches=[i[0],i[1]],a)n.distance=Fr.pointer.touchDistance(i,l),n.box=Fr.pointer.touchBBox(i),n.scale=1,n.ds=0,n.angle=Fr.pointer.touchAngle(i,l),n.da=0,t.gesture.startDistance=n.distance,t.gesture.startAngle=n.angle;else if(s||r instanceof Lr.default){var c=t.prevEvent;n.distance=c.distance,n.box=c.box,n.scale=c.scale,n.ds=0,n.angle=c.angle,n.da=0}else n.distance=Fr.pointer.touchDistance(i,l),n.box=Fr.pointer.touchBBox(i),n.scale=n.distance/t.gesture.startDistance,n.angle=Fr.pointer.touchAngle(i,l),n.ds=n.scale-t.gesture.scale,n.da=n.angle-t.gesture.angle;t.gesture.distance=n.distance,t.gesture.angle=n.angle,Fr.is.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(t.gesture.scale=n.scale)}}var Hr=Br;Ir.default=Hr;var Ur={};function Yr(e){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.default=void 0;var qr,$r=t({}),Gr=Jr(l),Xr=Jr(I),Kr=(qr=me)&&qr.__esModule?qr:{default:qr},Vr=Jr(b);function Zr(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return Zr=function(){return e},e}function Jr(e){if(e&&e.__esModule)return e;if(null===e||"object"!==Yr(e)&&"function"!=typeof e)return{default:e};var t=Zr();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}var Qr={id:"actions/resize",install:function(e){var t=e.actions,n=e.browser,r=e.Interactable,o=e.defaults;Qr.cursors=function(e){return e.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),Qr.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(t){return function(e,t,n){return Vr.object(t)?(e.options.resize.enabled=!1!==t.enabled,e.setPerAction("resize",t),e.setOnEvents("resize",t),Vr.string(t.axis)&&/^x$|^y$|^xy$/.test(t.axis)?e.options.resize.axis=t.axis:null===t.axis&&(e.options.resize.axis=n.defaults.actions.resize.axis),Vr.bool(t.preserveAspectRatio)?e.options.resize.preserveAspectRatio=t.preserveAspectRatio:Vr.bool(t.square)&&(e.options.resize.square=t.square),e):Vr.bool(t)?(e.options.resize.enabled=t,e):e.options.resize}(this,t,e)},t[$r.ActionName.Resize]=Qr,t.names.push($r.ActionName.Resize),Gr.merge(t.eventTypes,["resizestart","resizemove","resizeinertiastart","resizeresume","resizeend"]),t.methodDict.resize="resizable",o.actions.resize=Qr.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){!function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=(0,Kr.default)({},n.rect),o=n.interactable.options.resize;if(o.square||o.preserveAspectRatio){var i=(0,Kr.default)({},n.prepared.edges);i.top=i.top||i.left&&!i.bottom,i.left=i.left||i.top&&!i.right,i.bottom=i.bottom||i.right&&!i.top,i.right=i.right||i.bottom&&!i.left,n.prepared._linkedEdges=i}else n.prepared._linkedEdges=null;o.preserveAspectRatio&&(n.resizeStartAspectRatio=r.width/r.height),n.resizeRects={start:r,current:{left:r.left,right:r.right,top:r.top,bottom:r.bottom},inverted:(0,Kr.default)({},r),previous:(0,Kr.default)({},r),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},t.edges=n.prepared.edges,t.rect=n.resizeRects.inverted,t.deltaRect=n.resizeRects.delta}}(e),to(e)},"interactions:action-move":function(e){!function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r,o=n.interactable.options.resize,i=o.invert,a="reposition"===i||"negate"===i,s=n.prepared.edges,l=n.resizeRects.start,c=n.resizeRects.current,u=n.resizeRects.inverted,d=n.resizeRects.delta,f=(0,Kr.default)(n.resizeRects.previous,u),p=s,h=(0,Kr.default)({},t.delta);if(o.preserveAspectRatio||o.square){var m=o.preserveAspectRatio?n.resizeStartAspectRatio:1;s=n.prepared._linkedEdges,p.left&&p.bottom||p.right&&p.top?h.y=-h.x/m:p.left||p.right?h.y=h.x/m:(p.top||p.bottom)&&(h.x=h.y*m)}for(var g in s.top&&(c.top+=h.y),s.bottom&&(c.bottom+=h.y),s.left&&(c.left+=h.x),s.right&&(c.right+=h.x),a?((0,Kr.default)(u,c),"reposition"===i&&(u.top>u.bottom&&(r=u.top,u.top=u.bottom,u.bottom=r),u.left>u.right&&(r=u.left,u.left=u.right,u.right=r))):(u.top=Math.min(c.top,l.bottom),u.bottom=Math.max(c.bottom,l.top),u.left=Math.min(c.left,l.right),u.right=Math.max(c.right,l.left)),u.width=u.right-u.left,u.height=u.bottom-u.top,u)d[g]=u[g]-f[g];t.edges=n.prepared.edges,t.rect=u,t.deltaRect=d}}(e),to(e)},"interactions:action-end":function(e){var t=e.iEvent,n=e.interaction;"resize"===n.prepared.name&&n.prepared.edges&&(t.edges=n.prepared.edges,t.rect=n.resizeRects.inverted,t.deltaRect=n.resizeRects.delta)}},defaults:{square:!($r.ActionName.Resize="resize"),preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},checker:function(e,t,n,r,o,i){if(!i)return null;var a=(0,Kr.default)({},o.coords.cur.page),s=n.options;if(s.resize.enabled){var l=s.resize,c={left:!1,right:!1,top:!1,bottom:!1};if(Vr.object(l.edges)){for(var u in c)c[u]=eo(u,l.edges[u],a,o._latestPointer.eventTarget,r,i,l.margin||this.defaultMargin);if(c.left=c.left&&!c.right,c.top=c.top&&!c.bottom,c.left||c.right||c.top||c.bottom)return{name:"resize",edges:c}}else{var d="y"!==s.resize.axis&&a.x>i.right-this.defaultMargin,f="x"!==s.resize.axis&&a.y>i.bottom-this.defaultMargin;if(d||f)return{name:"resize",axes:(d?"x":"")+(f?"y":"")}}}return null},cursors:null,getCursor:function(e){var t=e.edges,n=e.axis,r=e.name,o=Qr.cursors,i=null;if(n)i=o[r+n];else if(t){for(var a="",s=["top","bottom","left","right"],l=0;l<s.length;l++){var c=s[l];t[c]&&(a+=c)}i=o[a]}return i},defaultMargin:null};function eo(e,t,n,r,o,i,a){if(!t)return!1;if(!0===t){var s=Vr.number(i.width)?i.width:i.right-i.left,l=Vr.number(i.height)?i.height:i.bottom-i.top;if(a=Math.min(a,("left"===e||"right"===e?s:l)/2),s<0&&("left"===e?e="right":"right"===e&&(e="left")),l<0&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e)return n.x<(0<=s?i.left:i.right)+a;if("top"===e)return n.y<(0<=l?i.top:i.bottom)+a;if("right"===e)return n.x>(0<=s?i.right:i.left)-a;if("bottom"===e)return n.y>(0<=l?i.bottom:i.top)-a}return!!Vr.element(r)&&(Vr.element(t)?t===r:Xr.matchesUpTo(r,t,o))}function to(e){var t=e.iEvent,n=e.interaction;n.prepared.name===$r.ActionName.Resize&&n.resizeAxes&&(n.interactable.options.resize.square?("y"===n.resizeAxes?t.delta.x=t.delta.y:t.delta.y=t.delta.x,t.axes="xy"):(t.axes=n.resizeAxes,"x"===n.resizeAxes?t.delta.y=0:"y"===n.resizeAxes&&(t.delta.x=0)))}var no=Qr;Ur.default=no;var ro={};Object.defineProperty(ro,"__esModule",{value:!0}),ro.install=function(e){e.usePlugin(ao.default),e.usePlugin(so.default),e.usePlugin(oo.default),e.usePlugin(io.default)},Object.defineProperty(ro,"drag",{enumerable:!0,get:function(){return oo.default}}),Object.defineProperty(ro,"drop",{enumerable:!0,get:function(){return io.default}}),Object.defineProperty(ro,"gesture",{enumerable:!0,get:function(){return ao.default}}),Object.defineProperty(ro,"resize",{enumerable:!0,get:function(){return so.default}}),ro.id=void 0;var oo=lo(Zn),io=lo(wr),ao=lo(Ir),so=lo(Ur);function lo(e){return e&&e.__esModule?e:{default:e}}ro.id="actions";var co={};function uo(e){return(uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(co,"__esModule",{value:!0}),co.getContainer=bo,co.getScroll=wo,co.getScrollSize=function(e){return ho.window(e)&&(e=window.document.body),{x:e.scrollWidth,y:e.scrollHeight}},co.getScrollSizeDelta=function(e,t){var n=e.interaction,r=e.element,o=n&&n.interactable.options[n.prepared.name].autoScroll;if(!o||!o.enabled)return t(),{x:0,y:0};var i=bo(o.container,n.interactable,r),a=wo(i);t();var s=wo(i);return{x:s.x-a.x,y:s.y-a.y}},co.default=void 0;var fo,po=vo(I),ho=vo(b),mo=(fo=ot)&&fo.__esModule?fo:{default:fo};function go(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return go=function(){return e},e}function vo(e){if(e&&e.__esModule)return e;if(null===e||"object"!==uo(e)&&"function"!=typeof e)return{default:e};var t=go();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}var yo={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:null,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){yo.isScrolling=!0,mo.default.cancel(yo.i),(e.autoScroll=yo).interaction=e,yo.prevTime=yo.now(),yo.i=mo.default.request(yo.scroll)},stop:function(){yo.isScrolling=!1,yo.interaction&&(yo.interaction.autoScroll=null),mo.default.cancel(yo.i)},scroll:function(){var e=yo.interaction,t=e.interactable,n=e.element,r=t.options[yo.interaction.prepared.name].autoScroll,o=bo(r.container,t,n),i=yo.now(),a=(i-yo.prevTime)/1e3,s=r.speed*a;if(1<=s){var l={x:yo.x*s,y:yo.y*s};if(l.x||l.y){var c=wo(o);ho.window(o)?o.scrollBy(l.x,l.y):o&&(o.scrollLeft+=l.x,o.scrollTop+=l.y);var u=wo(o),d={x:u.x-c.x,y:u.y-c.y};(d.x||d.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:d,interaction:e,container:o})}yo.prevTime=i}yo.isScrolling&&(mo.default.cancel(yo.i),yo.i=mo.default.request(yo.scroll))},check:function(e,t){var n=e.options;return n[t].autoScroll&&n[t].autoScroll.enabled},onInteractionMove:function(e){var t=e.interaction,n=e.pointer;if(t.interacting()&&yo.check(t.interactable,t.prepared.name))if(t.simulation)yo.x=yo.y=0;else{var r,o,i,a,s=t.interactable,l=t.element,c=s.options[t.prepared.name].autoScroll,u=bo(c.container,s,l);if(ho.window(u))a=n.clientX<yo.margin,r=n.clientY<yo.margin,o=n.clientX>u.innerWidth-yo.margin,i=n.clientY>u.innerHeight-yo.margin;else{var d=po.getElementClientRect(u);a=n.clientX<d.left+yo.margin,r=n.clientY<d.top+yo.margin,o=n.clientX>d.right-yo.margin,i=n.clientY>d.bottom-yo.margin}yo.x=o?1:a?-1:0,yo.y=i?1:r?-1:0,yo.isScrolling||(yo.margin=c.margin,yo.speed=c.speed,yo.start(t))}}};function bo(e,t,n){return(ho.string(e)?(0,ge.getStringOptionResult)(e,t,n):e)||(0,f.getWindow)(n)}function wo(e){return ho.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var xo={id:"auto-scroll",install:function(e){var t=e.defaults,n=e.actions;(e.autoScroll=yo).now=function(){return e.now()},n.eventTypes.push("autoscroll"),t.perAction.autoScroll=yo.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,yo.stop(),yo.interaction&&(yo.interaction=null)},"interactions:stop":yo.stop,"interactions:action-move":function(e){return yo.onInteractionMove(e)}}};co.default=xo;var _o={};function ko(e){return(ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(_o,"__esModule",{value:!0}),_o.default=void 0;var Oo=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==ko(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(b);function Eo(e,t,n,r){var o=this.defaultActionChecker(e,t,n,r);return this.options.actionChecker?this.options.actionChecker(e,t,o,this,r,n):o}function So(e){return Oo.bool(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor}function jo(e){return Oo.func(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker}var Co={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable,n=e.actions;t.prototype.getAction=Eo,t.prototype.ignoreFrom=(0,ct.warnOnce)((function(e){return this._backCompatOption("ignoreFrom",e)}),"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=(0,ct.warnOnce)((function(e){return this._backCompatOption("allowFrom",e)}),"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=jo,t.prototype.styleCursor=So,t.prototype.defaultActionChecker=function(e,t,r,o){return function(e,t,n,r,o,i){for(var a=e.getRect(o),s=n.buttons||{0:1,1:4,3:8,4:16}[n.button],l=null,c=0;c<i.names.length;c++){var u=i.names[c];if((!r.pointerIsDown||!/mouse|pointer/.test(r.pointerType)||0!=(s&e.options[u].mouseButtons))&&(l=i[u].checker(t,n,e,o,r,a)))return l}}(this,e,t,r,o,n)}}};_o.default=Co;var Po={};function To(e){return(To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(Po,"__esModule",{value:!0}),Po.default=void 0;var Mo,Ao=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==To(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(ct),Do=(Mo=_o)&&Mo.__esModule?Mo:{default:Mo};function Io(e,t,n,r,o){return t.testIgnoreAllow(t.options[e.name],n,r)&&t.options[e.name].enabled&&No(t,n,e,o)?e:null}function Ro(e,t,n,r,o,i,a){for(var s=0,l=r.length;s<l;s++){var c=r[s],u=o[s],d=c.getAction(t,n,e,u);if(d){var f=Io(d,c,u,i,a);if(f)return{action:f,interactable:c,element:u}}}return{action:null,interactable:null,element:null}}function zo(e,t,n,r,o){var i=[],a=[],s=r;function l(e){i.push(e),a.push(s)}for(;Ao.is.element(s);){i=[],a=[],o.interactables.forEachMatch(s,l);var c=Ro(e,t,n,i,a,r,o);if(c.action&&!c.interactable.options[c.action.name].manualStart)return c;s=Ao.dom.parentNode(s)}return{action:null,interactable:null,element:null}}function Lo(e,t,n){var r=t.action,o=t.interactable,i=t.element;r=r||{name:null},e.interactable&&e.interactable.options.styleCursor&&Bo(e.element,"",n),e.interactable=o,e.element=i,Ao.copyAction(e.prepared,r),e.rect=o&&r.name?o.getRect(i):null,Wo(e,n),n.fire("autoStart:prepared",{interaction:e})}function No(e,t,n,r){var o=e.options,i=o[n.name].max,a=o[n.name].maxPerElement,s=r.autoStart.maxInteractions,l=0,c=0,u=0;if(!(i&&a&&s))return!1;for(var d=0;d<r.interactions.list.length;d++){var f=r.interactions.list[d],p=f.prepared.name;if(f.interacting()){if(s<=++l)return!1;if(f.interactable===e){if(i<=(c+=p===n.name?1:0))return!1;if(f.element===t&&(u++,p===n.name&&a<=u))return!1}}}return 0<s}function Fo(e,t){return Ao.is.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function Bo(e,t,n){n.autoStart.cursorElement&&(n.autoStart.cursorElement.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function Wo(e,t){var n=e.interactable,r=e.element,o=e.prepared;if("mouse"===e.pointerType&&n&&n.options.styleCursor){var i="";if(o.name){var a=n.options[o.name].cursorChecker;i=Ao.is.func(a)?a(o,n,r,e._interacting):t.actions[o.name].getCursor(o)}Bo(e.element,i||"",t)}}var Ho={id:"auto-start/base",install:function(e){var t=e.interact,n=e.defaults;e.usePlugin(Do.default),n.base.actionChecker=null,n.base.styleCursor=!0,Ao.extend(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(t){return Fo(t,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:No,cursorElement:null}},listeners:{"interactions:down":function(e,t){var n=e.interaction,r=e.pointer,o=e.event,i=e.eventTarget;n.interacting()||Lo(n,zo(n,r,o,i,t),t)},"interactions:move":function(e,t){!function(e,t){var n=e.interaction,r=e.pointer,o=e.event,i=e.eventTarget;"mouse"!==n.pointerType||n.pointerIsDown||n.interacting()||Lo(n,zo(n,r,o,i,t),t)}(e,t),function(e,t){var n=e.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){t.fire("autoStart:before-start",e);var r=n.interactable;n.prepared.name&&r&&(r.options[n.prepared.name].manualStart||!No(r,n.element,n.prepared,t)?n.stop():(n.start(n.prepared,r,n.element),Wo(n,t)))}}(e,t)},"interactions:stop":function(e,t){var n=e.interaction,r=n.interactable;r&&r.options.styleCursor&&Bo(n.element,"",t)}},before:"ations",maxInteractions:Fo,withinInteractionLimit:No,validateAction:Io};Po.default=Ho;var Uo={};function Yo(e){return(Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.default=void 0;var qo,$o=t({}),Go=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==Yo(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(b),Xo=(qo=Po)&&qo.__esModule?qo:{default:qo},Ko={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var n=e.interaction,r=e.eventTarget,o=e.dx,i=e.dy;if("drag"===n.prepared.name){var a=Math.abs(o),s=Math.abs(i),l=n.interactable.options.drag,c=l.startAxis,u=s<a?"x":a<s?"y":"xy";if(n.prepared.axis="start"===l.lockAxis?u[0]:l.lockAxis,"xy"!=u&&"xy"!==c&&c!==u){function d(e){if(e!==n.interactable){var o=n.interactable.options.drag;if(!o.manualStart&&e.testIgnoreAllow(o,f,r)){var i=e.getAction(n.downPointer,n.downEvent,n,f);if(i&&i.name===$o.ActionName.Drag&&function(e,t){if(!t)return!1;var n=t.options[$o.ActionName.Drag].startAxis;return"xy"===e||"xy"===n||n===e}(u,e)&&Xo.default.validateAction(i,e,f,r,t))return e}}}n.prepared.name=null;for(var f=r;Go.element(f);){var p=t.interactables.forEachMatch(f,d);if(p){n.prepared.name=$o.ActionName.Drag,n.interactable=p,n.element=f;break}f=(0,I.parentNode)(f)}}}}}};Uo.default=Ko;var Vo={};Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.default=void 0;var Zo,Jo=(Zo=Po)&&Zo.__esModule?Zo:{default:Zo};function Qo(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var n=e.interactable.options;return n[t].hold||n[t].delay}var ei={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(Jo.default),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,n=Qo(t);0<n&&(t.autoStartHoldTimer=setTimeout((function(){t.start(t.prepared,t.interactable,t.element)}),n))},"interactions:move":function(e){var t=e.interaction,n=e.duplicate;t.pointerWasMoved&&!n&&clearTimeout(t.autoStartHoldTimer)},"autoStart:before-start":function(e){var t=e.interaction;0<Qo(t)&&(t.prepared.name=null)}},getHoldDuration:Qo};Vo.default=ei;var ti={};Object.defineProperty(ti,"__esModule",{value:!0}),ti.install=function(e){e.usePlugin(ni.default),e.usePlugin(oi.default),e.usePlugin(ri.default)},Object.defineProperty(ti,"autoStart",{enumerable:!0,get:function(){return ni.default}}),Object.defineProperty(ti,"dragAxis",{enumerable:!0,get:function(){return ri.default}}),Object.defineProperty(ti,"hold",{enumerable:!0,get:function(){return oi.default}}),ti.id=void 0;var ni=ii(Po),ri=ii(Uo),oi=ii(Vo);function ii(e){return e&&e.__esModule?e:{default:e}}ti.id="auto-start";var ai={};function si(e){return(si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(ai,"__esModule",{value:!0}),ai.install=pi,ai.default=void 0;var li,ci=(li=Ce)&&li.__esModule?li:{default:li},ui=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==si(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(b);function di(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):ui.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function fi(e){var t=e.interaction,n=e.event;t.interactable&&t.interactable.checkAndPreventDefault(n)}function pi(e){var t=e.Interactable;t.prototype.preventDefault=di,t.prototype.checkAndPreventDefault=function(t){return function(e,t,n){var r=e.options.preventDefault;if("never"!==r)if("always"!==r){if(ci.default.supportsPassive&&/^touch(start|move)$/.test(n.type)){var o=(0,f.getWindow)(n.target).document,i=t.getDocOptions(o);if(!i||!i.events||!1!==i.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||ui.element(n.target)&&(0,I.matchesSelector)(n.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||n.preventDefault()}else n.preventDefault()}(this,e,t)},e.interactions.docEvents.push({type:"dragstart",listener:function(t){for(var n=0;n<e.interactions.list.length;n++){var r=e.interactions.list[n];if(r.element&&(r.element===t.target||(0,I.nodeContains)(r.element,t.target)))return void r.interactable.checkAndPreventDefault(t)}}})}var hi={id:"core/interactablePreventDefault",install:pi,listeners:["down","move","up","cancel"].reduce((function(e,t){return e["interactions:".concat(t)]=fi,e}),{})};ai.default=hi;var mi={};function gi(e){return(gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(mi,"__esModule",{value:!0}),mi.default=void 0;var vi,yi,bi=ki(o),wi=ki(me),xi=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==gi(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(b),_i=ki(f);function ki(e){return e&&e.__esModule?e:{default:e}}function Oi(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(yi=vi=vi||{}).touchAction="",yi.boxSizing="",yi.noListeners="";var Ei="[interact.js] ",Si={touchAction:"https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action",boxSizing:"https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing"},ji=[{name:"touchAction",perform:function(e){return!function(e,t,n){for(var r=e;xi.element(r);){if(Ci(r,"touchAction",n))return!0;r=(0,I.parentNode)(r)}return!1}(e.element,0,/pan-|pinch|none/)},getInfo:function(e){return[e.element,Si.touchAction]},text:'Consider adding CSS "touch-action: none" to this element\n'},{name:"boxSizing",perform:function(e){var t=e.element;return"resize"===e.prepared.name&&t instanceof bi.default.HTMLElement&&!Ci(t,"boxSizing",/border-box/)},text:'Consider adding CSS "box-sizing: border-box" to this resizable element',getInfo:function(e){return[e.element,Si.boxSizing]}},{name:"noListeners",perform:function(e){var t=e.prepared.name;return!(e.interactable.events.types["".concat(t,"move")]||[]).length},getInfo:function(e){return[e.prepared.name,e.interactable]},text:"There are no listeners set for this action"}];function Ci(e,t,n){return n.test(e.style[t]||_i.default.window.getComputedStyle(e)[t])}var Pi={id:"dev-tools",install:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).logger,n=e.Interactable,r=e.defaults;e.logger=t||console,r.base.devTools={ignore:{}},n.prototype.devTools=function(e){return e?((0,wi.default)(this.options.devTools,e),this):this.options.devTools}},listeners:{"interactions:action-start":function(e,t){for(var n=e.interaction,r=0;r<ji.length;r++){var o,i=ji[r],a=n.interactable&&n.interactable.options[n.prepared.name];a&&a.devTools&&a.devTools.ignore[i.name]||!i.perform(n)||(o=t.logger).warn.apply(o,[Ei+i.text].concat(Oi(i.getInfo(n))))}}},checks:ji,CheckName:vi,links:Si,prefix:Ei};mi.default=Pi;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.startAll=Ri,Ti.setAll=zi,Ti.prepareStates=Wi,Ti.setCoords=Hi,Ti.restoreCoords=Ui,Ti.makeModifier=$i,Ti.default=void 0;var Mi,Ai=(Mi=me)&&Mi.__esModule?Mi:{default:Mi};function Di(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ii(e,t,n){var r=e.interaction,o=e.phase,i=r.interactable,a=r.element,s=Wi(Bi(r)),l=(0,Ai.default)({},r.rect);"width"in l||(l.width=l.right-l.left),"height"in l||(l.height=l.bottom-l.top);var c=qi(l,t);r.modifiers.startOffset=c,r.modifiers.startDelta={x:0,y:0};var u={interaction:r,interactable:i,element:a,pageCoords:t,phase:o,rect:l,startOffset:c,states:s,preEnd:!1,requireEndOnly:!1,prevCoords:n||(r.modifiers.result?r.modifiers.result.coords:r.coords.prev.page)};return r.modifiers.states=s,r.modifiers.result=null,Ri(u),r.modifiers.result=zi(u)}function Ri(e){for(var t=e.states,n=0;n<t.length;n++){var r=t[n];r.methods.start&&(e.state=r).methods.start(e)}}function zi(e){var t=e.prevCoords,n=e.phase,r=e.preEnd,o=e.requireEndOnly,i=e.rect,a=e.states;e.coords=(0,Ai.default)({},e.pageCoords),e.rect=(0,Ai.default)({},i);for(var s={delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},coords:e.coords,changed:!0},l=0;l<a.length;l++){var c=a[l],u=c.options;c.methods.set&&Yi(u,r,o,n)&&(e.state=c).methods.set(e)}s.delta.x=e.coords.x-e.pageCoords.x,s.delta.y=e.coords.y-e.pageCoords.y;var d=!1;return i&&(s.rectDelta.left=e.rect.left-i.left,s.rectDelta.right=e.rect.right-i.right,s.rectDelta.top=e.rect.top-i.top,s.rectDelta.bottom=e.rect.bottom-i.bottom,d=0!==s.rectDelta.left||0!==s.rectDelta.right||0!==s.rectDelta.top||0!==s.rectDelta.bottom),s.changed=!t||t.x!==s.coords.x||t.y!==s.coords.y||d,s}function Li(e){var t=e.interaction,n=e.phase,r=e.preEnd,o=e.skipModifiers,i=t.interactable,a=t.element,s=o?t.modifiers.states.slice(o):t.modifiers.states,l=e.prevCoords||(t.modifiers.result?t.modifiers.result.coords:t.coords.prev.page),c=zi({interaction:t,interactable:i,element:a,preEnd:r,phase:n,pageCoords:e.modifiedCoords||t.coords.cur.page,prevCoords:l,rect:t.rect,states:s,requireEndOnly:!1});if(!(t.modifiers.result=c).changed&&t.interacting())return!1;if(e.modifiedCoords){var u=t.coords.cur.page,d=e.modifiedCoords.x-u.x,f=e.modifiedCoords.y-u.y;c.coords.x+=d,c.coords.y+=f,c.delta.x+=d,c.delta.y+=f}Hi(e)}function Ni(e){var t=e.interaction,n=e.event,r=e.noPreEnd,o=t.modifiers.states;if(!r&&o&&o.length)for(var i=!1,a=0;a<o.length;a++){var s=o[a],l=(e.state=s).options,c=s.methods;if(!1===(c.beforeEnd&&c.beforeEnd(e)))return!(t.modifiers.endPrevented=!0);!i&&Yi(l,!0,!0)&&(t.move({event:n,preEnd:!0}),i=!0)}}function Fi(e){var t=e.interaction,n=t.modifiers.states;if(n&&n.length){for(var r=(0,Ai.default)({states:n,interactable:t.interactable,element:t.element,rect:null},e),o=0;o<n.length;o++){var i=n[o];(r.state=i).methods.stop&&i.methods.stop(r)}e.interaction.modifiers.states=null,e.interaction.modifiers.endPrevented=null}}function Bi(e){var t=e.interactable.options[e.prepared.name],n=t.modifiers;return n&&n.length?n.filter((function(e){return!e.options||!1!==e.options.enabled})):["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map((function(e){var n=t[e];return n&&n.enabled&&{options:n,methods:n._methods}})).filter((function(e){return!!e}))}function Wi(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],o=r.options,i=r.methods,a=r.name;o&&!1===o.enabled||t.push({options:o,methods:i,index:n,name:a})}return t}function Hi(e){var t=e.interaction,n=e.phase,r=t.coords.cur,o=t.coords.start,i=t.modifiers,a=i.result,s=i.startDelta,l=a.delta;"start"===n&&(0,Ai.default)(t.modifiers.startDelta,a.delta);for(var c=[[o,s],[r,l]],u=0;u<c.length;u++){var d=Di(c[u],2),f=d[0],p=d[1];f.page.x+=p.x,f.page.y+=p.y,f.client.x+=p.x,f.client.y+=p.y}var h=t.modifiers.result.rectDelta,m=e.rect||t.rect;m.left+=h.left,m.right+=h.right,m.top+=h.top,m.bottom+=h.bottom,m.width=m.right-m.left,m.height=m.bottom-m.top}function Ui(e){var t=e.interaction,n=t.coords,r=t.rect,o=t.modifiers;if(o.result){for(var i=o.startDelta,a=o.result,s=a.delta,l=a.rectDelta,c=[[n.start,i],[n.cur,s]],u=0;u<c.length;u++){var d=Di(c[u],2),f=d[0],p=d[1];f.page.x-=p.x,f.page.y-=p.y,f.client.x-=p.x,f.client.y-=p.y}r.left-=l.left,r.right-=l.right,r.top-=l.top,r.bottom-=l.bottom}}function Yi(e,t,n,r){return e?!1!==e.enabled&&(t||!e.endOnly)&&(!n||e.endOnly||e.alwaysOnEnd)&&(e.setStart||"start"!==r):!n}function qi(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}function $i(e,t){function n(e){var n=e||{};for(var i in n.enabled=!1!==n.enabled,r)i in n||(n[i]=r[i]);return{options:n,methods:o,name:t}}var r=e.defaults,o={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop};return t&&"string"==typeof t&&(n._defaults=r,n._methods=o),n}var Gi={id:"modifiers/base",install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){e.interaction.modifiers={startOffset:{left:0,right:0,top:0,bottom:0},offsets:{},states:null,result:null,endPrevented:!1,startDelta:null}},"interactions:before-action-start":function(e){Ii(e,e.interaction.coords.start.page,e.interaction.coords.prev.page),Hi(e)},"interactions:action-resume":function(e){Fi(e),Ii(e,e.interaction.coords.cur.page,e.interaction.modifiers.result.coords),Li(e)},"interactions:after-action-move":Ui,"interactions:before-action-move":Li,"interactions:after-action-start":Ui,"interactions:before-action-end":Ni,"interactions:stop":Fi},before:"ations",startAll:Ri,setAll:zi,prepareStates:Wi,start:Ii,beforeMove:Li,beforeEnd:Ni,stop:Fi,shouldDo:Yi,getModifierList:Bi,getRectOffset:qi,makeModifier:$i};Ti.default=Gi;var Xi={};function Ki(e){return(Ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.default=void 0;var Vi,Zi=ta(Ti),Ji=ta(ct),Qi=(Vi=ot)&&Vi.__esModule?Vi:{default:Vi};function ea(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return ea=function(){return e},e}function ta(e){if(e&&e.__esModule)return e;if(null===e||"object"!==Ki(e)&&"function"!=typeof e)return{default:e};var t=ea();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function na(e,t){var n=aa(e),r=n.resistance,o=-Math.log(n.endSpeed/t.v0)/r;t.x0=e.prevEvent.page.x,t.y0=e.prevEvent.page.y,t.t0=t.startEvent.timeStamp/1e3,t.sx=t.sy=0,t.modifiedXe=t.xe=(t.vx0-o)/r,t.modifiedYe=t.ye=(t.vy0-o)/r,t.te=o,t.lambda_v0=r/t.v0,t.one_ve_v0=1-n.endSpeed/t.v0}function ra(e){ia(e),Ji.pointer.setCoordDeltas(e.coords.delta,e.coords.prev,e.coords.cur),Ji.pointer.setCoordVelocity(e.coords.velocity,e.coords.delta);var t=e.inertia,n=aa(e).resistance,r=e._now()/1e3-t.t0;if(r<t.te){var o=1-(Math.exp(-n*r)-t.lambda_v0)/t.one_ve_v0;if(t.modifiedXe===t.xe&&t.modifiedYe===t.ye)t.sx=t.xe*o,t.sy=t.ye*o;else{var i=Ji.getQuadraticCurvePoint(0,0,t.xe,t.ye,t.modifiedXe,t.modifiedYe,o);t.sx=i.x,t.sy=i.y}e.move(),t.timeout=Qi.default.request((function(){return ra(e)}))}else t.sx=t.modifiedXe,t.sy=t.modifiedYe,e.move(),e.end(t.startEvent),t.active=!1,e.simulation=null;Ji.pointer.copyCoords(e.coords.prev,e.coords.cur)}function oa(e){ia(e);var t=e.inertia,n=e._now()-t.t0,r=aa(e).smoothEndDuration;n<r?(t.sx=Ji.easeOutQuad(n,0,t.xe,r),t.sy=Ji.easeOutQuad(n,0,t.ye,r),e.move(),t.timeout=Qi.default.request((function(){return oa(e)}))):(t.sx=t.xe,t.sy=t.ye,e.move(),e.end(t.startEvent),t.smoothEnd=t.active=!1,e.simulation=null)}function ia(e){var t=e.inertia;if(t.active){var n=t.upCoords.page,r=t.upCoords.client;Ji.pointer.setCoords(e.coords.cur,[{pageX:n.x+t.sx,pageY:n.y+t.sy,clientX:r.x+t.sx,clientY:r.y+t.sy}],e._now())}}function aa(e){var t=e.interactable,n=e.prepared;return t&&t.options&&n.name&&t.options[n.name].inertia}Sn.EventPhase.Resume="resume",Sn.EventPhase.InertiaStart="inertiastart";var sa={id:"inertia",install:function(e){var t=e.defaults;e.usePlugin(Zi.default),t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){e.interaction.inertia={active:!1,smoothEnd:!1,allowResume:!1,upCoords:{},timeout:null}},"interactions:before-action-end":function(e,t){var n=e.interaction,r=e.event,o=e.noPreEnd,i=n.inertia;if(!n.interacting()||n.simulation&&n.simulation.active||o)return null;var a,s=aa(n),l=n._now(),c=n.coords.velocity.client,u=Ji.hypot(c.x,c.y),d=!1,f=s&&s.enabled&&"gesture"!==n.prepared.name&&r!==i.startEvent,p=f&&l-n.coords.cur.timeStamp<50&&u>s.minSpeed&&u>s.endSpeed,h={interaction:n,interactable:n.interactable,element:n.element,rect:n.rect,pageCoords:n.coords.cur.page,states:f&&n.modifiers.states.map((function(e){return Ji.extend({},e)})),preEnd:!0,prevCoords:null,requireEndOnly:null,phase:Sn.EventPhase.InertiaStart};return f&&!p&&(h.prevCoords=n.modifiers.result?n.modifiers.result.coords:n.prevEvent.page,h.requireEndOnly=!1,(a=Zi.default.setAll(h)).changed&&(d=!0)),p||d?(Ji.pointer.copyCoords(i.upCoords,n.coords.cur),(0,Zi.setCoords)(h),n.pointers[0].pointer=i.startEvent=new t.InteractEvent(n,r,n.prepared.name,Sn.EventPhase.InertiaStart,n.element),(0,Zi.restoreCoords)(h),i.t0=l,i.active=!0,i.allowResume=s.allowResume,n.simulation=i,n.interactable.fire(i.startEvent),p?(i.vx0=n.coords.velocity.client.x,i.vy0=n.coords.velocity.client.y,i.v0=u,na(n,i),Ji.extend(h.pageCoords,n.coords.cur.page),h.pageCoords.x+=i.xe,h.pageCoords.y+=i.ye,h.prevCoords=null,h.requireEndOnly=!0,a=Zi.default.setAll(h),i.modifiedXe+=a.delta.x,i.modifiedYe+=a.delta.y,i.timeout=Qi.default.request((function(){return ra(n)}))):(i.smoothEnd=!0,i.xe=a.delta.x,i.ye=a.delta.y,i.sx=i.sy=0,i.timeout=Qi.default.request((function(){return oa(n)}))),!1):null},"interactions:down":function(e,t){var n=e.interaction,r=e.event,o=e.pointer,i=e.eventTarget,a=n.inertia;if(a.active)for(var s=i;Ji.is.element(s);){if(s===n.element){Qi.default.cancel(a.timeout),a.active=!1,n.simulation=null,n.updatePointer(o,r,i,!0),Ji.pointer.setCoords(n.coords.cur,n.pointers.map((function(e){return e.pointer})),n._now());var l={interaction:n,phase:Sn.EventPhase.Resume};t.fire("interactions:action-resume",l);var c=new t.InteractEvent(n,r,n.prepared.name,Sn.EventPhase.Resume,n.element);n._fireEvent(c),Ji.pointer.copyCoords(n.coords.prev,n.coords.cur);break}s=Ji.dom.parentNode(s)}},"interactions:stop":function(e){var t=e.interaction,n=t.inertia;n.active&&(Qi.default.cancel(n.timeout),n.active=!1,t.simulation=null)}},before:"modifiers/base",calcInertia:na,inertiaTick:ra,smothEndTick:oa,updateInertiaCoords:ia};Xi.default=sa;var la={};function ca(e){return(ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(la,"__esModule",{value:!0}),la.getRestrictionRect=ga,la.default=void 0;var ua,da=(ua=me)&&ua.__esModule?ua:{default:ua},fa=ma(b),pa=ma(ge);function ha(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return ha=function(){return e},e}function ma(e){if(e&&e.__esModule)return e;if(null===e||"object"!==ca(e)&&"function"!=typeof e)return{default:e};var t=ha();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function ga(e,t,n){return fa.func(e)?pa.resolveRectLike(e,t.interactable,t.element,[n.x,n.y,t]):pa.resolveRectLike(e,t.interactable,t.element)}var va={start:function(e){var t=e.rect,n=e.startOffset,r=e.state,o=e.interaction,i=e.pageCoords,a=r.options,s=a.elementRect,l=(0,da.default)({left:0,top:0,right:0,bottom:0},a.offset||{});if(t&&s){var c=ga(a.restriction,o,i);if(c){var u=c.right-c.left-t.width,d=c.bottom-c.top-t.height;u<0&&(l.left+=u,l.right+=u),d<0&&(l.top+=d,l.bottom+=d)}l.left+=n.left-t.width*s.left,l.top+=n.top-t.height*s.top,l.right+=n.right-t.width*(1-s.right),l.bottom+=n.bottom-t.height*(1-s.bottom)}r.offset=l},set:function(e){var t=e.coords,n=e.interaction,r=e.state,o=r.options,i=r.offset,a=ga(o.restriction,n,t);if(a){var s=pa.xywhToTlbr(a);t.x=Math.max(Math.min(s.right-i.right,t.x),s.left+i.left),t.y=Math.max(Math.min(s.bottom-i.bottom,t.y),s.top+i.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};la.default=va;var ya={};function ba(e){return(ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(ya,"__esModule",{value:!0}),ya.default=void 0;var wa,xa=(wa=me)&&wa.__esModule?wa:{default:wa},_a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==ba(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(ge),ka={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Oa={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Ea(e,t){for(var n=["top","left","bottom","right"],r=0;r<n.length;r++){var o=n[r];o in e||(e[o]=t[o])}return e}var Sa={noInner:ka,noOuter:Oa,start:function(e){var t,n=e.interaction,r=e.state,o=r.options,i=n.modifiers.startOffset;if(o){var a=(0,la.getRestrictionRect)(o.offset,n,n.coords.start.page);t=_a.rectToXY(a)}t=t||{x:0,y:0},r.offset={top:t.y+i.top,left:t.x+i.left,bottom:t.y-i.bottom,right:t.x-i.right}},set:function(e){var t=e.coords,n=e.interaction,r=e.state,o=r.offset,i=r.options,a=n.prepared._linkedEdges||n.prepared.edges;if(a){var s=(0,xa.default)({},t),l=(0,la.getRestrictionRect)(i.inner,n,s)||{},c=(0,la.getRestrictionRect)(i.outer,n,s)||{};Ea(l,ka),Ea(c,Oa),a.top?t.y=Math.min(Math.max(c.top+o.top,s.y),l.top+o.top):a.bottom&&(t.y=Math.max(Math.min(c.bottom+o.bottom,s.y),l.bottom+o.bottom)),a.left?t.x=Math.min(Math.max(c.left+o.left,s.x),l.left+o.left):a.right&&(t.x=Math.max(Math.min(c.right+o.right,s.x),l.right+o.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};ya.default=Sa;var ja={};Object.defineProperty(ja,"__esModule",{value:!0}),ja.default=void 0;var Ca=Ta(me),Pa=Ta(la);function Ta(e){return e&&e.__esModule?e:{default:e}}var Ma=(0,Ca.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},Pa.default.defaults),Aa={start:Pa.default.start,set:Pa.default.set,defaults:Ma};ja.default=Aa;var Da={};function Ia(e){return(Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(Da,"__esModule",{value:!0}),Da.default=void 0;var Ra=Na(me),za=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==Ia(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(ge),La=Na(ya);function Na(e){return e&&e.__esModule?e:{default:e}}var Fa={width:-1/0,height:-1/0},Ba={width:1/0,height:1/0},Wa={start:function(e){return La.default.start(e)},set:function(e){var t=e.interaction,n=e.state,r=n.options,o=t.prepared._linkedEdges||t.prepared.edges;if(o){var i=za.xywhToTlbr(t.resizeRects.inverted),a=za.tlbrToXywh((0,la.getRestrictionRect)(r.min,t,e.coords))||Fa,s=za.tlbrToXywh((0,la.getRestrictionRect)(r.max,t,e.coords))||Ba;n.options={endOnly:r.endOnly,inner:(0,Ra.default)({},La.default.noInner),outer:(0,Ra.default)({},La.default.noOuter)},o.top?(n.options.inner.top=i.bottom-a.height,n.options.outer.top=i.bottom-s.height):o.bottom&&(n.options.inner.bottom=i.top+a.height,n.options.outer.bottom=i.top+s.height),o.left?(n.options.inner.left=i.right-a.width,n.options.outer.left=i.right-s.width):o.right&&(n.options.inner.right=i.left+a.width,n.options.outer.right=i.left+s.width),La.default.set(e),n.options=r}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Da.default=Wa;var Ha={};function Ua(e){return(Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.default=void 0;var Ya=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==Ua(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(ct),qa={start:function(e){var t,n=e.interaction,r=e.interactable,o=e.element,i=e.rect,a=e.state,s=e.startOffset,l=a.options,c=[],u=l.offsetWithOrigin?function(e){var t=e.interaction.element;return Ya.rect.rectToXY(Ya.rect.resolveRectLike(e.state.options.origin,null,null,[t]))||Ya.getOriginXY(e.interactable,t,e.interaction.prepared.name)}(e):{x:0,y:0};if("startCoords"===l.offset)t={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var d=Ya.rect.resolveRectLike(l.offset,r,o,[n]);(t=Ya.rect.rectToXY(d)||{x:0,y:0}).x+=u.x,t.y+=u.y}var f=l.relativePoints||[];if(i&&l.relativePoints&&l.relativePoints.length)for(var p=0;p<f.length;p++){var h=f[p];c.push({index:p,relativePoint:h,x:s.left-i.width*h.x+t.x,y:s.top-i.height*h.y+t.y})}else c.push(Ya.extend({index:0,relativePoint:null},t));a.offsets=c},set:function(e){var t,n=e.interaction,r=e.coords,o=e.state,i=o.options,a=o.offsets,s=Ya.getOriginXY(n.interactable,n.element,n.prepared.name),l=Ya.extend({},r),c=[];i.offsetWithOrigin||(l.x-=s.x,l.y-=s.y),o.realX=l.x,o.realY=l.y;for(var u=0;u<a.length;u++)for(var d=a[u],f=l.x-d.x,p=l.y-d.y,h=0,m=i.targets.length;h<m;h++){var g=i.targets[h];(t=Ya.is.func(g)?g(f,p,n,d,h):g)&&c.push({x:(Ya.is.number(t.x)?t.x:f)+d.x,y:(Ya.is.number(t.y)?t.y:p)+d.y,range:Ya.is.number(t.range)?t.range:i.range})}for(var v={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0},y=0,b=c.length;y<b;y++){var w=(t=c[y]).range,x=t.x-l.x,_=t.y-l.y,k=Ya.hypot(x,_),O=k<=w;w===1/0&&v.inRange&&v.range!==1/0&&(O=!1),v.target&&!(O?v.inRange&&w!==1/0?k/w<v.distance/v.range:w===1/0&&v.range!==1/0||k<v.distance:!v.inRange&&k<v.distance)||(v.target=t,v.distance=k,v.range=w,v.inRange=O,v.dx=x,v.dy=_,o.range=w)}v.inRange&&(r.x=v.target.x,r.y=v.target.y),o.closest=v},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};Ha.default=qa;var $a={};function Ga(e){return(Ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty($a,"__esModule",{value:!0}),$a.default=void 0;var Xa=Za(me),Ka=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==Ga(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(b),Va=Za(Ha);function Za(e){return e&&e.__esModule?e:{default:e}}function Ja(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Qa={start:function(e){var t=e.interaction,n=e.state,r=n.options,o=t.prepared.edges;if(!o)return null;e.state={options:{targets:null,relativePoints:[{x:o.left?0:1,y:o.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},n.targetFields=n.targetFields||[["width","height"],["x","y"]],Va.default.start(e),n.offsets=e.state.offsets,e.state=n},set:function(e){var t=e.interaction,n=e.state,r=e.coords,o=n.options,i=n.offsets,a={x:r.x-i[0].x,y:r.y-i[0].y};n.options=(0,Xa.default)({},o),n.options.targets=[];for(var s=0;s<(o.targets||[]).length;s++){var l=(o.targets||[])[s],c=void 0;if(c=Ka.func(l)?l(a.x,a.y,t):l){for(var u=0;u<n.targetFields.length;u++){var d=Ja(n.targetFields[u],2),f=d[0],p=d[1];if(f in c||p in c){c.x=c[f],c.y=c[p];break}}n.options.targets.push(c)}}Va.default.set(e),n.options=o},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};$a.default=Qa;var es={};Object.defineProperty(es,"__esModule",{value:!0}),es.default=void 0;var ts=os(_e),ns=os(me),rs=os($a);function os(e){return e&&e.__esModule?e:{default:e}}var is={start:function(e){var t=e.interaction.prepared.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],rs.default.start(e)):null},set:function(e){return rs.default.set(e)},defaults:(0,ns.default)((0,ts.default)(rs.default.defaults),{offset:{x:0,y:0}})};es.default=is;var as={};Object.defineProperty(as,"__esModule",{value:!0}),as.restrictSize=as.restrictEdges=as.restrictRect=as.restrict=as.snapEdges=as.snapSize=as.snap=void 0;var ss=ms(Ti),ls=ms(ya),cs=ms(la),us=ms(ja),ds=ms(Da),fs=ms(es),ps=ms(Ha),hs=ms($a);function ms(e){return e&&e.__esModule?e:{default:e}}var gs=ss.default.makeModifier,vs=gs(ps.default,"snap");as.snap=vs;var ys=gs(hs.default,"snapSize");as.snapSize=ys;var bs=gs(fs.default,"snapEdges");as.snapEdges=bs;var ws=gs(cs.default,"restrict");as.restrict=ws;var xs=gs(us.default,"restrictRect");as.restrictRect=xs;var _s=gs(ls.default,"restrictEdges");as.restrictEdges=_s;var ks=gs(ds.default,"restrictSize");as.restrictSize=ks;var Os={};Object.defineProperty(Os,"__esModule",{value:!0}),Os.default=void 0;var Es,Ss=(Es=wn)&&Es.__esModule?Es:{default:Es},js=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==Cs(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(J);function Cs(e){return(Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ps(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ts(e){return(Ts=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ms(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function As(e,t){return(As=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Is=function(){function e(t,n,r,o,i,a){var s;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s=function(e,t){return!t||"object"!==Cs(t)&&"function"!=typeof t?Ms(e):t}(this,Ts(e).call(this,i)),Ds(Ms(s),"type",void 0),Ds(Ms(s),"originalEvent",void 0),Ds(Ms(s),"pointerId",void 0),Ds(Ms(s),"pointerType",void 0),Ds(Ms(s),"double",void 0),Ds(Ms(s),"pageX",void 0),Ds(Ms(s),"pageY",void 0),Ds(Ms(s),"clientX",void 0),Ds(Ms(s),"clientY",void 0),Ds(Ms(s),"dt",void 0),Ds(Ms(s),"eventable",void 0),js.pointerExtend(Ms(s),r),r!==n&&js.pointerExtend(Ms(s),n),s.timeStamp=a,s.originalEvent=r,s.type=t,s.pointerId=js.getPointerId(n),s.pointerType=js.getPointerType(n),s.target=o,s.currentTarget=null,"tap"===t){var l=i.getPointerIndex(n);s.dt=s.timeStamp-i.pointers[l].downTime;var c=s.timeStamp-i.tapTime;s.double=!!(i.prevTap&&"doubletap"!==i.prevTap.type&&i.prevTap.target===s.target&&c<500)}else"doubletap"===t&&(s.dt=n.timeStamp-i.tapTime);return s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&As(e,t)}(e,Ss.default),function(e,t,n){t&&Ps(e.prototype,t)}(e,[{key:"_subtractOrigin",value:function(e){var t=e.x,n=e.y;return this.pageX-=t,this.pageY-=n,this.clientX-=t,this.clientY-=n,this}},{key:"_addOrigin",value:function(e){var t=e.x,n=e.y;return this.pageX+=t,this.pageY+=n,this.clientX+=t,this.clientY+=n,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),e}();Os.default=Is;var Rs={};function zs(e){return(zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.default=void 0;var Ls,Ns=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==zs(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(ct),Fs=(Ls=Os)&&Ls.__esModule?Ls:{default:Ls},Bs={id:"pointer-events/base",install:function(e){e.pointerEvents=Bs,e.defaults.actions.pointerEvents=Bs.defaults},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,n=e.pointerInfo;!t&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var n=e.interaction,r=e.pointer,o=e.event,i=e.eventTarget,a=e.duplicate,s=n.getPointerIndex(r);a||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&clearTimeout(n.pointers[s].hold.timeout),Ws({interaction:n,pointer:r,event:o,eventTarget:i,type:"move"},t))},"interactions:down":function(e,t){!function(e,t){for(var n=e.interaction,r=e.pointer,o=e.event,i=e.eventTarget,a=e.pointerIndex,s=n.pointers[a].hold,l=Ns.dom.getPath(i),c={interaction:n,pointer:r,event:o,eventTarget:i,type:"hold",targets:[],path:l,node:null},u=0;u<l.length;u++){var d=l[u];c.node=d,t.fire("pointerEvents:collect-targets",c)}if(c.targets.length){for(var f=1/0,p=0;p<c.targets.length;p++){var h=c.targets[p].eventable.options.holdDuration;h<f&&(f=h)}s.duration=f,s.timeout=setTimeout((function(){Ws({interaction:n,eventTarget:i,pointer:r,event:o,type:"hold"},t)}),f)}}(e,t),Ws(e,t)},"interactions:up":function(e,t){Us(e),Ws(e,t),function(e,t){var n=e.interaction,r=e.pointer,o=e.event,i=e.eventTarget;n.pointerWasMoved||Ws({interaction:n,eventTarget:i,pointer:r,event:o,type:"tap"},t)}(e,t)},"interactions:cancel":function(e,t){Us(e),Ws(e,t)}},PointerEvent:Fs.default,fire:Ws,collectEventTargets:Hs,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:["down","move","up","cancel","tap","doubletap","hold"]};function Ws(e,t){var n=e.interaction,r=e.pointer,o=e.event,i=e.eventTarget,a=e.type,s=e.targets,l=void 0===s?Hs(e,t):s,c=new Fs.default(a,r,o,i,n,t.now());t.fire("pointerEvents:new",{pointerEvent:c});for(var u={interaction:n,pointer:r,event:o,eventTarget:i,targets:l,type:a,pointerEvent:c},d=0;d<l.length;d++){var f=l[d];for(var p in f.props||{})c[p]=f.props[p];var h=Ns.getOriginXY(f.eventable,f.node);if(c._subtractOrigin(h),c.eventable=f.eventable,c.currentTarget=f.node,f.eventable.fire(c),c._addOrigin(h),c.immediatePropagationStopped||c.propagationStopped&&d+1<l.length&&l[d+1].node!==c.currentTarget)break}if(t.fire("pointerEvents:fired",u),"tap"===a){var m=c.double?Ws({interaction:n,pointer:r,event:o,eventTarget:i,type:"doubletap"},t):c;n.prevTap=m,n.tapTime=m.timeStamp}return c}function Hs(e,t){var n=e.interaction,r=e.pointer,o=e.event,i=e.eventTarget,a=e.type,s=n.getPointerIndex(r),l=n.pointers[s];if("tap"===a&&(n.pointerWasMoved||!l||l.downTarget!==i))return[];for(var c=Ns.dom.getPath(i),u={interaction:n,pointer:r,event:o,eventTarget:i,type:a,path:c,targets:[],node:null},d=0;d<c.length;d++){var f=c[d];u.node=f,t.fire("pointerEvents:collect-targets",u)}return"hold"===a&&(u.targets=u.targets.filter((function(e){return e.eventable.options.holdDuration===n.pointers[s].hold.duration}))),u.targets}function Us(e){var t=e.interaction,n=e.pointerIndex;t.pointers[n].hold&&clearTimeout(t.pointers[n].hold.timeout)}var Ys=Bs;Rs.default=Ys;var qs={};Object.defineProperty(qs,"__esModule",{value:!0}),qs.default=void 0;var $s,Gs=($s=Rs)&&$s.__esModule?$s:{default:$s};function Xs(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}var Ks={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(Gs.default);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.push("holdrepeat")},listeners:["move","up","cancel","endall"].reduce((function(e,t){return e["pointerEvents:".concat(t)]=Xs,e}),{"pointerEvents:new":function(e){var t=e.pointerEvent;"hold"===t.type&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var n=e.interaction,r=e.pointerEvent,o=e.eventTarget,i=e.targets;if("hold"===r.type&&i.length){var a=i[0].eventable.options.holdRepeatInterval;a<=0||(n.holdIntervalHandle=setTimeout((function(){t.pointerEvents.fire({interaction:n,eventTarget:o,type:"hold",pointer:r,event:r},t)}),a))}}})};qs.default=Ks;var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.default=void 0;var Zs,Js=(Zs=me)&&Zs.__esModule?Zs:{default:Zs};function Qs(e){return(0,Js.default)(this.events.options,e),this}var el={id:"pointer-events/interactableTargets",install:function(e){var t=e.pointerEvents,n=e.actions,r=e.Interactable;(0,l.merge)(n.eventTypes,t.types),r.prototype.pointerEvents=Qs;var o=r.prototype._backCompatOption;r.prototype._backCompatOption=function(e,t){var n=o.call(this,e,t);return n===this&&(this.events.options[e]=t),n}},listeners:{"pointerEvents:collect-targets":function(e,t){var n=e.targets,r=e.node,o=e.type,i=e.eventTarget;t.interactables.forEachMatch(r,(function(e){var t=e.events,a=t.options;t.types[o]&&t.types[o].length&&e.testIgnoreAllow(a,r,i)&&n.push({node:r,eventable:t,props:{interactable:e}})}))},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(e){return t.getRect(e)}},"interactable:set":function(e,t){var n=e.interactable,r=e.options;(0,Js.default)(n.events.options,t.pointerEvents.defaults),(0,Js.default)(n.events.options,r.pointerEvents||{})}}};Vs.default=el;var tl={};function nl(e){return(nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(tl,"__esModule",{value:!0}),tl.install=function(e){e.usePlugin(rl),e.usePlugin(ol.default),e.usePlugin(il.default)},Object.defineProperty(tl,"holdRepeat",{enumerable:!0,get:function(){return ol.default}}),Object.defineProperty(tl,"interactableTargets",{enumerable:!0,get:function(){return il.default}}),tl.pointerEvents=tl.id=void 0;var rl=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==nl(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(Rs);tl.pointerEvents=rl;var ol=al(qs),il=al(Vs);function al(e){return e&&e.__esModule?e:{default:e}}tl.id="pointer-events";var sl={};function ll(e){for(var t=e.actions,n=e.Interactable,r=0;r<t.names.length;r++){var o=t.names[r];t.eventTypes.push("".concat(o,"reflow"))}n.prototype.reflow=function(t){return function(e,t,n){function r(){var r=o[s],l=e.getRect(r);if(!l)return"break";var c=ct.arr.find(n.interactions.list,(function(n){return n.interacting()&&n.interactable===e&&n.element===r&&n.prepared.name===t.name})),u=void 0;if(c)c.move(),a&&(u=c._reflowPromise||new i((function(e){c._reflowResolve=e})));else{var d=ct.rect.tlbrToXywh(l),f={page:{x:d.x,y:d.y},client:{x:d.x,y:d.y},timeStamp:n.now()},p=ct.pointer.coordsToEvent(f);u=function(e,t,n,r,o){var i=e.interactions.new({pointerType:"reflow"}),a={interaction:i,event:o,pointer:o,eventTarget:n,phase:Sn.EventPhase.Reflow};i.interactable=t,i.element=n,i.prepared=(0,ct.extend)({},r),i.prevEvent=o,i.updatePointer(o,o,n,!0),i._doPhase(a);var s=ct.win.window.Promise?new ct.win.window.Promise((function(e){i._reflowResolve=e})):null;return i._reflowPromise=s,i.start(r,t,n),i._interacting?(i.move(a),i.end(o)):i.stop(),i.removePointer(o,o),i.pointerIsDown=!1,s}(n,e,r,t,p)}a&&a.push(u)}for(var o=ct.is.string(e.target)?ct.arr.from(e._context.querySelectorAll(e.target)):[e.target],i=ct.win.window.Promise,a=i?[]:null,s=0;s<o.length&&"break"!==r();s++);return a&&i.all(a).then((function(){return e}))}(this,t,e)}}Object.defineProperty(sl,"__esModule",{value:!0}),sl.install=ll,sl.default=void 0;var cl={id:Sn.EventPhase.Reflow="reflow",install:ll,listeners:{"interactions:stop":function(e,t){var n=e.interaction;n.pointerType===Sn.EventPhase.Reflow&&(n._reflowResolve&&n._reflowResolve(),ct.arr.remove(t.interactions.list,n))}}};sl.default=cl;var ul={};function dl(e){return(dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(ul,"__esModule",{value:!0}),ul.default=ul.scope=ul.interact=void 0;var fl=t({}),pl=gl(S),hl=gl(Ce),ml=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==dl(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(ct);function gl(e){return e&&e.__esModule?e:{default:e}}var vl={},yl=new fl.Scope;function bl(e,t){var n=yl.interactables.get(e,t);return n||((n=yl.interactables.new(e,t)).events.global=vl),n}ul.scope=yl,(ul.interact=bl).use=function(e,t){return yl.usePlugin(e,t),bl},bl.isSet=function(e,t){return!!yl.interactables.get(e,t&&t.context)},bl.on=function(e,t,n){if(ml.is.string(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),ml.is.array(e)){for(var r=0;r<e.length;r++){var o;o=e[r],bl.on(o,t,n)}return bl}if(ml.is.object(e)){for(var i in e)bl.on(i,e[i],t);return bl}return ml.arr.contains(yl.actions.eventTypes,e)?vl[e]?vl[e].push(t):vl[e]=[t]:hl.default.add(yl.document,e,t,{options:n}),bl},bl.off=function(e,t,n){if(ml.is.string(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),ml.is.array(e)){for(var r=0;r<e.length;r++){var o;o=e[r],bl.off(o,t,n)}return bl}if(ml.is.object(e)){for(var i in e)bl.off(i,e[i],t);return bl}var a;return ml.arr.contains(yl.actions.eventTypes,e)?e in vl&&-1!==(a=vl[e].indexOf(t))&&vl[e].splice(a,1):hl.default.remove(yl.document,e,t,n),bl},bl.debug=function(){return yl},bl.getPointerAverage=ml.pointer.pointerAverage,bl.getTouchBBox=ml.pointer.touchBBox,bl.getTouchDistance=ml.pointer.touchDistance,bl.getTouchAngle=ml.pointer.touchAngle,bl.getElementRect=ml.dom.getElementRect,bl.getElementClientRect=ml.dom.getElementClientRect,bl.matchesSelector=ml.dom.matchesSelector,bl.closest=ml.dom.closest,bl.supportsTouch=function(){return pl.default.supportsTouch},bl.supportsPointerEvent=function(){return pl.default.supportsPointerEvent},bl.stop=function(){for(var e=0;e<yl.interactions.list.length;e++)yl.interactions.list[e].stop();return bl},bl.pointerMoveTolerance=function(e){return ml.is.number(e)?(yl.interactions.pointerMoveTolerance=e,bl):yl.interactions.pointerMoveTolerance},yl.addListeners({"interactable:unset":function(e){var t=e.interactable;yl.interactables.list.splice(yl.interactables.list.indexOf(t),1);for(var n=0;n<yl.interactions.list.length;n++){var r=yl.interactions.list[n];r.interactable===t&&r.interacting()&&!r._ending&&r.stop()}}}),bl.addDocument=function(e,t){return yl.addDocument(e,t)},bl.removeDocument=function(e){return yl.removeDocument(e)};var wl=yl.interact=bl;ul.default=wl;var xl={};function _l(e){return(_l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(xl,"__esModule",{value:!0}),xl.init=function(e){for(var t in Dl.scope.init(e),Dl.default.use(Sl.default),Dl.default.use(Ml),Dl.default.use(Cl.default),Dl.default.use(Pl.default),Dl.default.use(El),Dl.default.use(kl),Tl){var n=Tl[t],r=n._defaults,o=n._methods;r._methods=o,Dl.scope.defaults.perAction[t]=r}return Dl.default.use(Ol.default),Dl.default.use(Al.default),Dl.default.use(jl.default),Dl.default},Object.defineProperty(xl,"autoScroll",{enumerable:!0,get:function(){return Ol.default}}),Object.defineProperty(xl,"interactablePreventDefault",{enumerable:!0,get:function(){return Sl.default}}),Object.defineProperty(xl,"inertia",{enumerable:!0,get:function(){return Cl.default}}),Object.defineProperty(xl,"modifiers",{enumerable:!0,get:function(){return Pl.default}}),Object.defineProperty(xl,"reflow",{enumerable:!0,get:function(){return Al.default}}),Object.defineProperty(xl,"interact",{enumerable:!0,get:function(){return Dl.default}}),xl.pointerEvents=xl.actions=xl.default=void 0;var kl=zl(ro);xl.actions=kl;var Ol=Il(co),El=zl(ti),Sl=Il(ai),jl=Il(mi),Cl=Il(Xi),Pl=Il(Ti),Tl=zl(as),Ml=zl(tl);xl.pointerEvents=Ml;var Al=Il(sl),Dl=zl(ul);function Il(e){return e&&e.__esModule?e:{default:e}}function Rl(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return Rl=function(){return e},e}function zl(e){if(e&&e.__esModule)return e;if(null===e||"object"!==_l(e)&&"function"!=typeof e)return{default:e};var t=Rl();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}Dl.default.version="1.7.3";var Ll=Dl.default;xl.default=Ll;var Nl={};function Fl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.default=void 0,Nl.default=function(e){function t(t,r){for(var o=e.range,i=e.limits,a=void 0===i?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:i,s=e.offset,l=void 0===s?{x:0,y:0}:s,c={range:o},u=0;u<n.length;u++){var d=Fl(n[u],2),f=d[0],p=d[1],h=Math.round((t-l.x)/e[f]),m=Math.round((r-l.y)/e[p]);c[f]=Math.max(a.left,Math.min(a.right,h*e[f]+l.x)),c[p]=Math.max(a.top,Math.min(a.bottom,m*e[p]+l.y))}return c}var n=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter((function(t){var n=Fl(t,2),r=n[0],o=n[1];return r in e||o in e}));return t._isSnapGrid=!0,t.grid=e,t.coordFields=n,t};var Bl={};Object.defineProperty(Bl,"__esModule",{value:!0}),Object.defineProperty(Bl,"grid",{enumerable:!0,get:function(){return Hl.default}});var Wl,Hl=(Wl=Nl)&&Wl.__esModule?Wl:{default:Wl},Ul={};Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.init=Jl,Ul.default=void 0;var Yl,ql=Vl(xl),$l=Vl(as),Gl=(Yl=me)&&Yl.__esModule?Yl:{default:Yl},Xl=Vl(Bl);function Kl(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return Kl=function(){return e},e}function Vl(e){if(e&&e.__esModule)return e;if(null===e||"object"!==Zl(e)&&"function"!=typeof e)return{default:e};var t=Kl();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function Zl(e){return(Zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jl(e){return(0,ql.init)(e),ql.default.use({id:"interactjs",install:function(){ql.default.modifiers=(0,Gl.default)({},$l),ql.default.snappers=Xl,ql.default.createSnapGrid=ql.default.snappers.grid}})}"object"===("undefined"==typeof window?"undefined":Zl(window))&&window&&Jl(window);var Ql=ql.default;Ul.default=Ql;var ec={exports:{}};Object.defineProperty(ec.exports,"__esModule",{value:!0});var tc={};ec.exports.default=void 0;var nc=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==rc(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(Ul);function rc(e){return(rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.keys(nc).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(tc,e)||Object.defineProperty(ec.exports,e,{enumerable:!0,get:function(){return nc[e]}}))})),"object"===rc(ec)&&ec&&(ec.exports=nc.default),nc.default.default=nc.default,nc.default.init=nc.init;var oc=nc.default;return ec.exports.default=oc,ec=ec.exports}()},function(e,t,n){"use strict";t.a=n.p+"/img/trash2.svg"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e,t){this._allowance=0,this.delay=e,this.max=t,this.lastCheck=Date.now()}get allowance(){return 0===this.delay?1/0:(this._allowance+=(Date.now()-this.lastCheck)/this.delay,this.lastCheck=Date.now(),this._allowance>this.max&&(this._allowance=this.max),this._allowance)}set allowance(e){this._allowance=e}spend(e){if(0===this.delay)return!0;let t=this.allowance;return!(t<e)&&(this.allowance=t-e,!0)}}},function(e,t,n){"use strict";t.a={ALICEBLUE:"#F0F8FF",ANTIQUEWHITE:"#FAEBD7",AQUA:"#00FFFF",AQUAMARINE:"#7FFFD4",AZURE:"#F0FFFF",BEIGE:"#F5F5DC",BISQUE:"#FFE4C4",BLACK:"#000000",BLANCHEDALMOND:"#FFEBCD",BLUE:"#0000FF",BLUEVIOLET:"#8A2BE2",BROWN:"#A52A2A",BURLYWOOD:"#DEB887",CADETBLUE:"#5F9EA0",CHARTREUSE:"#7FFF00",CHOCOLATE:"#D2691E",CORAL:"#FF7F50",CORNFLOWERBLUE:"#6495ED",CORNSILK:"#FFF8DC",CRIMSON:"#DC143C",CYAN:"#00FFFF",DARKBLUE:"#00008B",DARKCYAN:"#008B8B",DARKGOLDENROD:"#B8860B",DARKGRAY:"#A9A9A9",DARKGREY:"#A9A9A9",DARKGREEN:"#006400",DARKKHAKI:"#BDB76B",DARKMAGENTA:"#8B008B",DARKOLIVEGREEN:"#556B2F",DARKORANGE:"#FF8C00",DARKORCHID:"#9932CC",DARKRED:"#8B0000",DARKSALMON:"#E9967A",DARKSEAGREEN:"#8FBC8F",DARKSLATEBLUE:"#483D8B",DARKSLATEGRAY:"#2F4F4F",DARKSLATEGREY:"#2F4F4F",DARKTURQUOISE:"#00CED1",DARKVIOLET:"#9400D3",DEEPPINK:"#FF1493",DEEPSKYBLUE:"#00BFFF",DIMGRAY:"#696969",DIMGREY:"#696969",DODGERBLUE:"#1E90FF",FIREBRICK:"#B22222",FLORALWHITE:"#FFFAF0",FORESTGREEN:"#228B22",FUCHSIA:"#FF00FF",GAINSBORO:"#DCDCDC",GHOSTWHITE:"#F8F8FF",GOLD:"#FFD700",GOLDENROD:"#DAA520",GRAY:"#808080",GREY:"#808080",GREEN:"#008000",GREENYELLOW:"#ADFF2F",HONEYDEW:"#F0FFF0",HOTPINK:"#FF69B4",INDIANRED:"#CD5C5C",INDIGO:"#4B0082",IVORY:"#FFFFF0",KHAKI:"#F0E68C",LAVENDER:"#E6E6FA",LAVENDERBLUSH:"#FFF0F5",LAWNGREEN:"#7CFC00",LEMONCHIFFON:"#FFFACD",LIGHTBLUE:"#ADD8E6",LIGHTCORAL:"#F08080",LIGHTCYAN:"#E0FFFF",LIGHTGOLDENRODYELLOW:"#FAFAD2",LIGHTGRAY:"#D3D3D3",LIGHTGREY:"#D3D3D3",LIGHTGREEN:"#90EE90",LIGHTPINK:"#FFB6C1",LIGHTSALMON:"#FFA07A",LIGHTSEAGREEN:"#20B2AA",LIGHTSKYBLUE:"#87CEFA",LIGHTSLATEGRAY:"#778899",LIGHTSLATEGREY:"#778899",LIGHTSTEELBLUE:"#B0C4DE",LIGHTYELLOW:"#FFFFE0",LIME:"#00FF00",LIMEGREEN:"#32CD32",LINEN:"#FAF0E6",MAGENTA:"#FF00FF",MAROON:"#800000",MEDIUMAQUAMARINE:"#66CDAA",MEDIUMBLUE:"#0000CD",MEDIUMORCHID:"#BA55D3",MEDIUMPURPLE:"#9370DB",MEDIUMSEAGREEN:"#3CB371",MEDIUMSLATEBLUE:"#7B68EE",MEDIUMSPRINGGREEN:"#00FA9A",MEDIUMTURQUOISE:"#48D1CC",MEDIUMVIOLETRED:"#C71585",MIDNIGHTBLUE:"#191970",MINTCREAM:"#F5FFFA",MISTYROSE:"#FFE4E1",MOCCASIN:"#FFE4B5",NAVAJOWHITE:"#FFDEAD",NAVY:"#000080",OLDLACE:"#FDF5E6",OLIVE:"#808000",OLIVEDRAB:"#6B8E23",ORANGE:"#FFA500",ORANGERED:"#FF4500",ORCHID:"#DA70D6",PALEGOLDENROD:"#EEE8AA",PALEGREEN:"#98FB98",PALETURQUOISE:"#AFEEEE",PALEVIOLETRED:"#DB7093",PAPAYAWHIP:"#FFEFD5",PEACHPUFF:"#FFDAB9",PERU:"#CD853F",PINK:"#FFC0CB",PLUM:"#DDA0DD",POWDERBLUE:"#B0E0E6",PURPLE:"#800080",REBECCAPURPLE:"#663399",RED:"#FF0000",ROSYBROWN:"#BC8F8F",ROYALBLUE:"#4169E1",SADDLEBROWN:"#8B4513",SALMON:"#FA8072",SANDYBROWN:"#F4A460",SEAGREEN:"#2E8B57",SEASHELL:"#FFF5EE",SIENNA:"#A0522D",SILVER:"#C0C0C0",SKYBLUE:"#87CEEB",SLATEBLUE:"#6A5ACD",SLATEGRAY:"#708090",SLATEGREY:"#708090",SNOW:"#FFFAFA",SPRINGGREEN:"#00FF7F",STEELBLUE:"#4682B4",TAN:"#D2B48C",TEAL:"#008080",THISTLE:"#D8BFD8",TOMATO:"#FF6347",TURQUOISE:"#40E0D0",VIOLET:"#EE82EE",WHEAT:"#F5DEB3",WHITE:"#FFFFFF",WHITESMOKE:"#F5F5F5",YELLOW:"#FFFF00",YELLOWGREEN:"#9ACD32"}},function(e,t,n){"use strict";t.a=n.p+"/img/arrow.svg"},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(18),o=n.n(r),i=n(1),a=n(20),s=n(4),l=n(0),c=n(9),u=n(8);const d=document.getElementById("coords");function f(e,t){let[n,r]=Object(c.c)(e,t);n===l.a.x&&r===l.a.y||(l.a.x=n,l.a.y=r,d.innerText=`(${l.a.x}, ${l.a.y})`,-1!=l.a.color&&s.a.zoom>1&&(i.a.renderer.needRender=!0))}const p=Object(u.g)();class h extends o.a{constructor(){super(),this.tools=a.a,this.tool=a.a.mover,this._keyBinds={},this.activeTools={},this.addTools(),this.initEvents()}addTools(){const e=document.getElementById("tools");Object.keys(this.tools).forEach(t=>{const n=this.tools[t];if(p){if(!n.icon)return;let t=document.createElement("div");t.classList="toolContainer";let o=document.createElement("img");function r(){let e=document.getElementsByClassName("toolContainer selected")[0];e&&(e.className="toolContainer"),t.classList=["toolContainer selected"],this.tool=n}o.className="toolIcon",o.src=n.icon,t.appendChild(o),e.appendChild(t),t.addEventListener("pointerdown",r.bind(this)),"mover"===n.name&&r.apply(this)}else this._keyBinds[n.key]=n}),p||(document.getElementById("tools").style.cssText="display:none !important")}initEvents(){let e=i.a.eventManager;if(p){e.on("zoom",e=>{s.a.zoom*=e+1,s.a.checkZoom(),i.a.renderer.needRender=!0,i.a.fxRenderer.needRender=!0}),e.on("mousedown",e=>{f(e.clientX,e.clientY)}),e.on("mousemove",e=>{f(e.clientX,e.clientY)}),[["mousedown","down"],["mousemove","move"],["mouseup","up"]].forEach(t=>{const[n,r]=t;e.on(n,e=>{let t=this.tool;e&&e.gesture&&(t=this.tools.mover),t&&(t.emit(r,e),this.emit(r,e))})})}else e.on("mousedown",e=>{this.tools.mover.emit("down",e)}),e.on("mouseup",e=>{2===e.button&&(l.a.switchColor(-1),l.a.switchSecondColor(-1)),this.tools.mover.emit("up",e)}),e.on("mousemove",e=>{(0===e.buttons||s.a.noMoving)&&f(e.clientX,e.clientY),this.tool.emit("move",e),this.emit("move",e)}),e.on("keydown",e=>{let t=Object(u.h)(e);if(!t)return;const n=this._keyBinds[t];n&&(e.preventDefault(),e.stopPropagation(),this.tool=n,n.emit("down",e))}),e.on("keyup",e=>{let t=Object(u.h)(e);if(!t)return;const n=this._keyBinds[t];for(let t of Object.keys(this.tools)){const r=this.tools[t];if(!r.key||r===n)continue;Object(u.b)(r.key).keyCode===e.keyCode&&r.emit("up",e)}n&&(e.preventDefault(),e.stopPropagation(),n.emit("up",e))}),e.on("wheel",e=>{const t=s.a.zoom;s.a.zoomTo(e.deltaY);const n=e.clientX-window.innerWidth/2,r=e.clientY-window.innerHeight/2;s.a.moveTo(n/t,r/t),s.a.moveTo(-n/s.a.zoom,-r/s.a.zoom)});e.on("tick",e=>{Object.keys(this.tools).forEach(t=>{const n=this.tools[t];n.listenerCount("tick")>0&&n.emit("tick",e)})})}changeKey(e,t){const n=e.key;delete this._keyBinds[n],e.key=t,this._keyBinds[t]=e}}},,,,function(e,t,n){"use strict";var r=n.p+"/img/chunkPlaceholder.png",o=n(4),i=n(3),a=n(1);class s{constructor(e){this.url=e,this.loaded=!1,this.canvas=null,this._load()}_load(){const e=document.createElement("canvas"),t=new Image;t.src=this.url,t.onload=()=>{e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),this.canvas=e,this.loaded=!0,this.onload()}}onload(){}}var l=n(26),c=n(8),u=n(13),d=n(24),f=n(0);n.d(t,"a",(function(){return h}));const p=Object(c.g)();class h{constructor(e){this.ctx=e,this.canvas=this.ctx.canvas,this.chunkPlaceholderPattern=new s(r),this.chunkPlaceholderPattern.onload=()=>{this.needRender=!0},this.needRender=!0,this.preRendered={brush:{canvas:void 0,ctx:void 0,imageData:void 0,circle:void 0}},this.preRender()}preRender(){this.preRenderBrush(f.a.brushSize,o.a.zoom)}preRenderBrush(){const e=f.a.brushSize,t=o.a.zoom;if(t<1)return;const n=document.createElement("canvas");n.width=n.height=t*(e+1);const r=n.getContext("2d"),a=(r.getImageData(0,0,n.width,n.height).data,e/2),s=d.a.filledCircle(0,0,a);let l=[];for(let t=0;t<e+1;t++)l.push(new Array(e+1).fill(0));s.forEach(([e,t])=>{l[e+a][t+a]=1}),r.beginPath(),r.lineWidth=t/4,r.strokeStyle=i.m[f.a.color],r.lineCap="square",r.fillStyle="blue";for(let n=0;n<e;n++)for(let o=0;o<e;o++){if(c(n,o))continue;let e=c(n,o-1),i=c(n-1,o),a=c(n+1,o),s=c(n,o+1);e&&(r.moveTo(n*t,o*t),r.lineTo((n+1)*t,o*t)),i&&(r.moveTo(n*t,o*t),r.lineTo(n*t,(o+1)*t)),a&&(r.moveTo((n+1)*t,o*t),r.lineTo((n+1)*t,(o+1)*t)),s&&(r.moveTo((n+1)*t,(o+1)*t),r.lineTo(n*t,(o+1)*t))}function c(t,n){return t<0||t>=e||n<0||n>=e||!l[t][n]}r.stroke(),r.closePath(),this.preRendered.brush.canvas=n,this.preRendered.brush.ctx=n,this.preRendered.brush.imageData=n,this.preRendered.brush.canvas=n,this.preRendered.brush.circle=s}requestRender(){this.needRender&&(this.needRender=!1,this.render()),a.a.fxRenderer.render()}correctSmoothing(){p||(o.a.zoom<1?(this.ctx.imageSmoothingEnabled=!0,this.ctx.canvas.style.imageRendering="auto"):(this.ctx.imageSmoothingEnabled=!1,this.ctx.canvas.style.imageRendering="pixelated"))}render(){this.correctSmoothing();let e=Object(l.a)();this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);let t=o.a.x+c.d[0]-(this.canvas.width>>1)/o.a.zoom,n=o.a.y+c.d[1]-(this.canvas.height>>1)/o.a.zoom,r=o.a.zoom;1===r&&(t=Math.floor(t),n=Math.floor(n)),this.ctx.save(),this.ctx.scale(r,r),this.ctx.translate(-t,-n),e.forEach(e=>{let[t,n]=e,r=t*i.i,o=n*i.i;if(!a.a.chunkManager.hasChunk(t,n))return a.a.chunkManager.loadChunk(t,n),void(this.chunkPlaceholderPattern.loaded&&this.ctx.drawImage(this.chunkPlaceholderPattern.canvas,r,o,i.i,i.i));const s=a.a.chunkManager.getChunk(t,n);s.render(),this.ctx.drawImage(s.ctx.canvas,r,o)}),this.ctx.restore(),u.a.render()}}},function(e,t,n){"use strict";var r=n(1),o=n(3);class i{constructor(e,t,n){this.x=e,this.y=t,this.width=o.i,this.height=o.i,this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=o.i,this.ctx=this.canvas.getContext("2d"),this.imgData=this.ctx.createImageData(o.i,o.i),this.view=new Uint32Array(this.imgData.data.buffer),this.pCanvas=document.createElement("canvas"),this.pCanvas.width=this.pCanvas.height=o.i,this.pCtx=this.pCanvas.getContext("2d"),this.pImgData=this.pCtx.createImageData(o.i,o.i),this.pView=new Uint32Array(this.pImgData.data.buffer),this.needRender=!0,this.showProtected=!1,this.fromBuffer(n)}render(){this.needRender&&(this.needRender=!1,this.ctx.putImageData(this.imgData,0,0),this.showProtected&&(this.ctx.globalAlpha=.5,this.pCtx.putImageData(this.pImgData,0,0),this.ctx.drawImage(this.pCanvas,0,0),this.ctx.globalAlpha=1))}fromBuffer(e){let t,n;for(let r=0;r<e.byteLength;r++)t=e[r],n=128&t,n&&(this.pView[r]=4294901760),this.view[r]=o.b[127&t]}get(e,t){return this.view[e+t*o.i]}set(e,t,n){const r=e+t*o.i;this.view[r]=n,this.needRender=!0}setProtect(e,t,n){const r=e+t*o.i;this.pView[r]=n?4294901760:0,this.needRender=!0}getProtect(e,t){const n=e+t*o.i;return!!this.pView[n]}}var a=n(9);n.d(t,"a",(function(){return s}));class s{constructor(){this.chunks=new Map,this.loadingChunks=new Set,r.a.socket.on("chunk",(e,t,n)=>{let o=this.getChunkKey(e,t);if(!this.loadingChunks.has(o))return;this.loadingChunks.delete(o);let a=new i(e,t,n);this.chunks.set(o,a),r.a.renderer.needRender=!0}),r.a.socket.on("place",(e,t,n)=>{this.setChunkPixel(e,t,n),r.a.renderer.needRender=!0}),r.a.socket.on("protect",(e,t,n)=>{this.setProtect(e,t,n),r.a.renderer.needRender=!0})}getChunkKey(e,t){return e<<4|t}loadChunk(e,t){let n=this.getChunkKey(e,t);r.a.socket.connected&&!this.loadingChunks.has(n)&&this.loadingChunks.size<3&&(r.a.socket.requestChunk(e,t),this.loadingChunks.add(n))}hasChunk(e,t){let n=this.getChunkKey(e,t);return this.chunks.has(n)}getChunk(e,t){let n=this.getChunkKey(e,t);return this.chunks.has(n)?this.chunks.get(n):0}getChunkPixel(e,t){let[n,r,i,s]=Object(a.a)(e,t),l=this.getChunk(n,r);if(!l||e<0||t<0)return-1;let c=l.get(i,s);return o.a[c]}setChunkPixel(e,t,n){let[r,i,s,l]=Object(a.a)(e,t),c=this.getChunkKey(r,i);this.chunks.has(c)&&this.chunks.get(c).set(s,l,o.b[n])}setProtect(e,t,n){let[r,o,i,s]=Object(a.a)(e,t),l=this.getChunkKey(r,o);this.chunks.has(l)&&this.chunks.get(l).setProtect(i,s,n)}getProtect(e,t){let[n,r,o,i]=Object(a.a)(e,t),s=this.getChunk(n,r);return s?s.getProtect(o,i):-1}}},function(e,t,n){"use strict";n.r(t),function(e){n(83);var t=n(54),r=n(1),o=n(66),i=n(65),a=n(21),s=n(0),l=n(61),c=n(8),u=n(3),d=n(6),f=n(2),p=n(4);(async()=>{await u.k();const{elements:n}=r.a;window.onresize=()=>{n.mainCanvas.width=window.innerWidth,n.mainCanvas.height=window.innerHeight,n.fxCanvas.width=window.innerWidth,n.fxCanvas.height=window.innerHeight,h.imageSmoothingEnabled=!1,h.webkitImageSmoothingEnabled=!1,h.mozImageSmoothingEnabled=!1,h.msImageSmoothingEnabled=!1,h.oImageSmoothingEnabled=!1,y.needRender=!0,r.a.mobile||Object(c.a)(),Object(d.e)(),Object(d.d)()},window.oncontextmenu=function(e){e.preventDefault()},p.a.init(),Object(c.f)(),u.n.forEach((t,r)=>{const o=document.createElement("div");o.style.backgroundColor=`rgb(${t.join(",")})`,o.classList=["paletteColor light"],o.id="col"+r;let i=0;var a=e(o);a.on("pointerdown",()=>{i=Date.now()}),a.on("pointerleave",()=>{i=0}),o.onclick=()=>{let e=!1;0!=i&&(Date.now()-i>700&&(e=!0),i=0),(e?s.a.switchSecondColor:s.a.switchColor).call(s.a,r)},o.oncontextmenu=()=>{s.a.switchSecondColor(r)},n.palette.appendChild(o)});const h=n.mainCanvas.getContext("2d");h.imageSmoothingEnabled=!1;const m="https:"===location.protocol?443:location.port||80,g=new t.a(m);r.a.socket=g;const v=new o.a;r.a.chunkManager=v;const y=window.renderer=new i.a(h);r.a.renderer=y;const b=new a.b;r.a.fxRenderer=b,r.a.toolManager=new l.a(document.getElementById("board")),r.a.player=s.a;const w=()=>{requestAnimationFrame(()=>{y.requestRender(),w()})};w(),window.onresize(),g.on("opened",()=>{}),g.on("online",t=>{e(".online").text(t)}),g.on("closed",()=>{e(".online").text("offline")}),window.globals=r.a,Object(d.t)(),Object(f.a)(),Object(d.f)(),Object(d.g)()})()}.call(this,n(10))},function(e,t,n){"use strict";n.p},function(e,t,n){"use strict"},,,,,,,,,,,,,,function(e,t,n){"use strict";n(41)}]);
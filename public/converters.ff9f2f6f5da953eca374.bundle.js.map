{"version":3,"file":"converters.ff9f2f6f5da953eca374.bundle.js","mappings":"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,iEAAe,qBAAuB,qBAAqB;;;;;;;;;;;;;;;ACA3D,iEAAe,qBAAuB,sBAAsB;;;;;;;;;;;;;;;ACA5D,iEAAe,qBAAuB,qBAAqB;;;;;;;;;;;;;;;ACA3D,iEAAe,qBAAuB,yBAAyB;;;;;;;;;;;;ACA/D;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACxEgE;AACK;AACrE;AACA;AACA;AACA;AACA;AACA,aAAa,uEAAS;AACtB;AACA;AACA,aAAa,yEAAa;AAC1B;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA,iEAAe;;;;;;;;;;;;;;;;AChBR;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACO;AACP;AACA;AACA;;;;;;;;;;;;;;;;AC9BO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8FAA8F;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,SAAS,GAAG,UAAU,IAAI,cAAc,MAAM;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,MAAM;AACxD,uCAAuC,6DAA6D;AACpG,sCAAsC,8DAA8D;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,4DAA4D,MAAM;AAClE;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,CAAC;AACd,UAAU,CAAC;AACX,UAAU,CAAC;AACX,UAAU;AACV,UAAU,CAAC;AACX,UAAU,CAAC,oCAAoC,CAAC,iCAAiC,CAAC;AAClF,sBAAsB,CAAC,4BAA4B,CAAC;AACpD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,+DAA+D,gCAAgC,gBAAgB,OAAO,SAAS,0BAA0B,oBAAoB,mBAAmB,yBAAyB,eAAe,kBAAkB,qBAAqB,cAAc,YAAY,aAAa,gBAAgB,wDAAwD,kCAAkC,2BAA2B,sBAAsB,mBAAmB,uEAAuE,yBAAyB,aAAa,mBAAmB,UAAU,QAAQ,oFAAoF,yBAAyB,aAAa,mBAAmB,UAAU,QAAQ,0EAA0E,qCAAqC,WAAW,aAAa,mBAAmB,sBAAsB,qBAAqB,2CAA2C,YAAY,YAAY,mBAAmB,qBAAqB,sBAAsB;AAC3lC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzIkC;AAClC;AAC8B;AACC;AACA;AACC;AACwB;AACxD;AACwB;AACxB;AACA,iBAAiB,mBAAO,CAAC,0CAAS;AAClC,cAAc,mBAAO,CAAC,0DAAiB;AACvC,yBAAyB,mBAAO,CAAC,gDAAY;AAC7C;AAC6C;AAC7C;AACA,yBAAyB,sDAAc;AACvC;AACA;AACA,CAAC;AACD;AACA,CAAgC;AACI;AACpC;AACiC;AACjC;AACqE;AACrB;AACS;AACC;AACpB;AACtC,iDAAc;AACd;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,mBAAmB,CAAC;AACpB;AACA,gBAAgB,iDAAQ;AACxB,sBAAsB,CAAC,kBAAkB,IAAI,IAAI,IAAI;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,CAAC;AACT,MAAM;AACN,QAAQ,CAAC;AACT;AACA,oBAAoB,iDAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,IAAI,CAAC;AACL;AACA;AACA,mBAAmB,CAAC,wDAAwD,cAAc;AAC1F,QAAQ,CAAC;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iCAAiC,CAAC;AAClC;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA,cAAc,sDAAsD;AACpE;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,QAAQ,CAAC;AACT;AACA;AACA,IAAI,CAAC;AACL;AACA;AACA,iBAAiB,iDAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,WAAW,CAAC;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,CAAC;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,CAAC,qCAAqC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,eAAe,WAAW;AAC1B,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA,qBAAqB,CAAC;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,CAAC;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,YAAY;AACpC,iFAAiF,WAAW;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6GAA6G,UAAU;AACvH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA,gBAAgB,CAAC;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,QAAQ;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,CAAC;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,oBAAoB;AAC5C;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,gCAAgC,OAAO;AACvC;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,IAAI,sDAAS;AACb;AACA,QAAQ,CAAC,kBAAkB,sDAAC;AAC5B,QAAQ,CAAC;AACT;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;AACD,IAAI,CAAC;AACL;AACA;AACA,MAAM;AACN;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD,cAAc,CAAC;AACf;AACA;AACA,QAAQ,CAAC;AACT,MAAM;AACN,QAAQ,CAAC;AACT;AACA;AACA;AACA,QAAQ,CAAC;AACT,MAAM;AACN,QAAQ,CAAC;AACT;AACA;AACA;AACA;AACA,QAAQ,CAAC;AACT,MAAM;AACN,QAAQ,CAAC;AACT;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,CAAC,kBAAkB,sDAAC;AAC5B,QAAQ,CAAC;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,4DAAqB,CAAC,CAAC,sBAAsB,CAAC;AAC9C,6DAAqB,CAAC,CAAC,sBAAsB,CAAC;AAC9C;AACA;AACA,eAAe,CAAC;AAChB,QAAQ,CAAC;AACT;AACA,+BAA+B,MAAM,OAAO,sDAAC;AAC7C;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,+BAA+B,MAAM,OAAO,sDAAC;AAC7C;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,CAAC;AACb,YAAY,CAAC;AACb,YAAY,CAAC;AACb,YAAY,CAAC;AACb,YAAY,CAAC;AACb;AACA,YAAY,CAAC;AACb,YAAY,CAAC;AACb,UAAU;AACV;AACA,yBAAyB,CAAC;AAC1B;AACA,gBAAgB,CAAC;AACjB,wBAAwB,oBAAoB,EAAE,yDAAe;AAC7D;AACA,oBAAoB,MAAM,SAAS,sDAAC;AACpC,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,CAAC;AAC/B,+BAA+B,CAAC;AAChC;AACA;AACA;AACA,qBAAqB,sDAAY;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,mBAAmB,MAAM,OAAO,sDAAC;AACjC;AACA;AACA,0BAA0B,CAAC;AAC3B,4BAA4B,CAAC;AAC7B;AACA;AACA,6BAA6B,CAAC;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM,MAAM,sDAAC;AACjC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,gBAAgB,CAAC;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,CAAC;AAC9B,2BAA2B,CAAC;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,CAAC;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,MAAM,SAAS,sDAAC,aAAa,EAAE,gCAAgC,EAAE,sDAAC,OAAO;AACjG,qBAAqB;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,QAAQ,MAAM;AACd;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD,CAAC;AACD,IAAI,CAAC;AACL,CAAC;AACD,CAAC;AACD,IAAI,CAAC;AACL,IAAI,CAAC;AACL,CAAC;AACD;AACA,CAAC;AACD,IAAI,CAAC;AACL,CAAC;AACD,CAAC;AACD,IAAI,CAAC;AACL,IAAI,CAAC;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,gBAAgB;AACnD;AACA,4BAA4B,oBAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,+BAA+B,gBAAgB;AAC/C,wBAAwB,OAAO;AAC/B,4BAA4B,OAAO;AACnC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,oBAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,IAAI,uDAAS;AACb,QAAQ,CAAC,kBAAkB,sDAAC;AAC5B,QAAQ,CAAC;AACT;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;AACD,IAAI,CAAC;AACL;AACA;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,CAAC,kBAAkB,sDAAC;AAC5B,QAAQ,CAAC;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,eAAe,CAAC;AAChB,QAAQ,CAAC;AACT;AACA,mBAAmB,MAAM,OAAO,sDAAC;AACjC;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,mBAAmB,MAAM,OAAO,sDAAC;AACjC;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,mBAAmB,MAAM,OAAO,sDAAC;AACjC;AACA;AACA,QAAQ,MAAM,SAAS,sDAAC;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,MAAM,SAAS,sDAAC,aAAa,EAAE,gCAAgC;AACvF,qBAAqB;AACrB,cAAc;AACd;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,QAAQ,MAAM,OAAO,sDAAC;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,mBAAmB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,CAAC;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,CAAC;AAC9B;AACA;AACA,gCAAgC,CAAC,mCAAmC;AACpE;AACA;AACA,8BAA8B,CAAC,oCAAoC,sDAAC,uBAAuB;AAC3F;AACA;AACA,mCAAmC,CAAC;AACpC;AACA;AACA,qCAAqC,CAAC;AACtC,oCAAoC,CAAC;AACrC;AACA,iCAAiC,CAAC,kCAAkC,sDAAC,wBAAwB;AAC7F;AACA;AACA,oCAAoC,CAAC;AACrC,mCAAmC,CAAC;AACpC;AACA,gCAAgC,CAAC,kCAAkC,sDAAC,uBAAuB;AAC3F;AACA;AACA,kCAAkC,CAAC,YAAY,sDAAC,uBAAuB;AACvE;AACA,YAAY,CAAC;AACb;AACA;AACA;AACA;AACA,oBAAoB,MAAM,OAAO,sDAAC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,MAAM;AAC1C;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,mDAAK;AACvC;AACA,qEAAqE,gCAAgC;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,0DAA0D,iCAAiC,UAAU,SAAS,SAAS,UAAU;AACjI;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,8DAA8D,gBAAgB;AAC9E;AACA;AACA;AACA,wBAAwB,6DAAgB;AACxC;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA,kBAAkB;AAClB,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,oBAAoB,6DAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,CAAC,mBAAmB,cAAc,IAAI,cAAc;AACvF;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,QAAQ,MAAM;AAC3B;AACA,UAAU;AACV;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,IAAI,CAAC,KAAK,WAAW;AACrB;AACA;AACA;AACA,wBAAwB,CAAC;AACzB;AACA;AACA;AACA;AACA,2EAA2E,CAAC,KAAK,UAAU;AAC3F;AACA,IAAI,CAAC,KAAK,UAAU;AACpB;AACA,IAAI,CAAC,KAAK,UAAU;AACpB;AACA,8DAA8D,sDAAC,qBAAqB;AACpF,cAAc,mFAAmF,sDAAC,uBAAuB;AACzH;AACA,cAAc,8CAA8C,sDAAC,uBAAuB,EAAE,aAAa,GAAG,cAAc;AACpH,iEAAiE,sDAAC,oBAAoB;AACtF,+DAA+D,sDAAC,wBAAwB;AACxF;AACA;AACA,IAAI,iEAAyB,CAAC,CAAC,KAAK,UAAU;AAC9C;AACA,IAAI,CAAC,KAAK,WAAW;AACrB,QAAQ,CAAC,KAAK,WAAW;AACzB;AACA;AACA,+BAA+B,+CAAM;AACrC;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA,YAAY,CAAC,KAAK,WAAW;AAC7B,sDAAsD,KAAK,EAAE,mCAAmC,iBAAiB,OAAO;AACxH;AACA,UAAU;AACV,yBAAyB,sDAAC;AAC1B;AACA;AACA,0BAA0B,KAAK,oDAAoD,sDAAC,qBAAqB,QAAQ;AACjH;AACA,iCAAiC,CAAC;AAClC,oBAAoB,CAAC;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,sDAAC;AAClD;AACA;AACA;AACA;AACA;AACA,0CAA0C,iBAAiB;AAC3D;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB,cAAc;AACd;AACA;AACA;AACA,YAAY,CAAC,KAAK,WAAW;AAC7B;AACA,KAAK;AACL;AACA,IAAI,CAAC,KAAK,WAAW;AACrB;AACA,wBAAwB,MAAM,SAAS,sDAAC;AACxC,KAAK;AACL;AACA,IAAI,CAAC,KAAK,WAAW;AACrB;AACA,KAAK;AACL;AACA;AACA,QAAQ,CAAC,KAAK,WAAW;AACzB;AACA;AACA;AACA;AACA;AACA,gBAAgB,CAAC,KAAK,WAAW,8BAA8B,SAAS,KAAK,aAAa;AAC1F,aAAa;AACb,SAAS;AACT;AACA;AACA,IAAI,CAAC,KAAK,WAAW;AACrB,uDAAuD,MAAM,SAAS,sDAAC;AACvE,KAAK;AACL;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,IAAI,CAAC;AACL;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,0BAA0B,CAAC;AAC3B;AACA,IAAI,CAAC;AACL,CAAC;AACD,CAAC;AACD;AACA;AACA;AACA,0BAA0B,CAAC;AAC3B;AACA,IAAI,CAAC;AACL,CAAC;AACD;AACA;AACA;AACA;AACA,2DAAgB;AAChB;AACA,CAAC;AACD,IAAI,MAAM,OAAO,sDAAC;AAClB;AACA,CAAC;AACD;AACA,iBAAiB,iDAAQ;AACzB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;;;ACx1CD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAe;;;;;;;;;;;;;;;;;AChCf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL,QAAQ,MAAM;AACd;AACA;AACA;AACA;AACA,iEAAe;;;;;;;;;;;;;;;;ACrGR;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,sBAAsB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC,0BAA0B;AAC1B;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;;;;;;;;;;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,iBAAiB;AACvC;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,uBAAuB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,sCAAsC,qBAAM,0BAA0B,qBAAM;;;;;;UCzL7E;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;WACA;WACA;;;;;WCFA;;;;;WCAA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;WACA;;;;;WCVA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;;;;WCAA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEhDA;UACA;UACA;UACA;UACA","sources":["webpack://goroxels-client/./lib/converter/bin/converter.js","webpack://goroxels-client/./src/img/folder.png","webpack://goroxels-client/./src/img/palette.png","webpack://goroxels-client/./src/img/palette2.png","webpack://goroxels-client/./src/img/pattern.png","webpack://goroxels-client/./lib/converter/bin/converter.wasm","webpack://goroxels-client/./src/css/converters.css","webpack://goroxels-client/./src/js/convert/bayerMatrices.js","webpack://goroxels-client/./src/js/convert/converterWASM.js","webpack://goroxels-client/./src/js/convert/dom.js","webpack://goroxels-client/./src/js/convert/imgur.js","webpack://goroxels-client/./src/js/convert/imgzoom.js","webpack://goroxels-client/./src/js/convert/main.js","webpack://goroxels-client/./src/js/convert/openImage.js","webpack://goroxels-client/./src/js/convert/palettes.js","webpack://goroxels-client/./src/js/convert/resize.js","webpack://goroxels-client/./src/js/convert/setImmediate.js","webpack://goroxels-client/webpack/bootstrap","webpack://goroxels-client/webpack/runtime/amd define","webpack://goroxels-client/webpack/runtime/amd options","webpack://goroxels-client/webpack/runtime/chunk loaded","webpack://goroxels-client/webpack/runtime/compat get default export","webpack://goroxels-client/webpack/runtime/define property getters","webpack://goroxels-client/webpack/runtime/global","webpack://goroxels-client/webpack/runtime/harmony module decorator","webpack://goroxels-client/webpack/runtime/hasOwnProperty shorthand","webpack://goroxels-client/webpack/runtime/make namespace object","webpack://goroxels-client/webpack/runtime/publicPath","webpack://goroxels-client/webpack/runtime/jsonp chunk loading","webpack://goroxels-client/webpack/before-startup","webpack://goroxels-client/webpack/startup","webpack://goroxels-client/webpack/after-startup"],"sourcesContent":["\r\nvar converter = (() => {\r\n  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;\r\n  \r\n  return (\r\nfunction(converter) {\r\n  converter = converter || {};\r\n\r\nvar Module=typeof converter!=\"undefined\"?converter:{};var readyPromiseResolve,readyPromiseReject;Module[\"ready\"]=new Promise(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject});var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram=\"./this.program\";var quit_=(status,toThrow)=>{throw toThrow};var ENVIRONMENT_IS_WEB=true;var ENVIRONMENT_IS_WORKER=false;var scriptDirectory=\"\";function locateFile(path){if(Module[\"locateFile\"]){return Module[\"locateFile\"](path,scriptDirectory)}return scriptDirectory+path}var read_,readAsync,readBinary,setWindowTitle;if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(typeof document!=\"undefined\"&&document.currentScript){scriptDirectory=document.currentScript.src}if(_scriptDir){scriptDirectory=_scriptDir}if(scriptDirectory.indexOf(\"blob:\")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,\"\").lastIndexOf(\"/\")+1)}else{scriptDirectory=\"\"}{read_=url=>{var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){readBinary=url=>{var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.responseType=\"arraybuffer\";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=(url,onload,onerror)=>{var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,true);xhr.responseType=\"arraybuffer\";xhr.onload=()=>{if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)}}setWindowTitle=title=>document.title=title}else{}var out=Module[\"print\"]||console.log.bind(console);var err=Module[\"printErr\"]||console.warn.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;if(Module[\"arguments\"])arguments_=Module[\"arguments\"];if(Module[\"thisProgram\"])thisProgram=Module[\"thisProgram\"];if(Module[\"quit\"])quit_=Module[\"quit\"];var wasmBinary;if(Module[\"wasmBinary\"])wasmBinary=Module[\"wasmBinary\"];var noExitRuntime=Module[\"noExitRuntime\"]||true;if(typeof WebAssembly!=\"object\"){abort(\"no native wasm support detected\")}var wasmMemory;var ABORT=false;var EXITSTATUS;var UTF8Decoder=typeof TextDecoder!=\"undefined\"?new TextDecoder(\"utf8\"):undefined;function UTF8ArrayToString(heapOrArray,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr))}else{var str=\"\";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}return str}function UTF8ToString(ptr,maxBytesToRead){return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):\"\"}function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx}function stringToUTF8(str,outPtr,maxBytesToWrite){return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127)++len;else if(u<=2047)len+=2;else if(u<=65535)len+=3;else len+=4}return len}var UTF16Decoder=typeof TextDecoder!=\"undefined\"?new TextDecoder(\"utf-16le\"):undefined;function UTF16ToString(ptr,maxBytesToRead){var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder){return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr))}else{var str=\"\";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit)}return str}}function stringToUTF16(str,outPtr,maxBytesToWrite){if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2}HEAP16[outPtr>>1]=0;return outPtr-startPtr}function lengthBytesUTF16(str){return str.length*2}function UTF32ToString(ptr,maxBytesToRead){var i=0;var str=\"\";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}else{str+=String.fromCharCode(utf32)}}return str}function stringToUTF32(str,outPtr,maxBytesToWrite){if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break}HEAP32[outPtr>>2]=0;return outPtr-startPtr}function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4}return len}function allocateUTF8OnStack(str){var size=lengthBytesUTF8(str)+1;var ret=stackAlloc(size);stringToUTF8Array(str,HEAP8,ret,size);return ret}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferAndViews(buf){buffer=buf;Module[\"HEAP8\"]=HEAP8=new Int8Array(buf);Module[\"HEAP16\"]=HEAP16=new Int16Array(buf);Module[\"HEAP32\"]=HEAP32=new Int32Array(buf);Module[\"HEAPU8\"]=HEAPU8=new Uint8Array(buf);Module[\"HEAPU16\"]=HEAPU16=new Uint16Array(buf);Module[\"HEAPU32\"]=HEAPU32=new Uint32Array(buf);Module[\"HEAPF32\"]=HEAPF32=new Float32Array(buf);Module[\"HEAPF64\"]=HEAPF64=new Float64Array(buf)}var INITIAL_MEMORY=Module[\"INITIAL_MEMORY\"]||16777216;var wasmTable;var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;function keepRuntimeAlive(){return noExitRuntime}function preRun(){if(Module[\"preRun\"]){if(typeof Module[\"preRun\"]==\"function\")Module[\"preRun\"]=[Module[\"preRun\"]];while(Module[\"preRun\"].length){addOnPreRun(Module[\"preRun\"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function postRun(){if(Module[\"postRun\"]){if(typeof Module[\"postRun\"]==\"function\")Module[\"postRun\"]=[Module[\"postRun\"]];while(Module[\"postRun\"].length){addOnPostRun(Module[\"postRun\"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnInit(cb){__ATINIT__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function addRunDependency(id){runDependencies++;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies)}}function removeRunDependency(id){runDependencies--;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}function abort(what){{if(Module[\"onAbort\"]){Module[\"onAbort\"](what)}}what=\"Aborted(\"+what+\")\";err(what);ABORT=true;EXITSTATUS=1;what+=\". Build with -sASSERTIONS for more info.\";var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e}var dataURIPrefix=\"data:application/octet-stream;base64,\";function isDataURI(filename){return filename.startsWith(dataURIPrefix)}var wasmBinaryFile;wasmBinaryFile=\"converter.wasm\";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}function getBinary(file){try{if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(file)}else{throw\"both async and sync fetching of the wasm failed\"}}catch(err){abort(err)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch==\"function\"){return fetch(wasmBinaryFile,{credentials:\"same-origin\"}).then(function(response){if(!response[\"ok\"]){throw\"failed to load wasm binary file at '\"+wasmBinaryFile+\"'\"}return response[\"arrayBuffer\"]()}).catch(function(){return getBinary(wasmBinaryFile)})}}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}function createWasm(){var info={\"a\":asmLibraryArg};function receiveInstance(instance,module){var exports=instance.exports;Module[\"asm\"]=exports;wasmMemory=Module[\"asm\"][\"y\"];updateGlobalBufferAndViews(wasmMemory.buffer);wasmTable=Module[\"asm\"][\"A\"];addOnInit(Module[\"asm\"][\"z\"]);removeRunDependency(\"wasm-instantiate\")}addRunDependency(\"wasm-instantiate\");function receiveInstantiationResult(result){receiveInstance(result[\"instance\"])}function instantiateArrayBuffer(receiver){return getBinaryPromise().then(function(binary){return WebAssembly.instantiate(binary,info)}).then(function(instance){return instance}).then(receiver,function(reason){err(\"failed to asynchronously prepare wasm: \"+reason);abort(reason)})}function instantiateAsync(){if(!wasmBinary&&typeof WebAssembly.instantiateStreaming==\"function\"&&!isDataURI(wasmBinaryFile)&&typeof fetch==\"function\"){return fetch(wasmBinaryFile,{credentials:\"same-origin\"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,info);return result.then(receiveInstantiationResult,function(reason){err(\"wasm streaming compile failed: \"+reason);err(\"falling back to ArrayBuffer instantiation\");return instantiateArrayBuffer(receiveInstantiationResult)})})}else{return instantiateArrayBuffer(receiveInstantiationResult)}}if(Module[\"instantiateWasm\"]){try{var exports=Module[\"instantiateWasm\"](info,receiveInstance);return exports}catch(e){err(\"Module.instantiateWasm callback failed with error: \"+e);return false}}instantiateAsync().catch(readyPromiseReject);return{}}function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback==\"function\"){callback(Module);continue}var func=callback.func;if(typeof func==\"number\"){if(callback.arg===undefined){getWasmTableEntry(func)()}else{getWasmTableEntry(func)(callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}var wasmTableMirror=[];function getWasmTableEntry(funcPtr){var func=wasmTableMirror[funcPtr];if(!func){if(funcPtr>=wasmTableMirror.length)wasmTableMirror.length=funcPtr+1;wasmTableMirror[funcPtr]=func=wasmTable.get(funcPtr)}return func}function handleException(e){if(e instanceof ExitStatus||e==\"unwind\"){return EXITSTATUS}quit_(1,e)}function ___cxa_allocate_exception(size){return _malloc(size+24)+24}function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-24;this.set_type=function(type){HEAPU32[this.ptr+4>>2]=type};this.get_type=function(){return HEAPU32[this.ptr+4>>2]};this.set_destructor=function(destructor){HEAPU32[this.ptr+8>>2]=destructor};this.get_destructor=function(){return HEAPU32[this.ptr+8>>2]};this.set_refcount=function(refcount){HEAP32[this.ptr>>2]=refcount};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+12>>0]=caught};this.get_caught=function(){return HEAP8[this.ptr+12>>0]!=0};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+13>>0]=rethrown};this.get_rethrown=function(){return HEAP8[this.ptr+13>>0]!=0};this.init=function(type,destructor){this.set_adjusted_ptr(0);this.set_type(type);this.set_destructor(destructor);this.set_refcount(0);this.set_caught(false);this.set_rethrown(false)};this.add_ref=function(){var value=HEAP32[this.ptr>>2];HEAP32[this.ptr>>2]=value+1};this.release_ref=function(){var prev=HEAP32[this.ptr>>2];HEAP32[this.ptr>>2]=prev-1;return prev===1};this.set_adjusted_ptr=function(adjustedPtr){HEAPU32[this.ptr+16>>2]=adjustedPtr};this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2]};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_type());if(isPointer){return HEAPU32[this.excPtr>>2]}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.excPtr}}var exceptionLast=0;var uncaughtExceptionCount=0;function ___cxa_throw(ptr,type,destructor){var info=new ExceptionInfo(ptr);info.init(type,destructor);exceptionLast=ptr;uncaughtExceptionCount++;throw ptr}function __embind_register_bigint(primitiveType,name,size,minRange,maxRange){}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(\"Unknown type size: \"+size)}}function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i)}embind_charCodes=codes}var embind_charCodes=undefined;function readLatin1String(ptr){var ret=\"\";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]]}return ret}var awaitingDependencies={};var registeredTypes={};var typeDependencies={};var char_0=48;var char_9=57;function makeLegalFunctionName(name){if(undefined===name){return\"_unknown\"}name=name.replace(/[^a-zA-Z0-9_]/g,\"$\");var f=name.charCodeAt(0);if(f>=char_0&&f<=char_9){return\"_\"+name}return name}function createNamedFunction(name,body){name=makeLegalFunctionName(name);return new Function(\"body\",\"return function \"+name+\"() {\\n\"+'    \"use strict\";'+\"    return body.apply(this, arguments);\\n\"+\"};\\n\")(body)}function extendError(baseErrorType,errorName){var errorClass=createNamedFunction(errorName,function(message){this.name=errorName;this.message=message;var stack=new Error(message).stack;if(stack!==undefined){this.stack=this.toString()+\"\\n\"+stack.replace(/^Error(:[^\\n]*)?\\n/,\"\")}});errorClass.prototype=Object.create(baseErrorType.prototype);errorClass.prototype.constructor=errorClass;errorClass.prototype.toString=function(){if(this.message===undefined){return this.name}else{return this.name+\": \"+this.message}};return errorClass}var BindingError=undefined;function throwBindingError(message){throw new BindingError(message)}var InternalError=undefined;function throwInternalError(message){throw new InternalError(message)}function whenDependentTypesAreResolved(myTypes,dependentTypes,getTypeConverters){myTypes.forEach(function(type){typeDependencies[type]=dependentTypes});function onComplete(typeConverters){var myTypeConverters=getTypeConverters(typeConverters);if(myTypeConverters.length!==myTypes.length){throwInternalError(\"Mismatched type converter count\")}for(var i=0;i<myTypes.length;++i){registerType(myTypes[i],myTypeConverters[i])}}var typeConverters=new Array(dependentTypes.length);var unregisteredTypes=[];var registered=0;dependentTypes.forEach((dt,i)=>{if(registeredTypes.hasOwnProperty(dt)){typeConverters[i]=registeredTypes[dt]}else{unregisteredTypes.push(dt);if(!awaitingDependencies.hasOwnProperty(dt)){awaitingDependencies[dt]=[]}awaitingDependencies[dt].push(()=>{typeConverters[i]=registeredTypes[dt];++registered;if(registered===unregisteredTypes.length){onComplete(typeConverters)}})}});if(0===unregisteredTypes.length){onComplete(typeConverters)}}function registerType(rawType,registeredInstance,options={}){if(!(\"argPackAdvance\"in registeredInstance)){throw new TypeError(\"registerType registeredInstance requires argPackAdvance\")}var name=registeredInstance.name;if(!rawType){throwBindingError('type \"'+name+'\" must have a positive integer typeid pointer')}if(registeredTypes.hasOwnProperty(rawType)){if(options.ignoreDuplicateRegistrations){return}else{throwBindingError(\"Cannot register type '\"+name+\"' twice\")}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(awaitingDependencies.hasOwnProperty(rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(cb=>cb())}}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,\"fromWireType\":function(wt){return!!wt},\"toWireType\":function(destructors,o){return o?trueValue:falseValue},\"argPackAdvance\":8,\"readValueFromPointer\":function(pointer){var heap;if(size===1){heap=HEAP8}else if(size===2){heap=HEAP16}else if(size===4){heap=HEAP32}else{throw new TypeError(\"Unknown boolean type size: \"+name)}return this[\"fromWireType\"](heap[pointer>>shift])},destructorFunction:null})}var emval_free_list=[];var emval_handle_array=[{},{value:undefined},{value:null},{value:true},{value:false}];function __emval_decref(handle){if(handle>4&&0===--emval_handle_array[handle].refcount){emval_handle_array[handle]=undefined;emval_free_list.push(handle)}}function count_emval_handles(){var count=0;for(var i=5;i<emval_handle_array.length;++i){if(emval_handle_array[i]!==undefined){++count}}return count}function get_first_emval(){for(var i=5;i<emval_handle_array.length;++i){if(emval_handle_array[i]!==undefined){return emval_handle_array[i]}}return null}function init_emval(){Module[\"count_emval_handles\"]=count_emval_handles;Module[\"get_first_emval\"]=get_first_emval}var Emval={toValue:handle=>{if(!handle){throwBindingError(\"Cannot use deleted val. handle = \"+handle)}return emval_handle_array[handle].value},toHandle:value=>{switch(value){case undefined:return 1;case null:return 2;case true:return 3;case false:return 4;default:{var handle=emval_free_list.length?emval_free_list.pop():emval_handle_array.length;emval_handle_array[handle]={refcount:1,value:value};return handle}}}};function simpleReadValueFromPointer(pointer){return this[\"fromWireType\"](HEAPU32[pointer>>2])}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,\"fromWireType\":function(handle){var rv=Emval.toValue(handle);__emval_decref(handle);return rv},\"toWireType\":function(destructors,value){return Emval.toHandle(value)},\"argPackAdvance\":8,\"readValueFromPointer\":simpleReadValueFromPointer,destructorFunction:null})}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this[\"fromWireType\"](HEAPF32[pointer>>2])};case 3:return function(pointer){return this[\"fromWireType\"](HEAPF64[pointer>>3])};default:throw new TypeError(\"Unknown float type: \"+name)}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,\"fromWireType\":function(value){return value},\"toWireType\":function(destructors,value){return value},\"argPackAdvance\":8,\"readValueFromPointer\":floatReadValueFromPointer(name,shift),destructorFunction:null})}function new_(constructor,argumentList){if(!(constructor instanceof Function)){throw new TypeError(\"new_ called with constructor type \"+typeof constructor+\" which is not a function\")}var dummy=createNamedFunction(constructor.name||\"unknownFunctionName\",function(){});dummy.prototype=constructor.prototype;var obj=new dummy;var r=constructor.apply(obj,argumentList);return r instanceof Object?r:obj}function runDestructors(destructors){while(destructors.length){var ptr=destructors.pop();var del=destructors.pop();del(ptr)}}function craftInvokerFunction(humanName,argTypes,classType,cppInvokerFunc,cppTargetFunc){var argCount=argTypes.length;if(argCount<2){throwBindingError(\"argTypes array size mismatch! Must at least get return value and 'this' types!\")}var isClassMethodFunc=argTypes[1]!==null&&classType!==null;var needsDestructorStack=false;for(var i=1;i<argTypes.length;++i){if(argTypes[i]!==null&&argTypes[i].destructorFunction===undefined){needsDestructorStack=true;break}}var returns=argTypes[0].name!==\"void\";var argsList=\"\";var argsListWired=\"\";for(var i=0;i<argCount-2;++i){argsList+=(i!==0?\", \":\"\")+\"arg\"+i;argsListWired+=(i!==0?\", \":\"\")+\"arg\"+i+\"Wired\"}var invokerFnBody=\"return function \"+makeLegalFunctionName(humanName)+\"(\"+argsList+\") {\\n\"+\"if (arguments.length !== \"+(argCount-2)+\") {\\n\"+\"throwBindingError('function \"+humanName+\" called with ' + arguments.length + ' arguments, expected \"+(argCount-2)+\" args!');\\n\"+\"}\\n\";if(needsDestructorStack){invokerFnBody+=\"var destructors = [];\\n\"}var dtorStack=needsDestructorStack?\"destructors\":\"null\";var args1=[\"throwBindingError\",\"invoker\",\"fn\",\"runDestructors\",\"retType\",\"classParam\"];var args2=[throwBindingError,cppInvokerFunc,cppTargetFunc,runDestructors,argTypes[0],argTypes[1]];if(isClassMethodFunc){invokerFnBody+=\"var thisWired = classParam.toWireType(\"+dtorStack+\", this);\\n\"}for(var i=0;i<argCount-2;++i){invokerFnBody+=\"var arg\"+i+\"Wired = argType\"+i+\".toWireType(\"+dtorStack+\", arg\"+i+\"); // \"+argTypes[i+2].name+\"\\n\";args1.push(\"argType\"+i);args2.push(argTypes[i+2])}if(isClassMethodFunc){argsListWired=\"thisWired\"+(argsListWired.length>0?\", \":\"\")+argsListWired}invokerFnBody+=(returns?\"var rv = \":\"\")+\"invoker(fn\"+(argsListWired.length>0?\", \":\"\")+argsListWired+\");\\n\";if(needsDestructorStack){invokerFnBody+=\"runDestructors(destructors);\\n\"}else{for(var i=isClassMethodFunc?1:2;i<argTypes.length;++i){var paramName=i===1?\"thisWired\":\"arg\"+(i-2)+\"Wired\";if(argTypes[i].destructorFunction!==null){invokerFnBody+=paramName+\"_dtor(\"+paramName+\"); // \"+argTypes[i].name+\"\\n\";args1.push(paramName+\"_dtor\");args2.push(argTypes[i].destructorFunction)}}}if(returns){invokerFnBody+=\"var ret = retType.fromWireType(rv);\\n\"+\"return ret;\\n\"}else{}invokerFnBody+=\"}\\n\";args1.push(invokerFnBody);var invokerFunction=new_(Function,args1).apply(null,args2);return invokerFunction}function ensureOverloadTable(proto,methodName,humanName){if(undefined===proto[methodName].overloadTable){var prevFunc=proto[methodName];proto[methodName]=function(){if(!proto[methodName].overloadTable.hasOwnProperty(arguments.length)){throwBindingError(\"Function '\"+humanName+\"' called with an invalid number of arguments (\"+arguments.length+\") - expects one of (\"+proto[methodName].overloadTable+\")!\")}return proto[methodName].overloadTable[arguments.length].apply(this,arguments)};proto[methodName].overloadTable=[];proto[methodName].overloadTable[prevFunc.argCount]=prevFunc}}function exposePublicSymbol(name,value,numArguments){if(Module.hasOwnProperty(name)){if(undefined===numArguments||undefined!==Module[name].overloadTable&&undefined!==Module[name].overloadTable[numArguments]){throwBindingError(\"Cannot register public name '\"+name+\"' twice\")}ensureOverloadTable(Module,name,name);if(Module.hasOwnProperty(numArguments)){throwBindingError(\"Cannot register multiple overloads of a function with the same number of arguments (\"+numArguments+\")!\")}Module[name].overloadTable[numArguments]=value}else{Module[name]=value;if(undefined!==numArguments){Module[name].numArguments=numArguments}}}function heap32VectorToArray(count,firstElement){var array=[];for(var i=0;i<count;i++){array.push(HEAP32[(firstElement>>2)+i])}return array}function replacePublicSymbol(name,value,numArguments){if(!Module.hasOwnProperty(name)){throwInternalError(\"Replacing nonexistant public symbol\")}if(undefined!==Module[name].overloadTable&&undefined!==numArguments){Module[name].overloadTable[numArguments]=value}else{Module[name]=value;Module[name].argCount=numArguments}}function dynCallLegacy(sig,ptr,args){var f=Module[\"dynCall_\"+sig];return args&&args.length?f.apply(null,[ptr].concat(args)):f.call(null,ptr)}function dynCall(sig,ptr,args){if(sig.includes(\"j\")){return dynCallLegacy(sig,ptr,args)}return getWasmTableEntry(ptr).apply(null,args)}function getDynCaller(sig,ptr){var argCache=[];return function(){argCache.length=0;Object.assign(argCache,arguments);return dynCall(sig,ptr,argCache)}}function embind__requireFunction(signature,rawFunction){signature=readLatin1String(signature);function makeDynCaller(){if(signature.includes(\"j\")){return getDynCaller(signature,rawFunction)}return getWasmTableEntry(rawFunction)}var fp=makeDynCaller();if(typeof fp!=\"function\"){throwBindingError(\"unknown function pointer with signature \"+signature+\": \"+rawFunction)}return fp}var UnboundTypeError=undefined;function getTypeName(type){var ptr=___getTypeName(type);var rv=readLatin1String(ptr);_free(ptr);return rv}function throwUnboundTypeError(message,types){var unboundTypes=[];var seen={};function visit(type){if(seen[type]){return}if(registeredTypes[type]){return}if(typeDependencies[type]){typeDependencies[type].forEach(visit);return}unboundTypes.push(type);seen[type]=true}types.forEach(visit);throw new UnboundTypeError(message+\": \"+unboundTypes.map(getTypeName).join([\", \"]))}function __embind_register_function(name,argCount,rawArgTypesAddr,signature,rawInvoker,fn){var argTypes=heap32VectorToArray(argCount,rawArgTypesAddr);name=readLatin1String(name);rawInvoker=embind__requireFunction(signature,rawInvoker);exposePublicSymbol(name,function(){throwUnboundTypeError(\"Cannot call \"+name+\" due to unbound types\",argTypes)},argCount-1);whenDependentTypesAreResolved([],argTypes,function(argTypes){var invokerArgsArray=[argTypes[0],null].concat(argTypes.slice(1));replacePublicSymbol(name,craftInvokerFunction(name,invokerArgsArray,null,rawInvoker,fn),argCount-1);return[]})}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer]}:function readU8FromPointer(pointer){return HEAPU8[pointer]};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1]}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1]};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2]}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2]};default:throw new TypeError(\"Unknown integer type: \"+name)}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295}var shift=getShiftFromSize(size);var fromWireType=value=>value;if(minRange===0){var bitshift=32-8*size;fromWireType=value=>value<<bitshift>>>bitshift}var isUnsignedType=name.includes(\"unsigned\");var checkAssertions=(value,toTypeName)=>{};var toWireType;if(isUnsignedType){toWireType=function(destructors,value){checkAssertions(value,this.name);return value>>>0}}else{toWireType=function(destructors,value){checkAssertions(value,this.name);return value}}registerType(primitiveType,{name:name,\"fromWireType\":fromWireType,\"toWireType\":toWireType,\"argPackAdvance\":8,\"readValueFromPointer\":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null})}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(buffer,data,size)}name=readLatin1String(name);registerType(rawType,{name:name,\"fromWireType\":decodeMemoryView,\"argPackAdvance\":8,\"readValueFromPointer\":decodeMemoryView},{ignoreDuplicateRegistrations:true})}function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name===\"std::string\";registerType(rawType,{name:name,\"fromWireType\":function(value){var length=HEAPU32[value>>2];var str;if(stdStringIsUTF8){var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+1}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[value+4+i])}str=a.join(\"\")}_free(value);return str},\"toWireType\":function(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value)}var getLength;var valueIsOfTypeString=typeof value==\"string\";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError(\"Cannot pass non-string to std::string\")}if(stdStringIsUTF8&&valueIsOfTypeString){getLength=()=>lengthBytesUTF8(value)}else{getLength=()=>value.length}var length=getLength();var ptr=_malloc(4+length+1);HEAPU32[ptr>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr+4,length+1)}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError(\"String has UTF-16 code units that do not fit in 8 bits\")}HEAPU8[ptr+4+i]=charCode}}else{for(var i=0;i<length;++i){HEAPU8[ptr+4+i]=value[i]}}}if(destructors!==null){destructors.push(_free,ptr)}return ptr},\"argPackAdvance\":8,\"readValueFromPointer\":simpleReadValueFromPointer,destructorFunction:function(ptr){_free(ptr)}})}function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=()=>HEAPU16;shift=1}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=()=>HEAPU32;shift=2}registerType(rawType,{name:name,\"fromWireType\":function(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+charSize}}_free(value);return str},\"toWireType\":function(destructors,value){if(!(typeof value==\"string\")){throwBindingError(\"Cannot pass non-string to C++ string type \"+name)}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr)}return ptr},\"argPackAdvance\":8,\"readValueFromPointer\":simpleReadValueFromPointer,destructorFunction:function(ptr){_free(ptr)}})}function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,\"argPackAdvance\":0,\"fromWireType\":function(){return undefined},\"toWireType\":function(destructors,o){return undefined}})}function requireRegisteredType(rawType,humanName){var impl=registeredTypes[rawType];if(undefined===impl){throwBindingError(humanName+\" has unknown type \"+getTypeName(rawType))}return impl}function __emval_as(handle,returnType,destructorsRef){handle=Emval.toValue(handle);returnType=requireRegisteredType(returnType,\"emval::as\");var destructors=[];var rd=Emval.toHandle(destructors);HEAP32[destructorsRef>>2]=rd;return returnType[\"toWireType\"](destructors,handle)}var emval_symbols={};function getStringOrSymbol(address){var symbol=emval_symbols[address];if(symbol===undefined){return readLatin1String(address)}return symbol}var emval_methodCallers=[];function __emval_call_void_method(caller,handle,methodName,args){caller=emval_methodCallers[caller];handle=Emval.toValue(handle);methodName=getStringOrSymbol(methodName);caller(handle,methodName,null,args)}function __emval_addMethodCaller(caller){var id=emval_methodCallers.length;emval_methodCallers.push(caller);return id}function __emval_lookupTypes(argCount,argTypes){var a=new Array(argCount);for(var i=0;i<argCount;++i){a[i]=requireRegisteredType(HEAP32[(argTypes>>2)+i],\"parameter \"+i)}return a}var emval_registeredMethods=[];function __emval_get_method_caller(argCount,argTypes){var types=__emval_lookupTypes(argCount,argTypes);var retType=types[0];var signatureName=retType.name+\"_$\"+types.slice(1).map(function(t){return t.name}).join(\"_\")+\"$\";var returnId=emval_registeredMethods[signatureName];if(returnId!==undefined){return returnId}var params=[\"retType\"];var args=[retType];var argsList=\"\";for(var i=0;i<argCount-1;++i){argsList+=(i!==0?\", \":\"\")+\"arg\"+i;params.push(\"argType\"+i);args.push(types[1+i])}var functionName=makeLegalFunctionName(\"methodCaller_\"+signatureName);var functionBody=\"return function \"+functionName+\"(handle, name, destructors, args) {\\n\";var offset=0;for(var i=0;i<argCount-1;++i){functionBody+=\"    var arg\"+i+\" = argType\"+i+\".readValueFromPointer(args\"+(offset?\"+\"+offset:\"\")+\");\\n\";offset+=types[i+1][\"argPackAdvance\"]}functionBody+=\"    var rv = handle[name](\"+argsList+\");\\n\";for(var i=0;i<argCount-1;++i){if(types[i+1][\"deleteObject\"]){functionBody+=\"    argType\"+i+\".deleteObject(arg\"+i+\");\\n\"}}if(!retType.isVoid){functionBody+=\"    return retType.toWireType(destructors, rv);\\n\"}functionBody+=\"};\\n\";params.push(functionBody);var invokerFunction=new_(Function,params).apply(null,args);returnId=__emval_addMethodCaller(invokerFunction);emval_registeredMethods[signatureName]=returnId;return returnId}function __emval_get_property(handle,key){handle=Emval.toValue(handle);key=Emval.toValue(key);return Emval.toHandle(handle[key])}function __emval_incref(handle){if(handle>4){emval_handle_array[handle].refcount+=1}}function __emval_new_cstring(v){return Emval.toHandle(getStringOrSymbol(v))}function __emval_run_destructors(handle){var destructors=Emval.toValue(handle);runDestructors(destructors);__emval_decref(handle)}function __emval_take_value(type,argv){type=requireRegisteredType(type,\"_emval_take_value\");var v=type[\"readValueFromPointer\"](argv);return Emval.toHandle(v)}function _abort(){abort(\"\")}function _emscripten_memcpy_big(dest,src,num){HEAPU8.copyWithin(dest,src,src+num)}function getHeapMax(){return 2147483648}function emscripten_realloc_buffer(size){try{wasmMemory.grow(size-buffer.byteLength+65535>>>16);updateGlobalBufferAndViews(wasmMemory.buffer);return 1}catch(e){}}function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;requestedSize=requestedSize>>>0;var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){return false}let alignUp=(x,multiple)=>x+(multiple-x%multiple)%multiple;for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=emscripten_realloc_buffer(newSize);if(replacement){return true}}return false}embind_init_charCodes();BindingError=Module[\"BindingError\"]=extendError(Error,\"BindingError\");InternalError=Module[\"InternalError\"]=extendError(Error,\"InternalError\");init_emval();UnboundTypeError=Module[\"UnboundTypeError\"]=extendError(Error,\"UnboundTypeError\");var asmLibraryArg={\"e\":___cxa_allocate_exception,\"d\":___cxa_throw,\"o\":__embind_register_bigint,\"u\":__embind_register_bool,\"t\":__embind_register_emval,\"g\":__embind_register_float,\"h\":__embind_register_function,\"b\":__embind_register_integer,\"a\":__embind_register_memory_view,\"f\":__embind_register_std_string,\"c\":__embind_register_std_wstring,\"v\":__embind_register_void,\"j\":__emval_as,\"n\":__emval_call_void_method,\"s\":__emval_decref,\"m\":__emval_get_method_caller,\"k\":__emval_get_property,\"l\":__emval_incref,\"x\":__emval_new_cstring,\"w\":__emval_run_destructors,\"i\":__emval_take_value,\"p\":_abort,\"r\":_emscripten_memcpy_big,\"q\":_emscripten_resize_heap};var asm=createWasm();var ___wasm_call_ctors=Module[\"___wasm_call_ctors\"]=function(){return(___wasm_call_ctors=Module[\"___wasm_call_ctors\"]=Module[\"asm\"][\"z\"]).apply(null,arguments)};var _main=Module[\"_main\"]=function(){return(_main=Module[\"_main\"]=Module[\"asm\"][\"B\"]).apply(null,arguments)};var ___getTypeName=Module[\"___getTypeName\"]=function(){return(___getTypeName=Module[\"___getTypeName\"]=Module[\"asm\"][\"C\"]).apply(null,arguments)};var ___embind_register_native_and_builtin_types=Module[\"___embind_register_native_and_builtin_types\"]=function(){return(___embind_register_native_and_builtin_types=Module[\"___embind_register_native_and_builtin_types\"]=Module[\"asm\"][\"D\"]).apply(null,arguments)};var _malloc=Module[\"_malloc\"]=function(){return(_malloc=Module[\"_malloc\"]=Module[\"asm\"][\"E\"]).apply(null,arguments)};var _free=Module[\"_free\"]=function(){return(_free=Module[\"_free\"]=Module[\"asm\"][\"F\"]).apply(null,arguments)};var stackAlloc=Module[\"stackAlloc\"]=function(){return(stackAlloc=Module[\"stackAlloc\"]=Module[\"asm\"][\"G\"]).apply(null,arguments)};var ___cxa_is_pointer_type=Module[\"___cxa_is_pointer_type\"]=function(){return(___cxa_is_pointer_type=Module[\"___cxa_is_pointer_type\"]=Module[\"asm\"][\"H\"]).apply(null,arguments)};var calledRun;function ExitStatus(status){this.name=\"ExitStatus\";this.message=\"Program terminated with exit(\"+status+\")\";this.status=status}var calledMain=false;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function callMain(args){var entryFunction=Module[\"_main\"];args=args||[];args.unshift(thisProgram);var argc=args.length;var argv=stackAlloc((argc+1)*4);var argv_ptr=argv>>2;args.forEach(arg=>{HEAP32[argv_ptr++]=allocateUTF8OnStack(arg)});HEAP32[argv_ptr]=0;try{var ret=entryFunction(argc,argv);exit(ret,true);return ret}catch(e){return handleException(e)}finally{calledMain=true}}function run(args){args=args||arguments_;if(runDependencies>0){return}preRun();if(runDependencies>0){return}function doRun(){if(calledRun)return;calledRun=true;Module[\"calledRun\"]=true;if(ABORT)return;initRuntime();preMain();readyPromiseResolve(Module);if(Module[\"onRuntimeInitialized\"])Module[\"onRuntimeInitialized\"]();if(shouldRunNow)callMain(args);postRun()}if(Module[\"setStatus\"]){Module[\"setStatus\"](\"Running...\");setTimeout(function(){setTimeout(function(){Module[\"setStatus\"](\"\")},1);doRun()},1)}else{doRun()}}Module[\"run\"]=run;function exit(status,implicit){EXITSTATUS=status;procExit(status)}function procExit(code){EXITSTATUS=code;if(!keepRuntimeAlive()){if(Module[\"onExit\"])Module[\"onExit\"](code);ABORT=true}quit_(code,new ExitStatus(code))}if(Module[\"preInit\"]){if(typeof Module[\"preInit\"]==\"function\")Module[\"preInit\"]=[Module[\"preInit\"]];while(Module[\"preInit\"].length>0){Module[\"preInit\"].pop()()}}var shouldRunNow=true;if(Module[\"noInitialRun\"])shouldRunNow=false;run();\r\n\r\n\r\n  return converter.ready\r\n}\r\n);\r\n})();\r\nif (typeof exports === 'object' && typeof module === 'object')\r\n  module.exports = converter;\r\nelse if (typeof define === 'function' && define['amd'])\r\n  define([], function() { return converter; });\r\nelse if (typeof exports === 'object')\r\n  exports[\"converter\"] = converter;\r\n\n/*** EXPORTS FROM exports-loader ***/\nexport {\n  converter\n};\n","export default __webpack_public_path__ + \"/img/folder.png\";","export default __webpack_public_path__ + \"/img/palette.png\";","export default __webpack_public_path__ + \"/img/palette2.png\";","export default __webpack_public_path__ + \"/img/pattern.png\";","export default __webpack_public_path__ + \"/wasm/converter.wasm\";","// extracted by mini-css-extract-plugin\nexport {};","const bayer4x4 = [\r\n    [0, 8, 2, 10],\r\n    [12, 4, 14, 6],\r\n    [3, 11, 1, 9],\r\n    [15, 7, 13, 5]\r\n];\r\n\r\nconst bayer8x8 = [\r\n    [0, 48, 12, 60, 3, 51, 15, 63],\r\n    [32, 16, 44, 28, 35, 19, 47, 31],\r\n    [8, 56, 4, 52, 11, 59, 7, 55],\r\n    [40, 24, 36, 20, 43, 27, 39, 23],\r\n    [2, 50, 14, 62, 1, 49, 13, 61],\r\n    [34, 18, 46, 30, 33, 17, 45, 29],\r\n    [10, 58, 6, 54, 9, 57, 5, 53],\r\n    [42, 26, 38, 22, 41, 25, 37, 21]\r\n];\r\n\r\nconst bayer16x16 = [\r\n    [0, 128, 32, 160, 8, 136, 40, 168, 2, 130, 34, 162, 10, 138, 42, 170],\r\n    [192, 64, 224, 96, 200, 72, 232, 104, 194, 66, 226, 98, 202, 74, 234, 106],\r\n    [48, 176, 16, 144, 56, 184, 24, 152, 50, 178, 18, 146, 58, 186, 26, 154],\r\n    [240, 112, 208, 80, 248, 120, 216, 88, 242, 114, 210, 82, 250, 122, 218, 90],\r\n    [12, 140, 44, 172, 4, 132, 36, 164, 14, 142, 46, 174, 6, 134, 38, 166],\r\n    [204, 76, 236, 108, 196, 68, 228, 100, 206, 78, 238, 110, 198, 70, 230, 102],\r\n    [60, 188, 28, 156, 52, 180, 20, 148, 62, 190, 30, 158, 54, 182, 22, 150],\r\n    [252, 124, 220, 92, 244, 116, 212, 84, 254, 126, 222, 94, 246, 118, 214, 86],\r\n    [3, 131, 35, 163, 11, 139, 43, 171, 1, 129, 33, 161, 9, 137, 41, 169],\r\n    [195, 67, 227, 99, 203, 75, 235, 107, 193, 65, 225, 97, 201, 73, 233, 105],\r\n    [51, 179, 19, 147, 59, 187, 27, 155, 49, 177, 17, 145, 57, 185, 25, 153],\r\n    [243, 115, 211, 83, 251, 123, 219, 91, 241, 113, 209, 81, 249, 121, 217, 89],\r\n    [15, 143, 47, 175, 7, 135, 39, 167, 13, 141, 45, 173, 5, 133, 37, 165],\r\n    [207, 79, 239, 111, 199, 71, 231, 103, 205, 77, 237, 109, 197, 69, 229, 101],\r\n    [63, 191, 31, 159, 55, 183, 23, 151, 61, 189, 29, 157, 53, 181, 21, 149],\r\n    [255, 127, 223, 95, 247, 119, 215, 87, 253, 125, 221, 93, 245, 117, 213, 85]\r\n];\r\n\r\nconst custom4x4 = [\r\n    [0, 0, 0, 1],\r\n    [0, 5, 4, 2],\r\n    [0, 0, 0, 3],\r\n    [0, 0, 0, 0],\r\n];\r\n\r\nconst custom8x8 = [\r\n    [0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 13, 0, 0, 0, 8],\r\n    [0, 15, 14, 12, 0, 10, 9, 7],\r\n    [0, 0, 0, 11, 23, 0, 0, 6],\r\n    [0, 0, 25, 24, 22, 0, 0, 0],\r\n    [0, 0, 0, 3, 21, 0, 0, 18],\r\n    [0, 5, 4, 2, 0, 20, 19, 17],\r\n    [0, 0, 0, 1, 0, 0, 0, 16]\r\n]; // yes, penises\r\n\r\nconst custom7x7 = [\r\n    [1, 3, 37, 9, 11, 45, 43],\r\n    [4, 2, 47, 12, 10, 26, 28],\r\n    [30, 44, 17, 47, 36, 29, 27],\r\n    [13, 15, 46, 5, 7, 38, 40],\r\n    [16, 14, 42, 8, 6, 41, 39],\r\n    [48, 22, 24, 31, 33, 18, 20],\r\n    [35, 25, 23, 34, 32, 21, 19]\r\n];\r\n\r\nmodule.exports = {\r\n    4: bayer4x4,\r\n    8: bayer8x8,\r\n    16: bayer16x16,\r\n    c4: custom4x4,\r\n    c8: custom8x8,\r\n    c7: custom7x7\r\n}","import { converter } from \"../../../lib/converter/bin/converter\"\r\nimport wasmConverter from \"../../../lib/converter/bin/converter.wasm\"\r\n\r\n// Since webpack will change the name and potentially the path of the\r\n// `.wasm` file, we have to provide a `locateFile()` hook to redirect\r\n// to the appropriate URL.\r\n// More details: https://kripken.github.io/emscripten-site/docs/api_reference/module.html\r\nconst wasm = converter({\r\n  locateFile(path) {\r\n    if (path.endsWith(`.wasm`)) {\r\n      return wasmConverter\r\n    }\r\n    return path\r\n  },\r\n})\r\n\r\nexport default wasm","export function watchInput(inputElement, callback) {\r\n    inputElement.addEventListener('input', (event) => {\r\n        callback(event.target.value);\r\n    });  \r\n    \r\n    return new Proxy(inputElement, {\r\n        set(target, property, value) {\r\n            if (property === 'value') {\r\n                const oldValue = target.value;\r\n                target[property] = value;\r\n                if (oldValue !== value) {\r\n                    callback(value);\r\n                }\r\n                return true;\r\n            }\r\n            target[property] = value;\r\n            return true;\r\n        },\r\n        get(target, property) {\r\n            if (property === 'value') {\r\n                return target.value;\r\n            }\r\n            return target[property];\r\n        }\r\n    });\r\n}\r\n\r\nexport function linkNumberRangeInputs(numberInp, rangeInp) {\r\n    numberInp.addEventListener('input', e => rangeInp.value = e.target.value);\r\n    rangeInp.addEventListener('input', e => numberInp.value = e.target.value);\r\n}\r\n","export async function upload(image){\r\n    const formData = new FormData();\r\n    formData.append('image', image);\r\n    formData.append('type', 'base64');\r\n\r\n    const resp = await fetch('https://api.imgur.com/3/image', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Authorization': 'Client-ID 134a48816a3c4d6'\r\n        },\r\n        body: formData,\r\n        redirect: 'follow'\r\n    })\r\n    const json = await resp.json();\r\n    if(!json.success) throw new Error('Imgur upload eror');\r\n\r\n    return json.data.link;\r\n}\r\n\r\nwindow.imgurUpload = upload;","//    pxlsfiddle\r\n// \r\nconst imgZoom = {\r\n    dlg: null,\r\n    canvas: null,\r\n    scaleLabel: null,\r\n    customLabel: null,\r\n  \r\n    scales: [2, 3, 4, 5, 6, 7, 8, 10, 12, 14, 17, 20, 24, 28, 32], // empirically determined; originally 17 was 16, but a simple polynomial of n=3 fit showed that value was an outlier. So is 8, but by half, and scaling non-integer? no thanks.\r\n    scaleIndex: 2, // scale = 4\r\n  \r\n    src: null,\r\n  \r\n    // get the mouse position relative to an image based on its original size\r\n    getImgMousePos(element, e) {\r\n      const rect = element.getBoundingClientRect();\r\n      const style = getComputedStyle(element);\r\n      const paddingRect = {\r\n        left: parseInt(style.paddingLeft, 10),\r\n        right: parseInt(style.paddingRight, 10),\r\n        top: parseInt(style.paddingTop, 10),\r\n        bottom: parseInt(style.paddingBottom, 10)\r\n      };\r\n  \r\n      return {\r\n        x: (e.clientX - rect.left - paddingRect.left) / (rect.width - (paddingRect.left + paddingRect.right)) * element.naturalWidth,\r\n        y: (e.clientY - rect.top - paddingRect.top) / (rect.height - (paddingRect.top + paddingRect.bottom)) * element.naturalHeight\r\n      };\r\n    },\r\n  \r\n    // sets up event handlers for a given image element to pop up the zoom window\r\n    createZoomHandler(el, cb) {\r\n      el.onmouseenter = function () {\r\n        imgZoom.src = el;\r\n        const scale = imgZoom.scales[imgZoom.scaleIndex];\r\n        imgZoom.scaleLabel.textContent = `${el.width}x${el.height}px; pixel zoom x${scale}`;\r\n        imgZoom.canvas.width = el.naturalWidth;\r\n        imgZoom.canvas.height = el.naturalHeight;\r\n        imgZoom.canvas.getContext(\"2d\").drawImage(el, 0, 0);\r\n        imgZoom.dlg.style.display = \"block\";\r\n      };\r\n      el.onmouseleave = function () {\r\n        imgZoom.src = null;\r\n        imgZoom.customLabel.style.display = \"none\";\r\n        imgZoom.dlg.style.display = \"none\";\r\n      };\r\n      el.onmousemove = function (e) {\r\n        const scale = imgZoom.scales[imgZoom.scaleIndex];\r\n  \r\n        const mousePos = imgZoom.getImgMousePos(el, e);\r\n        imgZoom.canvas.style.transform = `scale(${scale})`;\r\n        imgZoom.canvas.style.left = `${imgZoom.dlg.offsetWidth / 2 - mousePos.x * scale - scale / 2}px`;\r\n        imgZoom.canvas.style.top = `${imgZoom.dlg.offsetHeight / 2 - mousePos.y * scale - scale / 2}px`;\r\n  \r\n        if (typeof cb !== \"undefined\") {\r\n          cb(el, mousePos, scale);\r\n  \r\n          return true;\r\n        }\r\n  \r\n        return true;\r\n      };\r\n      el.onwheel = function (e) {\r\n        if (e.altKey) {\r\n          if (e.deltaY < 0) {\r\n            imgZoom.scaleIndex = Math.min(imgZoom.scaleIndex + 1, imgZoom.scales.length - 1);\r\n          } else if (e.deltaY > 0) {\r\n            imgZoom.scaleIndex = Math.max(imgZoom.scaleIndex - 1, 0);\r\n          }\r\n          if (e.deltaY !== 0) {\r\n            const scale = imgZoom.scales[imgZoom.scaleIndex];\r\n            imgZoom.scaleLabel.textContent = `pixel zoom x${scale}`;\r\n            el.onmousemove(e);\r\n          }\r\n          e.preventDefault();\r\n        }\r\n      };\r\n      el.onclick = () => {\r\n        if (!$(el).hasClass('zoomed')) {\r\n          $(el).addClass('zoomed');\r\n          $(el).css('width', '');\r\n        } else {\r\n          $(el).removeClass('zoomed');\r\n          $(el).css('width', Math.min(parseInt($(el).parent().css('width')) / 2, $(el)[0].width));\r\n          console.log($(el).parent().css('width'), $(el).parent(), 2)\r\n        }\r\n      }\r\n    },\r\n    refresh() {\r\n      // imgZoom.canvas.width = imgZoom.src.width;\r\n      // imgZoom.canvas.height = imgZoom.src.height;\r\n      if (typeof imgZoom.src.naturalWidth !== \"undefined\") {\r\n        imgZoom.canvas.width = imgZoom.src.naturalWidth;\r\n        imgZoom.canvas.height = imgZoom.src.naturalHeight;\r\n      } else {\r\n        imgZoom.canvas.width = imgZoom.src.width;\r\n        imgZoom.canvas.height = imgZoom.src.height;\r\n      }\r\n      imgZoom.canvas.getContext(\"2d\").drawImage(imgZoom.src, 0, 0);\r\n    },\r\n    init() {\r\n      const tmp = document.createElement(\"template\");\r\n      tmp.innerHTML = `<div id=\"_imgZoom\" style=\"z-index:1555; background-color:rgba(0,0,0,0); position:fixed; top:0; right:0; border-width:0 0 2px 2px; border-style:solid; border-color:#000; border-radius:0 0 0 5px; padding:0 2px; text-align:right; pointer-events:none; display:none; width:50vw; height:50vh; overflow:hidden;\"><canvas id=\"_imgZoomCanvas\" style=\"position:absolute; image-rendering:-moz-crisp-edges; image-rendering:pixelated; transform-origin:0 0; transform:scale(4);\"></canvas><strong id=\"_imgZoomLevel\" style=\"background-color:#404040; border-radius:5px 0 0 0; padding:2px; position:absolute; bottom:0; right:0;\">pixel zoom x4</strong><strong id=\"_imgZoomLabel\" style=\"background-color:#404040; border-radius:0 5px 0 0; padding:2px; position:absolute; bottom:0; left:0; max-width:300px\"></strong><div id=\"_imgZoomCrosshair\" style=\"opacity:0.25;\"><div style=\"background-color:#000; width:2px; height:20px; position:absolute; top:calc(50% - 10px); left:calc(50% - 1px);\"></div><div style=\"background-color:#000; height:2px; width:20px; position:absolute; top:calc(50% - 1px); left:calc(50% - 10px);\"></div></div></div>`;\r\n      this.dlg = tmp.content.firstChild;\r\n      document.body.appendChild(this.dlg);\r\n      this.canvas = document.getElementById(\"_imgZoomCanvas\");\r\n      this.scaleLabel = document.getElementById(\"_imgZoomLevel\");\r\n      this.customLabel = document.getElementById(\"_imgZoomLabel\");\r\n  \r\n      // zoom handlers for pixel images\r\n      const pixelImages = document.querySelectorAll(\".zoom\");\r\n      for (const imgElement of pixelImages) {\r\n        this.createZoomHandler(imgElement);\r\n      }\r\n  \r\n      // zoom handlers for future pixel images\r\n      function cb(mutations) {\r\n        for (const mut of mutations) {\r\n          for (const addedNode of mut.addedNodes) {\r\n            if (addedNode.querySelectorAll) {\r\n              const zoomElements = addedNode.querySelectorAll(\"img.zoom\");\r\n              for (const el of zoomElements) {\r\n                imgZoom.createZoomHandler(el);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      };\r\n      const observer = new MutationObserver(cb);\r\n      observer.observe(document.body, {\r\n        childList: true,\r\n        subtree: true\r\n      });\r\n    }\r\n  };\r\n  imgZoom.init();\r\n\r\n  module.exports = imgZoom","import '../../css/converters.css';\r\n\r\nimport '../../img/folder.png';\r\nimport '../../img/pattern.png';\r\nimport '../../img/palette.png';\r\nimport '../../img/palette2.png';\r\nimport palettes, { loadGamePalettes } from './palettes';\r\n\r\nimport './setImmediate';\r\n\r\nconst clrManip = require('./color');\r\nconst bayer = require('./bayerMatrices');\r\nconst importedPatterns = require('./patterns');\r\n\r\nimport converterWProm from './converterWASM';\r\n(async () => {\r\n    const module = await converterWProm\r\n    window.convModule = module;\r\n    window.clrManip = clrManip;\r\n})()\r\n\r\nimport imgZoom from './imgzoom';\r\nimport openImage from './openImage';\r\n\r\nimport { upload } from './imgur';\r\n\r\nimport { init as initTranslates, translate as t } from '../translate'\r\nimport { processApiErrors } from '../utils/api';\r\nimport { isImagePixelArt, resizeCanvas } from './resize';\r\nimport { linkNumberRangeInputs, watchInput } from './dom';\r\nimport { sleep } from '../utils/misc';\r\ninitTranslates();\r\n\r\nlet resizeKeepAspectRatio = true;\r\n\r\n//   \r\n$('input[type=number]').on('change', (e) => {\r\n    let input = e.target;\r\n\r\n    if (input.max) {\r\n        input.value = Math.min(input.value, input.max);\r\n    }\r\n\r\n    if (input.min) {\r\n        input.value = Math.max(input.value, input.min);\r\n    }\r\n});\r\n\r\nlet utils = {\r\n    // ,   \r\n    isURLValid(url) {\r\n        if (!url || !url.length) return false;\r\n\r\n        try {\r\n            new URL(url);\r\n        } catch {\r\n            return false;\r\n        }\r\n\r\n        return true\r\n    },\r\n    isURLImage(url) {\r\n        return new RegExp('\\.(png|jpg|gif)$').test(url);\r\n    }\r\n}\r\n\r\nconst paletteSel = $('#paletteSel');\r\nfunction applyPalettes(selected = 'pixelplanet') {\r\n    Object.keys(palettes).forEach(key => {\r\n        const newEl = $(`<option id=\"p_${key}\">${key}</option>`);\r\n        newEl.val(key);\r\n\r\n        if (key === selected)\r\n            newEl.attr('selected', '');\r\n\r\n        paletteSel.prepend(newEl);\r\n    });\r\n    paletteSel.append('<option value=\"_custom\">custom</option>');\r\n}\r\n\r\npaletteSel.on('change', () => {\r\n    const val = paletteSel.val();\r\n\r\n    if (val === \"_custom\") {\r\n        $('#userPalette').show();\r\n    } else {\r\n        $('#userPalette').hide();\r\n\r\n        const pal = palettes[val];\r\n\r\n        palUtils.setPalette(pal);\r\n        palUtils.updatePalette();\r\n\r\n        visualizePalette();\r\n\r\n        converterPreload(false);\r\n    }\r\n\r\n    palUtils.usedColors = [];\r\n    patUtils.usedColors = [];\r\n});\r\n\r\n$('#userPalette').attr('placeholder',\r\n    '[[r, g, b],[r, g, b], ...] | [\"#hex\", \"#hex\", ...] | [[r, g, b], [\"#hex\"], ...]');\r\n$('#userPalette').on('input', () => {\r\n    tryParseUserPalette();\r\n    visualizePalette();\r\n});\r\n\r\nfunction visualizePalette() {\r\n    const pal = paletteRGB;\r\n\r\n    $('#palette').children().remove();\r\n\r\n    pal.forEach(col => {\r\n        const el = $(`<div class=\"paletteCol\" style=\"background-color:rgb(${col.join(',')})\"></div>`);\r\n        $('#palette').append(el);\r\n    });\r\n}\r\n\r\n\r\nfunction tryParseUserPalette() {\r\n    try {\r\n        let tempPal = JSON.parse($('#userPalette').val())\r\n\r\n        if (tempPal.length === 0)\r\n            throw new Error('Null palette length')\r\n\r\n        tempPal = tempPal.map(el => {\r\n            if (typeof el === 'string') { // hex\r\n                if (el.startsWith('#')) el = el.slice(1);\r\n\r\n                return clrManip.hex2rgb(el);\r\n            } else if (typeof el === 'object' && el.length === 3) { // rgb array\r\n                return el\r\n            }\r\n\r\n            throw new Error('Unknown color type')\r\n        })\r\n\r\n        palUtils.setPalette(tempPal);\r\n        palUtils.updatePalette();\r\n\r\n        converterPreload(false);\r\n    } catch (e) {\r\n        $('#userPalette').css('background-color', 'rgb(249,141,141)');\r\n        return\r\n    }\r\n    $('#userPalette').css('background-color', '')\r\n}\r\n\r\nlet paletteRGB = palettes['game.main'],\r\n    paletteLAB,\r\n    paletteOKLab,\r\n    palette32;\r\n\r\nlet palUtils = {\r\n    link: null,\r\n    converterInterval: null,\r\n    usedColors: [],\r\n    rgb2lab: clrManip.rgb2lab,\r\n    rgb2uint32: clrManip.rgb2uint32,\r\n    setPalette(palette) {\r\n        paletteRGB = palette\r\n    },\r\n    updatePalette() {\r\n        paletteLAB = paletteRGB.map(this.rgb2lab);\r\n        paletteOKLab = paletteRGB.map(clrManip.rgb2okLAB);\r\n        palette32 = paletteRGB.map(this.rgb2uint32);\r\n\r\n\r\n        this.ditherPalette();\r\n    },\r\n    ditherPalette() {\r\n        if($('#ditheringMode').val() !== 'check') return;\r\n\r\n        // ..   !\r\n        this.colorValuesExRGB = [];\r\n        this.colorValuesExLab = [];\r\n        this.colorValuesExOkLab = [];\r\n\r\n        const isOklab = $('#colorfunc').val() === 'oklab';\r\n        const clrDiffFn = isOklab ? clrManip.mOklabDiff : clrManip.mciede2000;\r\n        const paletteWithL = isOklab ? paletteOKLab : paletteLAB;\r\n        // lab max diff is 120\r\n        // oklab max diff is ~1.509 \r\n        // but realistic max between oklab black/white is ~1.0\r\n        const thresMulti = isOklab ? 0.01 : 1.2\r\n\r\n        const threshold = +$('#palThresold').val() * thresMulti; // UI is presented as a range of 0..100, but ciede2000 maxes out at ~120.\r\n        paletteRGB.forEach((col1, col1idx) => {\r\n            paletteRGB.forEach((col2, col2idx) => {\r\n                if (col2idx >= col1idx) {\r\n                    if (clrDiffFn(col1, col2) <= threshold) {\r\n                        const mix = clrManip.mixColors(col1, col2);\r\n                        const col1lab = paletteWithL[col1idx];\r\n                        const col2lab = paletteWithL[col2idx];\r\n                        if (col1lab[0] >= col2lab[0]) { // put lighter colors first regardless of combo\r\n                            this.colorValuesExRGB.push([mix[0], mix[1], mix[2], col1idx, col2idx]);\r\n                        } else {\r\n                            this.colorValuesExRGB.push([mix[0], mix[1], mix[2], col2idx, col1idx]);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        this.colorValuesExRGB.forEach((val, idx) => {\r\n            if(isOklab){\r\n                this.colorValuesExOkLab[idx] = clrManip.rgb2okLAB(val.map(x => x | 0));\r\n                \r\n                this.colorValuesExOkLab[idx][3] = val[3];\r\n                this.colorValuesExOkLab[idx][4] = val[4];\r\n\r\n            }else{\r\n                this.colorValuesExLab[idx] = clrManip.rgb2lab(val);\r\n                this.colorValuesExLab[idx][3] = val[3];\r\n                this.colorValuesExLab[idx][4] = val[4];\r\n            }\r\n        });\r\n        console.log(this.colorValuesExRGB.length);\r\n    },\r\n    ditherTypes: {\r\n        //      X   7\r\n        //  3   5   1\r\n        floydSteinberg: [\r\n            [7 / 16, 1, 0],\r\n            [3 / 16, -1, 1],\r\n            [5 / 16, 0, 1],\r\n            [1 / 16, 1, 1]\r\n        ],\r\n        //          X   8   4 \r\n        //  2   4   8   4   2\r\n        //  1   2   4   2   1\r\n        stuki: [\r\n            [8 / 42, 1, 0],\r\n            [4 / 42, 2, 0],\r\n            [2 / 42, -2, 1],\r\n            [4 / 42, -1, 1],\r\n            [8 / 42, 0, 1],\r\n            [4 / 42, 1, 1],\r\n            [2 / 42, 2, 1],\r\n            [1 / 42, -2, 2],\r\n            [2 / 42, -1, 2],\r\n            [4 / 42, 0, 2],\r\n            [2 / 42, 1, 2],\r\n            [1 / 42, 2, 2],\r\n        ],\r\n        //          X   4   3\r\n        //  1   2   3   2   1\r\n        sierraTwo: [\r\n            [4 / 16, 1, 0],\r\n            [3 / 16, 2, 0],\r\n            [1 / 16, -2, 1],\r\n            [2 / 16, -1, 1],\r\n            [3 / 16, 0, 1],\r\n            [2 / 16, 1, 1],\r\n            [1 / 16, 2, 1],\r\n        ],\r\n    },\r\n    /**\r\n     * \r\n     * @param {ImageData} imageData \r\n     * @param {String} dithering \r\n     */\r\n    * errorDithering(imageData, dithering) {\r\n        const width = imageData.width;\r\n        const height = imageData.height;\r\n\r\n        const serp = $('#serp')[0].checked;\r\n        let imgData = imageData.data;\r\n\r\n        let deFunction;\r\n        let palette = paletteRGB;\r\n\r\n        const buf32 = new Uint32Array(imgData.buffer);\r\n\r\n        switch ($('#colorfunc').val()) {\r\n            case 'lwrgbde':\r\n                deFunction = clrManip.lwrgbde;\r\n                break\r\n            case 'ciede1994':\r\n                deFunction = clrManip.mciede1994mix;\r\n                palette = paletteLAB;\r\n                break\r\n            case 'ciede2000':\r\n                deFunction = clrManip.mciede2000mix;\r\n                palette = paletteLAB;\r\n                break\r\n            case 'cmcic':\r\n                deFunction = clrManip.cmcicMix;\r\n                palette = paletteLAB;\r\n                break\r\n            case 'eucl':\r\n                deFunction = clrManip.euclidian;\r\n                break\r\n            case 'oklab':\r\n                deFunction = clrManip.mOklabDiffMix;\r\n                palette = paletteOKLab;\r\n                break\r\n        }\r\n\r\n        let cntr = 0;\r\n        let dir = 1;\r\n\r\n        for (let y = 0; y < height; y++) {\r\n            for (let x = (dir > 0 ? 0 : width - 1), max = (dir > 0 ? width : 0); x !== max; x += dir) {\r\n                const i = x + y * width;\r\n\r\n                const col32 = buf32[i];\r\n\r\n                if (col32 >> 24 !== 0) {\r\n                    const color = clrManip.uint32toRGB(col32);\r\n                    const rgb = col32 & 0xffffff;\r\n                    // console.log(col32, color, buf32)\r\n\r\n                    let matchIndex = -1;\r\n                    const usedIndex = this.usedColors[rgb];\r\n                    if (usedIndex !== undefined) {\r\n                        matchIndex = usedIndex;\r\n                    } else {\r\n                        matchIndex = clrManip.mapcolor(color, palette, deFunction);\r\n                        this.usedColors[rgb] = matchIndex;\r\n                    }\r\n                    const matchingColor32 = palette32[matchIndex],\r\n                        matchingColor = paletteRGB[matchIndex];\r\n\r\n                    buf32[i] = matchingColor32;\r\n\r\n                    if (dithering) {\r\n                        const distR = color[0] - matchingColor[0],\r\n                            distG = color[1] - matchingColor[1],\r\n                            distB = color[2] - matchingColor[2];\r\n\r\n                        for (let j = (~dir ? 0 : dithering.length - 1), end = (~dir ? dithering.length : 0); j != end; j += dir) {\r\n                            const p = dithering[j];\r\n\r\n                            const [mult, X, Y] = [p[0], x + p[1] * dir, y + p[2]];\r\n                            if (X < 0 || X >= width || Y < 0 || Y >= height)\r\n                                continue;\r\n\r\n                            const i = X + Y * width;\r\n                            let rgb = clrManip.uint32toRGB(buf32[i]);\r\n\r\n                            const I = i * 4;\r\n\r\n                            imgData[I] = Math.max(0, Math.min(255, rgb[0] + distR * mult));\r\n                            imgData[I + 1] = Math.max(0, Math.min(255, rgb[1] + distG * mult));\r\n                            imgData[I + 2] = Math.max(0, Math.min(255, rgb[2] + distB * mult));\r\n                        }\r\n                    }\r\n                } else {\r\n                    buf32[i] = 0;\r\n                }\r\n\r\n                if (cntr++ % 2000 === 0) {\r\n                    yield cntr / buf32.length;\r\n                }\r\n            }\r\n\r\n\r\n            if (serp)\r\n                dir *= -1;\r\n        }\r\n\r\n        return imageData;\r\n    },\r\n    * checkboardDithering(imageData) { //   ,   \r\n        const width = imageData.width;\r\n        let imgData = imageData.data;\r\n\r\n        let deFunction;\r\n        let palette = this.colorValuesExRGB;\r\n        switch ($('#colorfunc').val()) {\r\n            case 'lwrgbde':\r\n                deFunction = clrManip.lwrgbde;\r\n                break\r\n            case 'ciede2000':\r\n                deFunction = clrManip.mciede2000mix;\r\n                palette = this.colorValuesExLab;\r\n                break\r\n            case 'cmcic':\r\n                deFunction = clrManip.cmcicMix;\r\n                palette = this.colorValuesExLab;\r\n                break\r\n            case 'eucl':\r\n                deFunction = clrManip.euclidian;\r\n                break\r\n            case 'oklab':\r\n                deFunction = clrManip.mOklabDiffMix;\r\n                palette = this.colorValuesExOkLab;\r\n                break\r\n        }\r\n\r\n        const rowSize = width * 4;\r\n        //    \r\n        //    ,   \r\n        let cntr = 0;\r\n        for (let i = imgData.length - 1; i >= 0; i -= 4) {\r\n            if (imgData[i] > 127) {\r\n                let color = [imgData[i - 3], imgData[i - 2], imgData[i - 1]];\r\n                const colorEnc = (color[0] << 16) + (color[1] << 8) + color[2];\r\n                let matchIndex = -1;\r\n                const usedIndex = this.usedColors[colorEnc];\r\n                if (usedIndex !== undefined) {\r\n                    matchIndex = usedIndex;\r\n                } else {\r\n                    matchIndex = clrManip.mapcolor(color, palette, deFunction);\r\n                    this.usedColors[colorEnc] = matchIndex;\r\n                }\r\n                const matchingColor1 = this.colorValuesExRGB[matchIndex][3];\r\n                const matchingColor2 = this.colorValuesExRGB[matchIndex][4];\r\n\r\n                // x + y % 2\r\n                if (((i - 3) % rowSize / 4 + Math.floor(i / rowSize)) % 2 === 0) {\r\n                    matchIndex = matchingColor1;\r\n                } else {\r\n                    matchIndex = matchingColor2;\r\n                }\r\n\r\n                const matchingColor = paletteRGB[matchIndex];\r\n\r\n                imgData[i] = 255;\r\n                imgData[i - 3] = matchingColor[0];\r\n                imgData[i - 2] = matchingColor[1];\r\n                imgData[i - 1] = matchingColor[2];\r\n            } else {\r\n                imgData[i - 3] = 0;\r\n                imgData[i - 2] = 0;\r\n                imgData[i - 1] = 0;\r\n                imgData[i] = 0;\r\n            }\r\n\r\n            if (cntr++ % 2000 === 0) {\r\n                yield cntr / (imgData.length / 4);\r\n            }\r\n        }\r\n        return imageData;\r\n    },\r\n    * orderedDithering(imageData, matrixSize, custom = false, mode = 1) {\r\n        const M = bayer[custom ? ('c' + matrixSize) : matrixSize];\r\n\r\n        // matrix maximum value\r\n        const max = M.length ** 2;\r\n\r\n        const width = imageData.width;\r\n        let imgData = imageData.data;\r\n\r\n        let deFunction;\r\n        let palette = paletteRGB;\r\n        switch ($('#colorfunc').val()) {\r\n            case 'lwrgbde':\r\n                deFunction = clrManip.lwrgbde;\r\n                break\r\n            case 'ciede2000':\r\n                deFunction = clrManip.mciede2000mix;\r\n                palette = paletteLAB;\r\n                break\r\n            case 'cmcic':\r\n                deFunction = clrManip.cmcicMix;\r\n                palette = paletteLAB;\r\n                break\r\n            case 'eucl':\r\n                deFunction = clrManip.euclidian;\r\n                break\r\n            case 'oklab':\r\n                deFunction = clrManip.mOklabDiffMix;\r\n                palette = paletteOKLab;\r\n                break\r\n        }\r\n\r\n        let cntr = 0;\r\n        for (let i = 0; i < imgData.length; i += 4) {\r\n            if (imgData[i + 3] > 127) {\r\n                let origOffset = i / 4;\r\n                let x = origOffset % width;\r\n                let y = origOffset / width | 0; //    \r\n                let matrixThres = M[x % matrixSize][y % matrixSize];\r\n                if (mode === 0) {\r\n                    matrixThres = -matrixThres;\r\n                } else if (mode == 2) {\r\n                    matrixThres -= max / 2;\r\n                }\r\n\r\n                for (let j = 0; j < 3; j++) {\r\n                    imgData[i + j] += matrixThres;\r\n                } //   rgb\r\n\r\n                let color = [imgData[i], imgData[i + 1], imgData[i + 2]];\r\n\r\n                const colorEnc = (color[0] << 16) + (color[1] << 8) + color[2];\r\n                let matchIndex = -1;\r\n                const usedIndex = this.usedColors[colorEnc];\r\n                if (usedIndex !== undefined) {\r\n                    matchIndex = usedIndex;\r\n                } else {\r\n                    matchIndex = clrManip.mapcolor(color, palette, deFunction);\r\n                    //toastr.info(error);\r\n                    this.usedColors[colorEnc] = matchIndex;\r\n                }\r\n                const matchingColor = paletteRGB[matchIndex];\r\n                imgData[i] = matchingColor[0];\r\n                imgData[i + 1] = matchingColor[1];\r\n                imgData[i + 2] = matchingColor[2];\r\n                imgData[i + 3] = 255;\r\n            } else {\r\n                imgData[i] = 0;\r\n                imgData[i + 1] = 0;\r\n                imgData[i + 2] = 0;\r\n                imgData[i + 3] = 0;\r\n            }\r\n            if (cntr++ % 2000 === 0) {\r\n                yield cntr / (imgData.length / 4);\r\n            }\r\n        }\r\n        return imageData;\r\n    }\r\n}\r\n\r\nlet palImageChanged = false;\r\n$('#palFolder').on('click', () => {\r\n    openImage(dataURL => {\r\n        palImageChanged = true;\r\n        $('#palInput').val(t('[file]'));\r\n        $('#palInput').data('source', 'dataURL');\r\n\r\n        palUtils.dataURL = dataURL;\r\n\r\n        converterPreload();\r\n    })\r\n})\r\n\r\n$('#palGOBtn').on('click', () => {\r\n    converterPreload();\r\n});\r\n\r\n$('#palInput').on('keydown', (e) => {\r\n    $('#palInput')[0].dataset.source = \"url\";\r\n    if (e.code === 'Enter') {\r\n        converterPreload();\r\n    } else {\r\n        palImageChanged = true;\r\n    }\r\n});\r\n\r\n$('#ditheringMode').on('change', () => {\r\n    let val = $('#ditheringMode').val();\r\n\r\n    if (val === 'ordered') {\r\n        $('#ordMatrix').removeClass('hidden');\r\n    } else {\r\n        $('#ordMatrix').addClass('hidden');\r\n    }\r\n\r\n    if (val === 'check') {\r\n        $('#thresoldDiv').removeClass('hidden');\r\n    } else {\r\n        $('#thresoldDiv').addClass('hidden');\r\n    }\r\n\r\n    // serpentine mode is only works for error dithering\r\n    if (['f-s', 'stuki', 'sierra', 'sierra-lite'].includes(val)) {\r\n        $('#serpBlock').removeClass('hidden');\r\n    } else {\r\n        $('#serpBlock').addClass('hidden');\r\n    }\r\n});\r\n\r\n$('#palInput').on('paste', (e) => {\r\n    let files = e.originalEvent.clipboardData.items;\r\n    let images = [];\r\n    for (let i = 0; i < files.length; i++) {\r\n        if (files[i].type.startsWith('image')) {\r\n            images.push(files[i].getAsFile());\r\n        };\r\n    }\r\n    if (!images.length) return;\r\n    e.preventDefault();\r\n\r\n    let image = images[0];\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = function (ev) {\r\n        $('#palInput').val(t('[clipboard]'));\r\n        $('#palInput').data('source', 'dataURL');\r\n        const tempImage = new Image();\r\n        tempImage.onload = function () {\r\n            palImageChanged = true;\r\n\r\n            const tempCanvas = document.createElement(\"canvas\");\r\n            tempCanvas.width = tempImage.width;\r\n            tempCanvas.height = tempImage.height;\r\n            const clipCtx = tempCanvas.getContext(\"2d\");\r\n            clipCtx.drawImage(tempImage, 0, 0);\r\n            palUtils.dataURL = tempCanvas.toDataURL(\"image/png\");\r\n            converterPreload();\r\n        };\r\n        tempImage.src = ev.target.result;\r\n    };\r\n    reader.readAsDataURL(image);\r\n});\r\n\r\nlinkNumberRangeInputs($('#resizeXInput')[0], $('#resizeXRange')[0])\r\nlinkNumberRangeInputs($('#resizeYInput')[0], $('#resizeYRange')[0])\r\n\r\nfunction converterPreload(showWarn = true) {\r\n    let path = $('#palInput').val();\r\n    if ($('#palInput').data('source') !== 'dataURL') {\r\n        if (!path.length) {\r\n            return showWarn && toastr.error(t('Choose a image!'));\r\n        }\r\n\r\n        if (utils.isURLValid(path)) {\r\n            palUtils.link = path;\r\n            startPaletteConverter(path);\r\n        } else {\r\n            return showWarn && toastr.error(t('Invalid link!'));\r\n        }\r\n    } else {\r\n        startPaletteConverter(palUtils.dataURL);\r\n    }\r\n}\r\n\r\nfunction startPaletteConverter(url) {\r\n    clearImmediate(palUtils.converterInterval);\r\n\r\n    let tempImg = new Image();\r\n    tempImg.crossOrigin = 'anonymous';\r\n    tempImg.src = url;\r\n\r\n    tempImg.onload = () => {\r\n        let canvas = document.createElement('canvas');\r\n        canvas.width = tempImg.width;\r\n        canvas.height = tempImg.height;\r\n\r\n\r\n        let ctx = canvas.getContext('2d');\r\n        ctx.drawImage(tempImg, 0, 0);\r\n\r\n\r\n        if (palImageChanged) {\r\n            showResizeOptions();\r\n            palImageChanged = false;\r\n            $('#resizeXRange').attr('max', canvas.width * 2);\r\n            $('#resizeYRange').attr('max', canvas.height * 2);\r\n            $('#resizeXInput,#resizeXRange').val(canvas.width);\r\n            $('#resizeYInput,#resizeYRange').val(canvas.height);\r\n            $('#resizeXInput').data('ar', canvas.width / canvas.height);\r\n\r\n            $('#resizeAA').prop('checked', false);\r\n            $('#tryResizePixelArt').prop('checked', false);\r\n        } else {\r\n            let resizeWidth, resizeHeight;\r\n            let withAA = $('#resizeAA').is(':checked');\r\n\r\n            if ($('#tryResizePixelArt').is(':checked')) {\r\n                const { result, pixelSize } = isImagePixelArt(canvas);\r\n                if (!result) {\r\n                    toastr.warning(t('warn.notPixelArt'));\r\n                } else {\r\n                    resizeWidth = canvas.width / pixelSize;\r\n                    resizeHeight = canvas.height / pixelSize;\r\n                    withAA = false;\r\n                }\r\n            }\r\n\r\n            if (!resizeWidth || !resizeHeight) {\r\n                resizeWidth = $('#resizeXInput').val();\r\n                resizeHeight = $('#resizeYInput').val();\r\n            }\r\n\r\n\r\n            canvas = resizeCanvas(canvas, resizeWidth, resizeHeight, withAA);\r\n            ctx = canvas.getContext('2d');\r\n        }\r\n\r\n        tempImg = null;\r\n\r\n        try {\r\n            var imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n        } catch (e) {\r\n            return toastr.error(t('Image is loaded, but pixels can not be shown. Try to load it on Imgur or download->upload from file'))\r\n        }\r\n\r\n        const contrast = +$('#colorAdj').val();\r\n        const brightness = +$('#brightAdj').val();\r\n        imgData = clrManip.adjustGamma(imgData, contrast, brightness);\r\n\r\n        const doNotConvert = $('#doNotConvert').is(':checked');\r\n\r\n        if (doNotConvert) {\r\n            ctx.putImageData(imgData, 0, 0);\r\n\r\n            onDone(canvas, 'palOut',\r\n                () => {\r\n                    toastr.info(t('onDone.didNotConvert'));\r\n                });\r\n            return;\r\n        }\r\n\r\n        palUtils.updatePalette();\r\n\r\n        let convGen; // converterGenerator\r\n        switch ($('#ditheringMode').val()) {\r\n            case 'none':\r\n                convGen = palUtils.errorDithering(imgData);\r\n                break;\r\n            case 'f-s':\r\n                convGen = palUtils.errorDithering(imgData, palUtils.ditherTypes.floydSteinberg);\r\n                //convGen = palUtils.floydSteinberg(imgData, palUtils.ditherTypes.floydSteinberg);\r\n                break;\r\n            case 'stuki':\r\n                convGen = palUtils.errorDithering(imgData, palUtils.ditherTypes.stuki);\r\n                break;\r\n            case 'check':\r\n                convGen = palUtils.checkboardDithering(imgData);\r\n                break;\r\n            case 'sierra':\r\n                convGen = palUtils.errorDithering(imgData, palUtils.ditherTypes.sierraTwo);\r\n                break;\r\n            case 'sierra-lite':\r\n                convGen = palUtils.errorDithering(imgData, palUtils.ditherTypes.sierraLite);\r\n                break;\r\n            case 'ordered':\r\n                var matrix = $('#ordMatrixSelect').val();\r\n                var mode = $('#ordMatrixModeSelect').val();\r\n\r\n                if (mode == 'des') mode = 0;\r\n                else if (mode == 'asc') mode = 1;\r\n                else mode = 2;\r\n\r\n                var custom = false;\r\n                if (matrix.startsWith('c')) {\r\n                    custom = true;\r\n                    matrix = matrix.slice(1);\r\n                }\r\n                convGen = palUtils.orderedDithering(imgData, +matrix, custom, mode);\r\n                break;\r\n            default:\r\n                toastr.warning('O_o');\r\n                return;\r\n        }\r\n\r\n        palUtils.usedColors = [];\r\n\r\n        let startTime = Date.now();\r\n        const progressBar = $('#palLB>.barProgress');\r\n        progressBar.parent().parent().removeClass('opaque');\r\n        palUtils.converterInterval = setImmediate(function rec() {\r\n            let loaded = convGen.next();\r\n\r\n            if (loaded.done) {\r\n                progressBar.parent().parent().addClass('opaque');\r\n                progressBar.css('width', 0);\r\n                ctx.putImageData(imgData, 0, 0);\r\n                onDone(canvas, 'palOut',\r\n                    () => {\r\n                        toastr.info(`${t('Done in')} ${(Date.now() - startTime) / 1000}${t('s.')}`);\r\n                    });\r\n            } else {\r\n                let perc = loaded.value * 100;\r\n                if (perc > 97) perc = 100;\r\n                progressBar.css('width', perc + '%');\r\n                palUtils.converterInterval = setImmediate(rec);\r\n            }\r\n        });\r\n    }\r\n\r\n    tempImg.onerror = () => {\r\n        toastr.error('Unknown image loading error. Maybe CORS, so try to upload on Imgur')\r\n    }\r\n}\r\n\r\n$('#palThresold').on('change', () => {\r\n    palUtils.ditherPalette();\r\n    converterPreload();\r\n});\r\n$('#colorAdj').on('input', (e) => {\r\n    $('#colorAdjLabel').text(e.target.value);\r\n});\r\n$('#resetContrast').on('click', () => {\r\n    $('#colorAdj').val(0);\r\n    $('#colorAdjLabel').text(0);\r\n});\r\n\r\n$('#brightAdj').on('input', (e) => {\r\n    $('#brightAdjLabel').text(e.target.value);\r\n});\r\n$('#resetBrightness').click(() => {\r\n    $('#brightAdj').val(0);\r\n    $('#brightAdjLabel').text(0);\r\n});\r\ndocument.onkeydown = e => {\r\n    if (e.key === 'Enter' && !e.repeat) {\r\n        converterPreload();\r\n    }\r\n}\r\n\r\n// -----------------------------------------------\r\n// -----------------------------------------------\r\n// -----------------------------------------------\r\n// -----------------------------------------------\r\n// -----------------------------------------------\r\n\r\nlet patUtils = {\r\n    patterns: importedPatterns.patterns,\r\n    defaultPattern: importedPatterns.defaultPattern,\r\n    patternSize: Math.sqrt(importedPatterns.patterns[0].length),\r\n\r\n    usedColors: [],\r\n\r\n    patternsCans: [], //       \r\n    generatePatterns() {\r\n        this.patternsCans = [];\r\n        const patternSize = this.patternSize;\r\n        let pattern, ctx, color;\r\n        for (let i = 0; i < paletteRGB.length; i++) {\r\n            let canvas = document.createElement('canvas');\r\n            canvas.width = canvas.height = patternSize;\r\n\r\n            pattern = this.patterns[i % this.patterns.length];\r\n            color = paletteRGB[i];\r\n\r\n            ctx = canvas.getContext('2d');\r\n\r\n            ctx.fillStyle = `rgb(${color.join(',')})`;\r\n\r\n            for (let j = 0; j < pattern.length; j++) {\r\n                if (!pattern[j]) continue;\r\n\r\n                const x = j % patternSize,\r\n                    y = j / patternSize | 0;\r\n\r\n                ctx.fillRect(x, y, 1, 1);\r\n            }\r\n\r\n            this.patternsCans.push(canvas);\r\n        }\r\n    },\r\n    drawPattern(ctx, pattern, startX, startY, color) {\r\n        let s = this.patternSize;\r\n        ctx.fillStyle = `rgb(${color.join(',')})`;\r\n        for (let x = 0; x < s; x++) {\r\n            for (let y = 0; y < s; y++) {\r\n                if (!pattern[x + y * s]) continue\r\n                ctx.fillRect(startX + x, startY + y, 1, 1);\r\n            }\r\n        }\r\n    },\r\n    // todo  \r\n    * patternize(canvas) {\r\n        const ctx = canvas.getContext('2d');\r\n        const {\r\n            data: imgData,\r\n            width, height\r\n        } = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n\r\n        this.generatePatterns();\r\n\r\n        const patternSize = this.patternSize;\r\n        const patternLength = patternSize ** 2;\r\n\r\n        const newWidth = width * patternSize;\r\n        const newHeight = height * patternSize;\r\n\r\n        let newCanvas = document.createElement('canvas');\r\n        newCanvas.width = newWidth;\r\n        newCanvas.height = newHeight;\r\n\r\n        const ctx2 = newCanvas.getContext('2d');\r\n\r\n        // actual palette32 includes opacity, i don't need it\r\n        let palette32 = paletteRGB.map(c => (c[0] << 16) + (c[1] << 8) + c[2])\r\n        let colorMap = new Map();\r\n        palette32.forEach((el, i) => colorMap.set(el, i))\r\n\r\n        let imgX, imgY, absX, absY, color, colId, color32, _i, pattern;\r\n        for (let i = 0; i < imgData.length; i += 4) {\r\n            if (imgData[i + 3] < 127) continue;\r\n\r\n            _i = i / 4;\r\n            imgX = _i % width;\r\n            imgY = _i / width | 0;\r\n\r\n            absX = imgX * patternSize;\r\n            absY = imgY * patternSize;\r\n\r\n            color = [imgData[i], imgData[i + 1], imgData[i + 2], imgData[i + 3]];\r\n            color32 = (color[0] << 16) + (color[1] << 8) + color[2];\r\n\r\n            colId = colorMap.get(color32);\r\n\r\n            pattern = this.patternsCans[colId];\r\n\r\n            if (pattern) {\r\n                ctx2.drawImage(pattern, absX, absY);\r\n            } else {\r\n                this.drawPattern(ctx2, this.defaultPattern, absX, absY, color)\r\n            }\r\n\r\n            if (i % 8000 === 0) {\r\n                yield i / imgData.length\r\n            }\r\n        }\r\n        //newCanvas.getContext('2d').putImageData(newImgData, 0, 0);\r\n\r\n        return newCanvas;\r\n    }\r\n}\r\n\r\n$('#patFolder').on('click', () => {\r\n    openImage(dataURL => {\r\n        $('#patInput').val(t('[file]'));\r\n        $('#patInput').data('source', 'dataURL');\r\n\r\n        patUtils.dataURL = dataURL;\r\n\r\n        patternPreload();\r\n    })\r\n})\r\n\r\n$('#patGOBtn').on('click', () => {\r\n    patternPreload();\r\n});\r\n\r\n$('#patInput').on('keydown', (e) => {\r\n    $('#patInput').data('source', 'url');\r\n    if (e.code === 'Enter') {\r\n        patternPreload();\r\n    }\r\n});\r\n\r\n$('#patInput').on('paste', (e) => {\r\n    let files = e.originalEvent.clipboardData.items;\r\n    let images = [];\r\n    for (let i = 0; i < files.length; i++) {\r\n        if (files[i].type.startsWith('image')) {\r\n            images.push(files[i].getAsFile());\r\n        };\r\n    }\r\n    if (!images.length) return;\r\n    e.preventDefault();\r\n\r\n    let image = images[0];\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = function (ev) {\r\n        $('#patInput').val(t('[clipboard]'));\r\n        $('#patInput').data('source', 'dataURL');\r\n\r\n        const tempImage = new Image();\r\n        tempImage.onload = function () {\r\n            const tempCanvas = document.createElement(\"canvas\");\r\n            tempCanvas.width = tempImage.width;\r\n            tempCanvas.height = tempImage.height;\r\n            const clipCtx = tempCanvas.getContext(\"2d\");\r\n            clipCtx.drawImage(tempImage, 0, 0);\r\n            patUtils.dataURL = tempCanvas.toDataURL(\"image/png\");\r\n            patternPreload();\r\n        };\r\n        tempImage.src = ev.target.result;\r\n    };\r\n    reader.readAsDataURL(image);\r\n})\r\n\r\nfunction patternPreload() {\r\n    let path = $('#patInput').val();\r\n    if ($('#patInput').data('source') !== 'dataURL') {\r\n        if (!path.length) {\r\n            return toastr.error(t('Choose a image!'));\r\n        }\r\n\r\n        if (utils.isURLValid(path) && utils.isURLImage(path)) {\r\n            palUtils.link = path;\r\n            patternatorStart(path);\r\n        } else {\r\n            return toastr.error(t('Invalid link!'));\r\n        }\r\n    } else {\r\n        patternatorStart(patUtils.dataURL);\r\n    }\r\n}\r\n\r\nfunction patternatorStart(url) {\r\n    clearImmediate(patUtils.converterInterval);\r\n\r\n    let tempImg = new Image();\r\n    tempImg.crossOrigin = 'anonymous';\r\n    tempImg.src = url;\r\n\r\n    tempImg.onload = () => {\r\n        let canvas = document.createElement('canvas');\r\n        canvas.width = tempImg.width;\r\n        canvas.height = tempImg.height;\r\n\r\n        if (canvas.width > 800 || canvas.height > 800) {\r\n            //toastr.warning('Image is wider than 800px, this can crash the page');\r\n        }\r\n\r\n        let ctx = canvas.getContext('2d');\r\n        ctx.drawImage(tempImg, 0, 0);\r\n\r\n        try {\r\n            ctx.getImageData(0, 0, 1, 1);\r\n        } catch (e) {\r\n            return toastr.error(t('Image is loaded, but pixels can not be gotten. Try to load it on Imgur or download->upload from file'))\r\n        }\r\n\r\n        toastr.warning(t('If your image is big, go make a tea and watch Doctor Who'));\r\n        let convGen = patUtils.patternize(canvas);\r\n\r\n        let startTime = Date.now();\r\n        patUtils.converterInterval = setImmediate(function rec() {\r\n            let loaded = convGen.next();\r\n\r\n            if (loaded.done) {\r\n                onDone(loaded.value, 'patOut',\r\n                    () => {\r\n                        toastr.info(`${t('Done in')} ${(Date.now() - startTime) / 1000}s.`);\r\n                    });\r\n            } else {\r\n                patUtils.converterInterval = setImmediate(rec);\r\n            }\r\n        });\r\n    }\r\n\r\n    tempImg.onerror = () => {\r\n        toastr.error(t('Unknown image loading error. Maybe CORS, so try to upload on Imgur'))\r\n    }\r\n}\r\n\r\nfunction createImgData(width, height) {\r\n    let tempCanvas = document.createElement('canvas');\r\n\r\n    let newImgData = tempCanvas.getContext('2d').createImageData(width, height);\r\n    tempCanvas = null;\r\n\r\n    return newImgData\r\n}\r\n\r\nasync function copyCanvasToClipboard(canvas) {\r\n    const blob = await new Promise(res => canvas.toBlob(res));\r\n    const item = new ClipboardItem({ \"image/png\": blob });\r\n    navigator.clipboard.write([item]);\r\n}\r\n\r\nasync function copyToClipboard(text) {\r\n    await navigator.clipboard.writeText(text);\r\n}\r\n\r\nfunction downloadCanvas(canvas) {\r\n    const link = document.createElement('a');\r\n    link.download = 'filename.png';\r\n    link.href = canvas.toDataURL()\r\n    link.click();\r\n}\r\n\r\nasync function showUploadPrompt(palettizedCanvas) {\r\n    return new Promise((res, rej) => {\r\n        try {\r\n            const prompt = $('<div class=\"upload-prompt\"></div>');\r\n            const thumbCanvas = document.createElement('canvas');\r\n            const thumbCtx = thumbCanvas.getContext('2d');\r\n\r\n            let thumbWidth, thumbHeight;\r\n            if (palettizedCanvas.width > palettizedCanvas.height) {\r\n                thumbWidth = 50;\r\n                thumbHeight = Math.round((palettizedCanvas.height / palettizedCanvas.width) * 50);\r\n            } else {\r\n                thumbHeight = 50;\r\n                thumbWidth = Math.round((palettizedCanvas.width / palettizedCanvas.height) * 50);\r\n            }\r\n\r\n            thumbCanvas.width = 50;\r\n            thumbCanvas.height = 50;\r\n\r\n            thumbCtx.clearRect(0, 0, 50, 50);\r\n            thumbCtx.drawImage(\r\n                palettizedCanvas,\r\n                (50 - thumbWidth) / 2,\r\n                (50 - thumbHeight) / 2,\r\n                thumbWidth,\r\n                thumbHeight\r\n            );\r\n\r\n            const thumbImg = $('<img>').attr('src', thumbCanvas.toDataURL());\r\n\r\n\r\n            const namesSelect = $(`<select style=\"margin-right: 3px;\"/>`)\r\n                .addClass('template-names');\r\n\r\n            const nameInput = $(`<input type=\"text\" placeholder=\"${t('template_name_desc')}\">`)\r\n                .addClass('template-name');\r\n\r\n            const namesContainer = $('<div/>');\r\n            namesContainer.append(namesSelect, nameInput);\r\n\r\n            const patternContainer = $('<div class=\"checkbox-container\"></div>');\r\n            const patternCheckbox = $('<input type=\"checkbox\" id=\"convertToPattern\" checked>')\r\n                .addClass('pattern-checkbox');\r\n            const patternLabel = $(`<label for=\"convertToPattern\">${t('template_patternize')}</label>`);\r\n            patternContainer.append(patternCheckbox, patternLabel);\r\n\r\n            const publicContainer = $('<div class=\"checkbox-container\"></div>');\r\n            const publicCheckbox = $('<input type=\"checkbox\" id=\"isPublicTemplate\">')\r\n                .addClass('public-checkbox');\r\n            const publicLabel = $(`<label for=\"isPublicTemplate\">${t('template_is_public')}</label>`);\r\n            publicContainer.append(publicCheckbox, publicLabel);\r\n\r\n            const confirmButton = $(`<button>${t('upload_to_goroxels')}</button>`).addClass('confirm-upload');\r\n            prompt.append(thumbImg, namesContainer, patternContainer, publicContainer, confirmButton);\r\n            $('body').append(prompt);\r\n\r\n            async function onclick() {\r\n                const templateName = nameInput.val().trim();\r\n                if (templateName.length < 3 || templateName.length > 32) {\r\n                    toastr.error(t('template_name_shit'));\r\n                    return;\r\n                }\r\n\r\n                try {\r\n                    const formData = new FormData();\r\n                    const thumbBlob = await new Promise((resolve, reject) => {\r\n                        thumbCanvas.toBlob(b => b ? resolve(b) : reject(new Error(\"Failed to create thumbnail\")), 'image/png');\r\n                    });\r\n                    formData.append('thumb', thumbBlob, 'thumbnail.png');\r\n\r\n                    let patternCanvas = palettizedCanvas, patternized = false;\r\n                    if (patternCheckbox.is(':checked')) {\r\n                        if (!patUtils || typeof patUtils.patternize !== \"function\") {\r\n                            throw new Error(\"Patternize utility not available\");\r\n                        }\r\n\r\n                        let toast = toastr.info(`(0%)`, \"PATTERN\", {\r\n                            timeOut: 0,\r\n                            extendedTimeOut: 0,\r\n                            closeButton: true,\r\n                            tapToDismiss: false\r\n                        });\r\n\r\n                        patternized = true;\r\n\r\n                        const patternGen = patUtils.patternize(palettizedCanvas);\r\n                        let patternResult;\r\n                        while (!(patternResult = patternGen.next()).done) {\r\n                            await sleep(0);\r\n                            if (toast && toast.find('.toast-message').length) {\r\n                                toast.find('.toast-message').text(`${(patternResult.value * 100) | 0}%`);\r\n                            }\r\n                        }\r\n                        toast.remove();\r\n\r\n                        patternCanvas = patternResult.value;\r\n                    }\r\n\r\n                    const patternBlob = await new Promise((resolve, reject) => {\r\n                        patternCanvas.toBlob(b => b ? resolve(b) : reject(new Error(\"Failed to create pattern\")), 'image/png');\r\n                    });\r\n                    formData.append('pattern', patternBlob, 'pattern.png');\r\n\r\n                    const isPublic = publicCheckbox.is(':checked');\r\n                    const origWidth = patternized ? palettizedCanvas.width : '';\r\n                    const url = `/api/template/add?name=${encodeURIComponent(templateName)}&public=${isPublic}&width=${origWidth}`;\r\n\r\n                    const response = await fetch(url, {\r\n                        method: 'POST',\r\n                        body: formData,\r\n                        credentials: 'include'\r\n                    });\r\n\r\n                    if (!response.ok) throw new Error(`HTTP ${response.status}`);\r\n                    const result = await response.json();\r\n\r\n                    if (result.errors) {\r\n                        processApiErrors(result.errors);\r\n                        return;\r\n                    }\r\n\r\n                    toastr.success('Template uploaded successfully!');\r\n                    prompt.remove();\r\n                    res(result);\r\n\r\n                } catch (error) {\r\n                    toastr.error('Upload failed: ' + error.message);\r\n                    rej(error);\r\n                }\r\n            }\r\n\r\n            confirmButton.on('click', onclick);\r\n\r\n            fetch(`/api/template/list?self=1`, {\r\n                credentials: 'include'\r\n            }).then(async response => {\r\n                const result = await response.json();\r\n\r\n                if (result.errors) {\r\n                    processApiErrors(result.errors);\r\n                    return;\r\n                }\r\n\r\n                const templates = result;\r\n\r\n                for(const template of templates){\r\n                    const option = $(`<option value=\"${template.name}\">${template.name}</option>`);\r\n                    namesSelect.append(option);\r\n                }\r\n\r\n                namesSelect.on('change', () => {\r\n                    nameInput.val(namesSelect.val());\r\n                })\r\n            }).catch(toastr.error);\r\n\r\n        } catch (err) {\r\n            rej(err);\r\n        }\r\n    });\r\n}\r\n\r\n\r\nfunction onDone(canvas, convClass, callback) {\r\n    $(`#${convClass} > *`).remove();\r\n\r\n    canvas.className = 'outputImg';\r\n\r\n    const zoomChecked = $('#autoZoom')[0].checked;\r\n\r\n    let newImg = document.createElement('img');\r\n    newImg.className = 'outputImg' + (zoomChecked ? ' zoomed' : '');\r\n    newImg.src = canvas.toDataURL();\r\n    if (!zoomChecked) newImg.style.width = Math.min(canvas.width, parseInt($(`#${convClass}`).css('width')) / 2) + 'px';\r\n\r\n    $(`#${convClass}`)[0].appendChild(newImg);\r\n\r\n    $(`#${convClass}`).append(\r\n        `<div class=\"afterImage\">\r\n            <div class=\"line\"><button class=\"uploadButton\"> ${t('Upload on imgur!')}</button></div>\r\n            ${convClass === 'palOut' ? `<div class=\"line\"><button class=\"uploadGrokselsButton\">${t('upload_to_goroxels')}</button></div>` : ''}\r\n            <div class=\"line\"><span class=\"uploadedUrl\"></span></div>\r\n            ${convClass === 'patOut' ? `<div class=\"line\">${t('Final image size:')} ${canvas.width}x${canvas.height}</div>` : ''}\r\n            <div class=\"line\"><button class=\"copyToClipButton\">${t('copy_canvas_btn')}</button></div>\r\n            <div class=\"line\"><button class=\"downloadButton\">${t('download_canvas_btn')}</button></div>\r\n        </div>`\r\n    );\r\n    imgZoom.createZoomHandler($(`#${convClass}`).children(0)[0]);\r\n\r\n    $(`#${convClass} .uploadButton`).one('click', async () => {\r\n        $(`#${convClass} .uploadedUrl`).text('Uploading...');\r\n\r\n        try {\r\n            const link = await upload(canvas.toDataURL().split(\",\")[1]);\r\n            const isPNG = link.endsWith('png');\r\n            if (!isPNG) {\r\n                toastr.warn('JPEG!!!');\r\n                throw new Error;\r\n            }\r\n\r\n            $(`#${convClass} .uploadedUrl`).html(\r\n                `<span style=\"color:rgb(0, 190, 0)\">${link}${convClass === 'patOut' ? `?width=${canvas.width / 7}` : ''}</span>`\r\n            )\r\n        } catch {\r\n            const text = t('Imgur upload failed, try upload manually');\r\n            let html;\r\n            if (convClass === 'patOut') {\r\n                html = `${text}<br><input id=\"patternLinkGenerator\" placeholder=\"${t('insert_link_here')}\">&nbsp;<span id=\"patternLink\"></span>`;\r\n                setTimeout(() => {\r\n                    const span = $('#patternLink');\r\n                    $('#patternLinkGenerator').on('input', e => {\r\n                        const input = e.target;\r\n                        let link = input.value;\r\n                        input.style.backgroundColor = '';\r\n\r\n                        if (link.includes('imgur') && !link.endsWith('.png')) {\r\n                            if (link.includes('/a/')) {\r\n                                input.style.backgroundColor = 'red';\r\n                                return span.text(t('imgur_album_link'))\r\n                            }\r\n\r\n                            link += '.png';\r\n                        }\r\n\r\n                        link += `?width=${canvas.width / 7}`;\r\n\r\n                        span.text(link);\r\n                    })\r\n                })\r\n            } else {\r\n                html = text;\r\n            }\r\n\r\n            $(`#${convClass} .uploadedUrl`).html(html)\r\n        }\r\n    });\r\n\r\n    $(`#${convClass} .copyToClipButton`).one('click', () => {\r\n        copyCanvasToClipboard(canvas)\r\n            .then(() => toastr.success(t('img_copied_success')));\r\n    });\r\n\r\n    $(`#${convClass} .downloadButton`).one('click', () => {\r\n        downloadCanvas(canvas)\r\n    });\r\n\r\n    if (convClass === 'palOut') {\r\n        $(`#${convClass} .uploadGrokselsButton`).one('click', () => {\r\n            showUploadPrompt(canvas).then(template => {\r\n                if (template === null || template === undefined) {\r\n                    return;\r\n                }\r\n                const filePath = template.file;\r\n                $(`#${convClass} .uploadedUrl`).text(`GRX/?f=${filePath}&w=${canvas.width}`);\r\n            });\r\n        });\r\n    }\r\n\r\n    $(`#${convClass} .uploadedUrl`).on('click', (e) => {\r\n        copyToClipboard(e.target.innerText).then(() => toastr.success(t('conv.url_copied_success')));\r\n    });\r\n\r\n    callback();\r\n}\r\n\r\n$('#aspectRatioLock').on('click', e => {\r\n    const btn = e.target;\r\n    if (btn.classList.contains('active')) {\r\n        btn.classList.remove('active');\r\n        resizeKeepAspectRatio = false;\r\n    } else {\r\n        btn.classList.add('active');\r\n        resizeKeepAspectRatio = true;\r\n    }\r\n})\r\n\r\nfunction showResizeOptions() {\r\n    $('#resizeXInput,#resizeYInput').parent().removeClass('hidden');\r\n}\r\n\r\n// listeners to keep aspect ratio\r\n$('#resizeXInput,#resizeXRange').on('input', e => {\r\n    // to prevent infinite cycle of input events\r\n    if (!e.originalEvent?.isTrusted || !resizeKeepAspectRatio) return;\r\n    const newWidth = e.target.value\r\n\r\n    const ar = parseFloat($('#resizeXInput').data('ar'));\r\n    const newHeight = Math.floor(newWidth / ar);\r\n    $('#resizeYInput,#resizeYRange').val(newHeight);\r\n});\r\n$('#resizeYInput,#resizeYRange').on('input', e => {\r\n    if (!e.originalEvent?.isTrusted || !resizeKeepAspectRatio) return;\r\n    const newHeight = e.target.value\r\n\r\n    const ar = parseFloat($('#resizeXInput').data('ar'));\r\n    const newWidth = Math.floor(newHeight * ar);\r\n    $('#resizeXInput,#resizeXRange').val(newWidth);\r\n});\r\n\r\n\r\n\r\nlet palName;\r\nloadGamePalettes().then(() => {\r\n    palName = 'game.main'\r\n}).catch(() => {\r\n    toastr.error(t('Failed to load game palettes!'));\r\n    palName = 'pixelplanet'\r\n}).finally(() => {\r\n    applyPalettes(palName);\r\n    paletteRGB = palettes[palName];\r\n\r\n    palUtils.updatePalette();\r\n    visualizePalette();\r\n});","// https://stackoverflow.com/questions/3582671/how-to-open-a-local-disk-file-with-javascript\r\n// copied and edited\r\n\r\nfunction clickElem(elem) {\r\n    // Thx user1601638 on Stack Overflow (6/6/2018 - https://stackoverflow.com/questions/13405129/javascript-create-and-save-file )\r\n    var eventMouse = document.createEvent(\"MouseEvents\")\r\n    eventMouse.initMouseEvent(\"click\", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null)\r\n    elem.dispatchEvent(eventMouse)\r\n}\r\n\r\nfunction openImage(callback) {\r\n    const readFile = function (e) {\r\n        document.body.removeChild(fileInput);\r\n\r\n        var file = e.target.files[0];\r\n        if (!file) return;\r\n\r\n        var reader = new FileReader();\r\n        reader.onload = function () {\r\n            callback(reader.result);\r\n        }\r\n        reader.readAsDataURL(file);\r\n    }\r\n    const fileInput = document.createElement(\"input\");\r\n    fileInput.type = 'file';\r\n    fileInput.accept = 'image/png';\r\n    fileInput.style.display = 'none';\r\n    fileInput.onchange = readFile;\r\n    document.body.appendChild(fileInput);\r\n    clickElem(fileInput);\r\n}\r\n\r\nexport default openImage","let palettes = {\r\n    pixelzone: [\r\n        [38, 38, 38],\r\n        [0, 0, 0],\r\n        [128, 128, 128],\r\n        [255, 255, 255],\r\n        [153, 98, 61],\r\n        [255, 163, 200],\r\n        [207, 115, 230],\r\n        [128, 0, 128],\r\n        [229, 0, 0],\r\n        [229, 137, 0],\r\n        [229, 229, 0],\r\n        [150, 230, 70],\r\n        [0, 190, 0],\r\n        [0, 230, 230],\r\n        [0, 136, 204],\r\n        [0, 0, 230]\r\n    ],\r\n    pixelplanet: [\r\n        [255, 255, 255],\r\n        [228, 228, 228],\r\n        [196, 196, 196],\r\n        [136, 136, 136],\r\n        [78, 78, 78],\r\n        [0, 0, 0],\r\n        [244, 179, 174],\r\n        [255, 167, 209],\r\n        [255, 84, 178],\r\n        [255, 101, 101],\r\n        [229, 0, 0],\r\n        [154, 0, 0],\r\n        [254, 164, 96],\r\n        [229, 149, 0],\r\n        [160, 106, 66],\r\n        [96, 64, 40],\r\n        [245, 223, 176],\r\n        [255, 248, 137],\r\n        [229, 217, 0],\r\n        [148, 224, 68],\r\n        [2, 190, 1],\r\n        [104, 131, 56],\r\n        [0, 101, 19],\r\n        [202, 227, 255],\r\n        [0, 211, 221],\r\n        [0, 131, 199],\r\n        [0, 0, 234],\r\n        [25, 25, 115],\r\n        [207, 110, 228],\r\n        [130, 0, 128],\r\n    ],\r\n    pixelplace: [\r\n        [255, 255, 255],\r\n        [196, 196, 196],\r\n        [136, 136, 136],\r\n        [34, 34, 34],\r\n        [255, 167, 209],\r\n        [229, 0, 0],\r\n        [229, 149, 0],\r\n        [160, 106, 66],\r\n        [229, 217, 0],\r\n        [148, 224, 68],\r\n        [2, 190, 1],\r\n        [0, 211, 221],\r\n        [0, 131, 199],\r\n        [0, 0, 234],\r\n        [207, 110, 228],\r\n        [130, 0, 128],\r\n        [255, 223, 204],\r\n        [85, 85, 85],\r\n        [0, 0, 0],\r\n        [236, 8, 236],\r\n        [107, 0, 0],\r\n        [255, 57, 4],\r\n        [99, 60, 31],\r\n        [81, 225, 25],\r\n        [0, 102, 0],\r\n        [54, 186, 255],\r\n        [4, 75, 255]\r\n    ],\r\n    wplaceFree: [[0,0,0],[60,60,60],[120,120,120],[210,210,210],[255,255,255],[96,0,24],[237,28,36],[255,127,39],[246,170,9],[249,221,59],[255,250,188],[14,185,104],[19,230,123],[135,255,94],[12,129,110],[16,174,166],[19,225,190],[40,80,158],[64,147,228],[96,247,242],[107,80,246],[153,177,251],[120,12,153],[170,56,185],[224,159,249],[203,0,122],[236,31,128],[243,141,169],[104,70,52],[149,104,42],[248,178,119]],\r\n    wplacePremium: [[0,0,0],[60,60,60],[120,120,120],[210,210,210],[255,255,255],[96,0,24],[237,28,36],[255,127,39],[246,170,9],[249,221,59],[255,250,188],[14,185,104],[19,230,123],[135,255,94],[12,129,110],[16,174,166],[19,225,190],[40,80,158],[64,147,228],[96,247,242],[107,80,246],[153,177,251],[120,12,153],[170,56,185],[224,159,249],[203,0,122],[236,31,128],[243,141,169],[104,70,52],[149,104,42],[248,178,119],[170,170,170],[165,14,30],[250,128,114],[228,92,26],[214,181,148],[156,132,49],[197,173,49],[232,212,95],[74,107,58],[90,148,74],[132,197,115],[15,121,159],[187,250,242],[125,199,255],[77,49,184],[74,66,132],[122,113,196],[181,174,241],[219,164,99],[209,128,81],[255,197,165],[155,82,73],[209,128,120],[250,182,164],[123,99,82],[156,132,107],[51,57,65],[109,117,141],[179,185,209],[109,100,63],[148,140,107],[205,197,158]]\r\n};\r\n\r\nasync function loadConfig(){\r\n    const resp = await fetch('/config.json');\r\n    return await resp.json();\r\n}\r\n\r\nexport async function loadGamePalettes(){\r\n    try{\r\n        const config = await loadConfig();\r\n        config.canvases.forEach(canvas => {\r\n            palettes['game.' + canvas.name] = canvas.palette;\r\n        });\r\n    }catch(e){\r\n        toastr.warning('Failed to load game palettes')\r\n    }\r\n}\r\n\r\n\r\nexport default palettes","export function resizeCanvas(canvas, width, height, antiAliasing = true) {\r\n    width = Math.max(0, Math.floor(Number(width) || 0));\r\n    height = Math.max(0, Math.floor(Number(height) || 0));\r\n    const dpr = window.devicePixelRatio || 1;\r\n    const targetRatio = antiAliasing ? dpr : 1;\r\n\r\n    const prevW = canvas.width;\r\n    const prevH = canvas.height;\r\n\r\n    const copyCanvas = document.createElement(\"canvas\");\r\n    copyCanvas.width = Math.max(1, prevW);\r\n    copyCanvas.height = Math.max(1, prevH);\r\n    const copyCtx = copyCanvas.getContext(\"2d\");\r\n    if (prevW && prevH) {\r\n        copyCtx.drawImage(canvas, 0, 0);\r\n    }\r\n\r\n    canvas.style.width = width + \"px\";\r\n    canvas.style.height = height + \"px\";\r\n    canvas.width = Math.max(1, Math.round(width * targetRatio));\r\n    canvas.height = Math.max(1, Math.round(height * targetRatio));\r\n\r\n    const ctx = canvas.getContext(\"2d\");\r\n    ctx.imageSmoothingEnabled = !!antiAliasing;\r\n    if (\"imageSmoothingQuality\" in ctx) {\r\n        ctx.imageSmoothingQuality = antiAliasing ? \"high\" : \"low\";\r\n    }\r\n    ctx.setTransform(targetRatio, 0, 0, targetRatio, 0, 0);\r\n\r\n    if (prevW && prevH) {\r\n        ctx.drawImage(copyCanvas, 0, 0, copyCanvas.width, copyCanvas.height,\r\n            0, 0, width, height);\r\n    }\r\n    return ctx.canvas;\r\n}\r\n\r\n// searches for pixel chunks and automatically\r\n// determines them zoom\r\nexport function isImagePixelArt(canvas) {\r\n    const ctx = canvas.getContext(\"2d\");\r\n    const img = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n    const d = img.data;\r\n\r\n    const maxSize = 10;\r\n    let supposedSize = 0;\r\n    let confirms = 0;\r\n    const maxBound = Math.min(img.width, img.height);\r\n\r\n    let curSize = 0;\r\n    let lastSize = 0;\r\n    let lastSizeCombos = 0;\r\n    let lastCol = -1;\r\n\r\n    let result = false;\r\n    let pixelSize = 1;\r\n\r\n    const encodeClr = (r, g, b) => (r << 16) | (g << 8) | b;\r\n\r\n    for (let diagonale = 0; diagonale < maxBound; diagonale++) {\r\n        const idx = (diagonale + diagonale * img.width) * 4;\r\n        const curCol = encodeClr(d[idx], d[idx + 1], d[idx + 2]);\r\n\r\n        curSize += 1;\r\n\r\n        if (curCol !== lastCol) {\r\n            lastCol = curCol;\r\n\r\n            if (curSize === lastSize && lastSize > 0) {\r\n                lastSizeCombos++;\r\n\r\n                if (lastSizeCombos >= 1) {\r\n                    if (confirms > 0) {\r\n                        if (confirms >= 1) {\r\n                            result = true;\r\n                            pixelSize = supposedSize;\r\n                            return { result, pixelSize };\r\n                        } else {\r\n                            const div = img.width % supposedSize;\r\n                            if (supposedSize !== lastSize || div !== 0) {\r\n                                return { result: false, pixelSize: 1 };\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    lastSizeCombos = 0;\r\n                    confirms++;\r\n                    supposedSize = lastSize;\r\n                    lastSize = 0;\r\n                }\r\n            } else {\r\n                if (\r\n                    curSize < maxSize &&\r\n                    curSize > 1 &&\r\n                    (curSize < lastSize * 2 || lastSize === 0)\r\n                ) {\r\n                    lastSize = curSize;\r\n                }\r\n                if (lastSize && curSize === 1) {\r\n                    return { result: false, pixelSize: 1 };\r\n                }\r\n            }\r\n\r\n            curSize = 0;\r\n        }\r\n    }\r\n\r\n    return { result: false, pixelSize: 1 };\r\n}\r\n","(function (global, undefined) {\r\n    \"use strict\";\r\n\r\n    if (global.setImmediate) {\r\n        return;\r\n    }\r\n\r\n    var nextHandle = 1; // Spec says greater than zero\r\n    var tasksByHandle = {};\r\n    var currentlyRunningATask = false;\r\n    var doc = global.document;\r\n    var registerImmediate;\r\n\r\n    function setImmediate(callback) {\r\n      // Callback can either be a function or a string\r\n      if (typeof callback !== \"function\") {\r\n        callback = new Function(\"\" + callback);\r\n      }\r\n      // Copy function arguments\r\n      var args = new Array(arguments.length - 1);\r\n      for (var i = 0; i < args.length; i++) {\r\n          args[i] = arguments[i + 1];\r\n      }\r\n      // Store and register the task\r\n      var task = { callback: callback, args: args };\r\n      tasksByHandle[nextHandle] = task;\r\n      registerImmediate(nextHandle);\r\n      return nextHandle++;\r\n    }\r\n\r\n    function clearImmediate(handle) {\r\n        delete tasksByHandle[handle];\r\n    }\r\n\r\n    function run(task) {\r\n        var callback = task.callback;\r\n        var args = task.args;\r\n        switch (args.length) {\r\n        case 0:\r\n            callback();\r\n            break;\r\n        case 1:\r\n            callback(args[0]);\r\n            break;\r\n        case 2:\r\n            callback(args[0], args[1]);\r\n            break;\r\n        case 3:\r\n            callback(args[0], args[1], args[2]);\r\n            break;\r\n        default:\r\n            callback.apply(undefined, args);\r\n            break;\r\n        }\r\n    }\r\n\r\n    function runIfPresent(handle) {\r\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\r\n        // So if we're currently running a task, we'll need to delay this invocation.\r\n        if (currentlyRunningATask) {\r\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\r\n            // \"too much recursion\" error.\r\n            setTimeout(runIfPresent, 0, handle);\r\n        } else {\r\n            var task = tasksByHandle[handle];\r\n            if (task) {\r\n                currentlyRunningATask = true;\r\n                try {\r\n                    run(task);\r\n                } finally {\r\n                    clearImmediate(handle);\r\n                    currentlyRunningATask = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function installNextTickImplementation() {\r\n        registerImmediate = function(handle) {\r\n            process.nextTick(function () { runIfPresent(handle); });\r\n        };\r\n    }\r\n\r\n    function canUsePostMessage() {\r\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\r\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\r\n        if (global.postMessage && !global.importScripts) {\r\n            var postMessageIsAsynchronous = true;\r\n            var oldOnMessage = global.onmessage;\r\n            global.onmessage = function() {\r\n                postMessageIsAsynchronous = false;\r\n            };\r\n            global.postMessage(\"\", \"*\");\r\n            global.onmessage = oldOnMessage;\r\n            return postMessageIsAsynchronous;\r\n        }\r\n    }\r\n\r\n    function installPostMessageImplementation() {\r\n        // Installs an event handler on `global` for the `message` event: see\r\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\r\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\r\n\r\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\r\n        var onGlobalMessage = function(event) {\r\n            if (event.source === global &&\r\n                typeof event.data === \"string\" &&\r\n                event.data.indexOf(messagePrefix) === 0) {\r\n                runIfPresent(+event.data.slice(messagePrefix.length));\r\n            }\r\n        };\r\n\r\n        if (global.addEventListener) {\r\n            global.addEventListener(\"message\", onGlobalMessage, false);\r\n        } else {\r\n            global.attachEvent(\"onmessage\", onGlobalMessage);\r\n        }\r\n\r\n        registerImmediate = function(handle) {\r\n            global.postMessage(messagePrefix + handle, \"*\");\r\n        };\r\n    }\r\n\r\n    function installMessageChannelImplementation() {\r\n        var channel = new MessageChannel();\r\n        channel.port1.onmessage = function(event) {\r\n            var handle = event.data;\r\n            runIfPresent(handle);\r\n        };\r\n\r\n        registerImmediate = function(handle) {\r\n            channel.port2.postMessage(handle);\r\n        };\r\n    }\r\n\r\n    function installReadyStateChangeImplementation() {\r\n        var html = doc.documentElement;\r\n        registerImmediate = function(handle) {\r\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\r\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\r\n            var script = doc.createElement(\"script\");\r\n            script.onreadystatechange = function () {\r\n                runIfPresent(handle);\r\n                script.onreadystatechange = null;\r\n                html.removeChild(script);\r\n                script = null;\r\n            };\r\n            html.appendChild(script);\r\n        };\r\n    }\r\n\r\n    function installSetTimeoutImplementation() {\r\n        registerImmediate = function(handle) {\r\n            setTimeout(runIfPresent, 0, handle);\r\n        };\r\n    }\r\n\r\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\r\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\r\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\r\n\r\n    // Don't get fooled by e.g. browserify environments.\r\n    if ({}.toString.call(global.process) === \"[object process]\") {\r\n        // For Node.js before 0.9\r\n        installNextTickImplementation();\r\n\r\n    } else if (canUsePostMessage()) {\r\n        // For non-IE10 modern browsers\r\n        installPostMessageImplementation();\r\n\r\n    } else if (global.MessageChannel) {\r\n        // For web workers, where supported\r\n        installMessageChannelImplementation();\r\n\r\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\r\n        // For IE 68\r\n        installReadyStateChangeImplementation();\r\n\r\n    } else {\r\n        // For older browsers\r\n        installSetTimeoutImplementation();\r\n    }\r\n\r\n    attachTo.setImmediate = setImmediate;\r\n    attachTo.clearImmediate = clearImmediate;\r\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \".\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"converters\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkgoroxels_client\"] = self[\"webpackChunkgoroxels_client\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendors\",\"penis\"], () => (__webpack_require__(\"./src/js/convert/main.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":[],"sourceRoot":""}